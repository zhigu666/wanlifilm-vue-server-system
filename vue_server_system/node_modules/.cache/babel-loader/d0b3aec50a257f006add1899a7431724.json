{"remainingRequest":"D:\\vue_workspace\\vue_server_system\\node_modules\\babel-loader\\lib\\index.js!D:\\vue_workspace\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\vue_workspace\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue_workspace\\vue_server_system\\src\\components\\Tabs.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue_workspace\\vue_server_system\\src\\components\\Tabs.vue","mtime":1681031414070},{"path":"D:\\vue_workspace\\vue_server_system\\babel.config.js","mtime":1679550448295},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVGFicycsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7fTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBlZGl0YWJsZVRhYnM6IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5tZW51LmVkaXRhYmxlVGFiczsKICAgICAgfSwKICAgICAgc2V0KHZhbCkgewogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLm1lbnUuZWRpdGFibGVUYWJzID0gdmFsOwogICAgICB9CiAgICB9LAogICAgZWRpdGFibGVUYWJzVmFsdWU6IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5tZW51LmVkaXRhYmxlVGFic1ZhbHVlOwogICAgICB9LAogICAgICBzZXQodmFsKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUubWVudS5lZGl0YWJsZVRhYnNWYWx1ZSA9IHZhbDsKICAgICAgfQogICAgfQogIH0sCiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6IHt9LAogIG1ldGhvZHM6IHsKICAgIGNsaWNrVGFiKHRhcmdldCkgewogICAgICAvL+iPnOWNlW5hbWXmmK/nlLHot6/nlLHlrojljavliJvlu7rliqjmgIHot6/nlLHml7bmjIflrprnmoQgICAgbWVudS5uYW1lPei3r+eUsemFjee9ruWvueixoXJvdXRlLm5hbWU9VGFiLm5hbWUKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6IHRhcmdldC5uYW1lCiAgICAgIH0pOwogICAgfSwKICAgIC8v6YCJ6aG55Y2h5Yig6ZmkCiAgICByZW1vdmVUYWIodGFyZ2V0KSB7CiAgICAgIGNvbnNvbGUubG9nKHRhcmdldCk7IC8v5b2T5YmN6YCJ6aG55Y2h55qEbmFtZeWxnuaAp+WAvAogICAgICBsZXQgdGFic0FycmF5ID0gdGhpcy5lZGl0YWJsZVRhYnM7IC8v6I635b6X5omA5pyJ5pWw57uE5Lit55qE6YCJ6aG55Y2hCiAgICAgIGxldCBhY3RpdmVOYW1lID0gdGhpcy5lZGl0YWJsZVRhYnNWYWx1ZTsgLy/ojrflvpfmraPmv4DmtLvnmoTpgInpobnljaFuYW1lCiAgICAgIGlmICh0YXJnZXQgPT09ICdJbmRleCcpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHRhcmdldCA9PT0gYWN0aXZlTmFtZSkgewogICAgICAgIHRhYnNBcnJheS5mb3JFYWNoKCh0YWJJdGVtLCBpbmRleCkgPT4gewogICAgICAgICAgaWYgKHRhYkl0ZW0ubmFtZSA9PT0gdGFyZ2V0KSB7CiAgICAgICAgICAgIGxldCBuZXh0VGFiID0gdGFic0FycmF5W2luZGV4ICsgMV0gfHwgdGFic0FycmF5W2luZGV4IC0gMV07CiAgICAgICAgICAgIGlmIChuZXh0VGFiKSB7CiAgICAgICAgICAgICAgYWN0aXZlTmFtZSA9IG5leHRUYWIubmFtZTsgLy/lsIbkuIvkuIDkuKrpgInpobnljaHotYvlgLznu5lhY3RpdmUKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIC8v5bCG5LiL5LiA5Liq6YCJ6aG55Y2h6LWL5YC857uZdnVleOS4rQogICAgICB0aGlzLmVkaXRhYmxlVGFic1ZhbHVlID0gYWN0aXZlTmFtZTsKICAgICAgLy/ku47njrDmnInmlbDnu4TkuK3np7vpmaTpgInpobnljaEKICAgICAgLy9maWx0ZXLlj6rkv53nlZnmnaHku7bnrKblkIjnmoTmlbDmja4KICAgICAgdGhpcy5lZGl0YWJsZVRhYnMgPSB0YWJzQXJyYXkuZmlsdGVyKHRhYiA9PiB0YWIubmFtZSAhPT0gdGFyZ2V0KTsKCiAgICAgIC8vdG9kbzrmv4DmtLvnmoTpu5jorqTpgInpobnljaHmlLnlj5jvvIzpobXpnaLlhoXlrrnkuZ/opoHmlLnlj5gg6K6p6Lev55Sx6Lez6L2s6Iez56e76Zmk6YCJ6aG55Y2h5LmL5ZCO55uu5YmN5r+A5rS75ZCm6YCJ6aG55Y2h57uE5Lu255WM6Z2iCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiBhY3RpdmVOYW1lCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["name","data","computed","editableTabs","get","$store","state","menu","set","val","editableTabsValue","components","props","methods","clickTab","target","$router","push","removeTab","console","log","tabsArray","activeName","forEach","tabItem","index","nextTab","filter","tab"],"sources":["src/components/Tabs.vue"],"sourcesContent":["<template>\r\n<el-tabs type=\"border-card\" closable @tab-remove=\"removeTab\" v-model=\"editableTabsValue\" @tab-click=\"clickTab\">\r\n  <el-tab-pane v-for=\"(item,index) in editableTabs\" :key=\"item.name\" :label=\"item.title\" :name=\"item.name\">\r\n    <span slot=\"label\" ><i :class=\"item.icon\"></i>{{item.title}}</span>\r\n    <router-view></router-view>\r\n  </el-tab-pane>\r\n</el-tabs>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name:'Tabs',\r\n  data() {\r\n    return {}\r\n  },\r\n  computed:{\r\n    editableTabs:{\r\n      get(){\r\n        return this.$store.state.menu.editableTabs\r\n      },\r\n      set(val){\r\n        this.$store.state.menu.editableTabs=val\r\n      },\r\n    },\r\n    editableTabsValue:{\r\n      get(){\r\n        return this.$store.state.menu.editableTabsValue\r\n      },\r\n      set(val){\r\n        this.$store.state.menu.editableTabsValue=val\r\n      },\r\n    }\r\n\r\n  },\r\n  components: {},\r\n  props: {},\r\n  methods: {\r\n    clickTab(target){\r\n      //菜单name是由路由守卫创建动态路由时指定的    menu.name=路由配置对象route.name=Tab.name\r\n      this.$router.push({name:target.name})\r\n    },\r\n    //选项卡删除\r\n    removeTab(target){\r\n      console.log(target)//当前选项卡的name属性值\r\n      let tabsArray=this.editableTabs;//获得所有数组中的选项卡\r\n      let activeName=this.editableTabsValue//获得正激活的选项卡name\r\n      if(target==='Index'){\r\n        return\r\n      }\r\n      if (target===activeName){\r\n        tabsArray.forEach((tabItem,index)=>{\r\n          if(tabItem.name===target){\r\n            let nextTab=tabsArray[index+1]||tabsArray[index-1]\r\n            if(nextTab){\r\n              activeName=nextTab.name//将下一个选项卡赋值给active\r\n            }\r\n          }\r\n        });\r\n      }\r\n      //将下一个选项卡赋值给vuex中\r\n      this.editableTabsValue=activeName\r\n      //从现有数组中移除选项卡\r\n      //filter只保留条件符合的数据\r\n      this.editableTabs= tabsArray.filter(tab=>tab.name!==target)\r\n\r\n      //todo:激活的默认选项卡改变，页面内容也要改变 让路由跳转至移除选项卡之后目前激活否选项卡组件界面\r\n      this.$router.push({name:activeName})\r\n    }\r\n  }\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.el-tabs{\r\n  height: 200%;\r\n}\r\n</style>"],"mappings":";AAUA;EACAA,IAAA;EACAC,KAAA;IACA;EACA;EACAC,QAAA;IACAC,YAAA;MACAC,IAAA;QACA,YAAAC,MAAA,CAAAC,KAAA,CAAAC,IAAA,CAAAJ,YAAA;MACA;MACAK,IAAAC,GAAA;QACA,KAAAJ,MAAA,CAAAC,KAAA,CAAAC,IAAA,CAAAJ,YAAA,GAAAM,GAAA;MACA;IACA;IACAC,iBAAA;MACAN,IAAA;QACA,YAAAC,MAAA,CAAAC,KAAA,CAAAC,IAAA,CAAAG,iBAAA;MACA;MACAF,IAAAC,GAAA;QACA,KAAAJ,MAAA,CAAAC,KAAA,CAAAC,IAAA,CAAAG,iBAAA,GAAAD,GAAA;MACA;IACA;EAEA;EACAE,UAAA;EACAC,KAAA;EACAC,OAAA;IACAC,SAAAC,MAAA;MACA;MACA,KAAAC,OAAA,CAAAC,IAAA;QAAAjB,IAAA,EAAAe,MAAA,CAAAf;MAAA;IACA;IACA;IACAkB,UAAAH,MAAA;MACAI,OAAA,CAAAC,GAAA,CAAAL,MAAA;MACA,IAAAM,SAAA,QAAAlB,YAAA;MACA,IAAAmB,UAAA,QAAAZ,iBAAA;MACA,IAAAK,MAAA;QACA;MACA;MACA,IAAAA,MAAA,KAAAO,UAAA;QACAD,SAAA,CAAAE,OAAA,EAAAC,OAAA,EAAAC,KAAA;UACA,IAAAD,OAAA,CAAAxB,IAAA,KAAAe,MAAA;YACA,IAAAW,OAAA,GAAAL,SAAA,CAAAI,KAAA,SAAAJ,SAAA,CAAAI,KAAA;YACA,IAAAC,OAAA;cACAJ,UAAA,GAAAI,OAAA,CAAA1B,IAAA;YACA;UACA;QACA;MACA;MACA;MACA,KAAAU,iBAAA,GAAAY,UAAA;MACA;MACA;MACA,KAAAnB,YAAA,GAAAkB,SAAA,CAAAM,MAAA,CAAAC,GAAA,IAAAA,GAAA,CAAA5B,IAAA,KAAAe,MAAA;;MAEA;MACA,KAAAC,OAAA,CAAAC,IAAA;QAAAjB,IAAA,EAAAsB;MAAA;IACA;EACA;AAGA"}]}