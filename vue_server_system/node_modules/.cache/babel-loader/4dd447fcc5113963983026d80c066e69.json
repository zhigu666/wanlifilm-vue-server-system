{"remainingRequest":"D:\\desk\\vue_server_system\\node_modules\\babel-loader\\lib\\index.js!D:\\desk\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\desk\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\desk\\vue_server_system\\src\\views\\system\\Role.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\desk\\vue_server_system\\src\\views\\system\\Role.vue","mtime":1684745061220},{"path":"D:\\desk\\vue_server_system\\babel.config.js","mtime":1679550857243},{"path":"D:\\desk\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\desk\\vue_server_system\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\desk\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\desk\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy/mnYPpmZBUcmVl5o6n5Lu255qE5pi+56S65p2D6ZmQ5pWw5o2uKOaYvuekuuaJgOacieeahOadg+mZkOaVsOaNrikKICAgICAgcGVybVRyZWVEYXRhOiBbXSwKICAgICAgLy/liIbphY3mnYPpmZDnmoTooajljZXlr7nosaEo6KeS6Imy5p2D6ZmQKQogICAgICBQZXJtRm9ybToge30sCiAgICAgIC8v5paw5bu66KeS6ImyIOWSjCDnvJbovpHop5LoibLlr7nor53moYbkuK3ooajljZUg5a+55bqU55qE6KeS6Imy5a+56LGhCiAgICAgIFJvbGVGb3JtOiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgY29kZTogJycsCiAgICAgICAgcmVtYXJrOiAnJywKICAgICAgICBzdGF0dTogMAogICAgICB9LAogICAgICAvL1RyZWXmjqfku7blpoLkvZXku44g6L+U5Zue6I+c5Y2V5pWw5o2u5Lit5Y+W5YC8CiAgICAgIGRlZmF1bHRQcm9wczogewogICAgICAgIGNoaWxkcmVuOiAnY2hpbGRyZW4nLAogICAgICAgIGxhYmVsOiAnbmFtZScKICAgICAgfSwKICAgICAgc2VsZWN0aW9uOiBbXSwKICAgICAgLy/lpI3pgInmoYbpgInkuK3nmoTop5LoibLnmoTlr7nosaEKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgLy/miYDmnInop5LoibLnmoTmlbDmja4KICAgICAgZGVsZXRlQWxsQnRuU3R1OiB0cnVlLAogICAgICAvL+aJuemHj+WIoOmZpOinkuiJsueahOaMiemSruaYr+WQpuWPr+eUqO+8jOm7mOiupOaYr3RydWXvvIzkuI3lj6/nlKgKICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLAogICAgICAvL+aWsOW7uuinkuiJsueahOWvueivneahhuaYr+WQpuaYvuekuueahOWPmOmHjwogICAgICBkaWFsb2dQZXJtRm9ybVZpc2libGU6IGZhbHNlLAogICAgICAvL+WIhumFjeadg+mZkOWvueivneahhuaYr+WQpuaYvuekugogICAgICAvLyAvL+aQnOe0ouagj+WvueixoQogICAgICBzZWFyY2hGb3JtOiB7CiAgICAgICAgbmFtZTogJycgLy/op5LoibLlkI3np7AKICAgICAgfSwKCiAgICAgIC8v55So5oi35pWw5o2u5pi+56S6IOWIhumhteebuOWFs+aVsOaNrgogICAgICB0b3RhbDogMCwKICAgICAgLy/liIbpobXmmL7npLrvvJrnlKjmiLfnmoTmgLvorrDlvZXmlbAKICAgICAgc2l6ZTogMTAsCiAgICAgIC8v5YiG6aG15pi+56S677ya5LiA6aG15pi+56S655qE6K6w5b2V5pWwCiAgICAgIGN1cnJlbnQ6IDEsCiAgICAgIC8v5YiG6aG15pi+56S677ya5b2T5YmN5pi+56S655qE6aG156CB77yM5bCx5piv56ys5Yeg6aG1CgogICAgICBydWxlczogewogICAgICAgIG5hbWU6IFsKICAgICAgICAvL+mdnuepuumqjOivgQogICAgICAgIHsKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeinkuiJsueahOWQjeensCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBjb2RlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6KeS6Imy57yW56CBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHJlbWFyazogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+inkuiJsuS/oeaBr+eahOaPj+i/sCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZFJvbGVMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRQZXJtdEZvcm0oKSB7CiAgICAgIGxldCBtZW51SWRzID0gdGhpcy4kcmVmcy5wZXJtVHJlZS5nZXRDaGVja2VkS2V5cygpOwogICAgICBjb25zb2xlLmxvZygxKTsKICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL3N5c3RlbS9yb2xlL3Blcm0vJyArIHRoaXMuUGVybUZvcm0uaWQsIG1lbnVJZHMpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogIuadg+mZkOaVsOaNruS/neWtmOaIkOWKnyIsCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAvLyBkdXJhdGlvbjogMTUwMCwKICAgICAgICAgIG9uQ2xvc2U6ICgpID0+IHsKICAgICAgICAgICAgdGhpcy5Sb2xlRGlhb2dDbG9zZSgpOwogICAgICAgICAgICB0aGlzLmxvYWRSb2xlTGlzdCgpOyAvL+aWsOW7uueUqOaIt+aIkOWKn+WQju+8jOmcgOimgemHjeaWsOWKoOi9veeUqOaIt+aVsOaNrgogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCgogICAgLy/liIbphY3mnYPpmZDnmoTmlrnms5UKICAgIFBlcm1IYW5kbGVyKHJvbGVfaWQpIHsKICAgICAgdGhpcy5kaWFsb2dQZXJtRm9ybVZpc2libGUgPSB0cnVlOwogICAgICAvL+WKoOi9veivt+axguW9k+WJjeinkuiJsueahOadg+mZkOS/oeaBrwoKICAgICAgdGhpcy4kYXhpb3MuZ2V0KCcvc3lzdGVtL3JvbGUvcm9sZWluZm8vJyArIHJvbGVfaWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuJHJlZnMucGVybVRyZWUuc2V0Q2hlY2tlZEtleXMocmVzcG9uc2UuZGF0YS5yZXN1bHRkYXRhLm1lbnVJZHMpOwogICAgICAgIHRoaXMuUGVybUZvcm0gPSByZXNwb25zZS5kYXRhLnJlc3VsdGRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5YWz6Zet5YiG6YWN5p2D6ZmQ5a+56K+d5qGGCiAgICBSb2xlRGlhb2dDbG9zZSgpIHsKICAgICAgLy90aGlzLiRyZWZzW2Zvcm1OYW1lXS5yZXNldEZpZWxkcygpOwogICAgICB0aGlzLlBlcm1Gb3JtID0ge307CiAgICAgIHRoaXMuZGlhbG9nUGVybUZvcm1WaXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgLy/jgJDliIbpobXmlrnms5XjgJHvvJrkv67mlLnkuIDpobXmmL7npLrnmoTorrDlvZXmlbAgdmFs5Y+C5pWw5bCx5piv5YiH5o2i55qE5LiA5Liq5pyA5paw5Liq5pWwCiAgICBoYW5kbGVyU2l6ZUNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5zaXplID0gdmFsOwogICAgICB0aGlzLmxvYWRSb2xlTGlzdCgpOyAvL+mHjeaWsOWKoOi9veinkuiJsueahOaVsOaNrgogICAgfSwKCiAgICAvL+OAkOWIhumhteaWueazleOAke+8muWIh+aNoumhteegge+8jOivt+axguaWsOS4gOmhteaVsOaNrgogICAgaGFuZGxlckN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIC8v5Y+C5pWwdmFsIOWwseaYr+eCueWHu+eahOaWsOeahOmhteeggQogICAgICB0aGlzLmN1cnJlbnQgPSB2YWw7CiAgICAgIHRoaXMubG9hZFJvbGVMaXN0KCk7CiAgICB9LAogICAgLy/kv53lrZjmlrDlu7rop5LoibLkv6Hmga/jgIIKICAgIHN1Ym1pdEZvcm0oZm9ybU5hbWUpIHsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgLy/or7fmsYLmnI3liqHlmajov5vooYwgIOS/neWtmOinkuiJsiAg5oiW6ICFICDmm7TmlrDop5LoibIgIOaTjeS9nAogICAgICAgICAgLy90aGlzLiRheGlvcy5wb3N0KOi3r+W+hCzlj4LmlbApCiAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KCcvc3lzdGVtL3JvbGUvJyArICh0aGlzLlJvbGVGb3JtLmlkID8gJ3VwZGF0ZScgOiAnc2F2ZScpLCB0aGlzLlJvbGVGb3JtKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLAogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAvLyBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgZHVyYXRpb246IDE1MDAsCiAgICAgICAgICAgICAgb25DbG9zZTogKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5sb2FkUm9sZUxpc3QoKTsgLy/mlrDlu7rnlKjmiLfmiJDlip/lkI7vvIzpnIDopoHph43mlrDliqDovb3nlKjmiLfmlbDmja4KICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsgLy/nlKjmiLfkv53lrZjmiJDlip/vvIzlr7nor53moYbpmpDol48KICAgICAgICAgICAgICAgIHRoaXMucmVzZXRGb3JtKGZvcm1OYW1lKTsgLy/nlKjmiLfkv53lrZjmiJDlip/vvIzooajljZXph43nva4KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLy/ph43nva7mlrDlu7rmiJbnvJbovpHop5LoibIg5a+56K+d5qGG6KGo5Y2V55qEIOaWueazlQogICAgcmVzZXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuUm9sZUZvcm0gPSB7fTsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgIH0sCiAgICAvL+WFs+mXreaWsOW7uuaIluiAhSDnvJbovpHop5LoibLlr7nor53moYbnmoTlm57osIPlh73mlbAKICAgIGhhbmRsZUNsb3NlKCkgewogICAgICB0aGlzLlJvbGVGb3JtID0ge307IC8v5YWz6Zet6KeS6Imy5a+56K+d5qGG77yM6aaW5YWI5riF56m6IFJvbGVGb3Jt6KeS6Imy5a+56LGh5L+h5oGvCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsgLy/orr7nva7lr7nor53moYblj5jph4/kuLpmYWxzZe+8jOWvueivneahhuWwseS4jeaYvuekugogICAgfSwKCiAgICAvL+WKoOi9vemhtemdoueahOaJgOacieeahOinkuiJsuS/oeaBr+OAggogICAgLy/lpoLmnpxzZWFyY2hGb3JtLm5hbWXlsZ7mgKfkuLrnqbrvvIzku6PooajmkJzntKLmoI/msqHmnInovpPlhaXlhoXlrrnvvIzpu5jorqTliqDovb3miYDmnInnmoTop5LoibLkv6Hmga8KICAgIC8v5aaC5p6cc2VhcmNoRm9ybS5uYW1l5bGe5oCn5pyJ5YC877yM5Luj6KGo5pCc57Si5qCP55qE6L6T5YWl5pyJ5YaF5a6577yM5oyJ54Wn5YaF5a655Y675pyN5Yqh5Zmo5qih57OK5p+l6K+i55u45YWz55qE6KeS6Imy5L+h5oGvCiAgICBsb2FkUm9sZUxpc3QoKSB7CiAgICAgIC8v6K+35rGC5pyN5Yqh5Zmo77yM5Yqg6L29IOaJgOacieeahOinkuiJsueahOS/oeaBr++8jOi1i+WAvOe7mSB0aGlzLnRhYmxlRGF0YQogICAgICB0aGlzLiRheGlvcy5nZXQoJy9zeXN0ZW0vcm9sZS9saXN0JywgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgbmFtZTogdGhpcy5zZWFyY2hGb3JtLm5hbWUsCiAgICAgICAgICBjdXJyZW50OiB0aGlzLmN1cnJlbnQsCiAgICAgICAgICBzaXplOiB0aGlzLnNpemUKICAgICAgICB9CiAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRkYXRhLnJlY29yZHM7CiAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLmRhdGEucmVzdWx0ZGF0YS50b3RhbDsKICAgICAgICB0aGlzLnNpemUgPSByZXNwb25zZS5kYXRhLnJlc3VsdGRhdGEuc2l6ZTsKICAgICAgICB0aGlzLmN1cnJlbnQgPSByZXNwb25zZS5kYXRhLnJlc3VsdGRhdGEuY3VycmVudDsKICAgICAgfSk7CgogICAgICAvL+ivt+axguacjeWKoeWZqO+8jOiOt+W+l+aJgOacieeahOadg+mZkOeahOaVsOaNrue7meWIsFBlcm1UcmVlRGF0YToKICAgICAgdGhpcy4kYXhpb3MuZ2V0KCcvc3lzdGVtL21lbnUvbGlzdCcpLnRoZW4ocmVwb25zZSA9PiB7CiAgICAgICAgdGhpcy5wZXJtVHJlZURhdGEgPSByZXBvbnNlLmRhdGEucmVzdWx0ZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgLy8gZGVsZXRlUm9sZSAoKSB7ICAvL+WIoOmZpOinkuiJsueahOaWueazlQogICAgLy8gICBjb25zb2xlLmxvZygxKTsKICAgIC8vIH0sCiAgICBzZWxlY3Rpb25DaGFuZ2UodmFsdWUpIHsKICAgICAgLy/pgInkuK3ooajmoLznmoTlpI3pgInmoYYg6KaB5omn6KGM55qE5pON5L2cCiAgICAgIHRoaXMuc2VsZWN0aW9uID0gdmFsdWU7IC8v5bCG6KGo5qC85aSN6YCJ5qGGIOmAieS4reeahCDop5LoibLlr7nosaHotYvlgLznu5kgc2VsZWN0aW9uIOaVsOe7hAogICAgICBpZiAodGhpcy5zZWxlY3Rpb24pIHsKICAgICAgICB0aGlzLmRlbGV0ZUFsbEJ0blN0dSA9IHRoaXMuc2VsZWN0aW9uLmxlbmd0aCA9PT0gMDsKICAgICAgfQogICAgfSwKICAgIGVkaXRSb2xlKGlkKSB7CiAgICAgIC8v57yW6L6R6KeS6Imy55qE5pa55rOVCiAgICAgIC8v5qC55o2u6KeS6Imy55qEaWTmn6Xor6Lor6Xop5LoibLnmoTor6bnu4bkv6Hmga8KICAgICAgdGhpcy4kYXhpb3MoJy9zeXN0ZW0vcm9sZS9yb2xlaW5mby8nICsgaWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuUm9sZUZvcm0gPSByZXNwb25zZS5kYXRhLnJlc3VsdGRhdGE7CiAgICAgICAgLy9Sb2xlRm9ybeWvueixoSDmmK/lkowg6KeS6Imy5a+56K+d5qGGIOS4reihqOWNleaYr+WPjOWQkeaVsOaNrue7keWumu+8jOaJgOS7pSAgUm9sZUZvcm3mnInmlbDmja7vvIzlr7nor53moYbnmoTooajljZXlsLHmnInmlbDmja7jgIIKICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZTsgLy/mmL7npLrlr7nor53moYYKICAgICAgfSk7CiAgICB9LAoKICAgIGRlbGV0ZVJvbGUoaWQpIHsKICAgICAgLy/liKDpmaTop5LoibLnmoTmlrnms5UKICAgICAgLy/liKDpmaTop5LoibLkuI7liKDpmaTnlKjmiLfmgJ3ot6/kuIDoh7TvvIzlpoLmnpxpZOayoeacieWAvO+8jOmCo+S5iOaJuemHj+WIoOmZpCggdGhpcy5zZWxlY3Rpb24gKe+8jOWmguaenGlk5pyJ5YC877yM6L+b6KGM5Y2V5Liq55So5oi35Yig6ZmkKCBpZCAp44CCCiAgICAgIGxldCBpZHMgPSBbXTsKICAgICAgaWQgPyBpZHMucHVzaChpZCkgOiB0aGlzLnNlbGVjdGlvbi5mb3JFYWNoKHIgPT4gewogICAgICAgIGlkcy5wdXNoKHIuaWQpOwogICAgICB9KTsKICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL3N5c3RlbS9yb2xlL2RlbGV0ZScsIGlkcykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UsCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAvL+WumuS5ieS4gOS4quWFs+mXrea2iOaBr+ahhuWbnuiwg++8mgogICAgICAgICAgb25DbG9zZTogKCkgPT4gewogICAgICAgICAgICB0aGlzLmxvYWRSb2xlTGlzdCgpOyAvL+mcgOimgemHjeaWsOWKoOi9veihqOagvOS4reinkuiJsueahOaVsOaNrgogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LAoKICBjb21wb25lbnRzOiB7fQp9Ow=="},{"version":3,"names":["data","permTreeData","PermForm","RoleForm","name","code","remark","statu","defaultProps","children","label","selection","tableData","deleteAllBtnStu","dialogFormVisible","dialogPermFormVisible","searchForm","total","size","current","rules","required","message","trigger","created","loadRoleList","methods","submitPermtForm","menuIds","$refs","permTree","getCheckedKeys","console","log","$axios","post","id","then","response","$message","type","showClose","onClose","RoleDiaogClose","PermHandler","role_id","get","setCheckedKeys","resultdata","handlerSizeChange","val","handlerCurrentChange","submitForm","formName","validate","valid","duration","resetForm","resetFields","handleClose","params","records","reponse","selectionChange","value","length","editRole","deleteRole","ids","push","forEach","r","components"],"sources":["src/views/system/Role.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- 页面工具条表单 -->\r\n    <el-form ref=\"form\" :model=\"searchForm\" :inline=\"true\">\r\n      <el-form-item>\r\n        <el-input v-model=\"searchForm.name\" placeholder=\"请输入要搜索的角色\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button @click=\"loadRoleList\">搜索</el-button>\r\n        <el-button type=\"primary\" @click=\"dialogFormVisible=true\">新建</el-button>\r\n\r\n        <el-popconfirm title=\"确认要批量删除角色信息吗？\" @confirm=\"deleteRole\">\r\n          <el-button slot=\"reference\" type=\"danger\" :disabled=\"deleteAllBtnStu\">批量删除</el-button>\r\n        </el-popconfirm>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <!-- 显示所有角色的表格 -->\r\n    <el-table :data=\"tableData\" border stripe style=\"width: 100%; margin-bottom:20px;\" :cell-style=\"{ padding:'2px'}\"\r\n              @selection-change=\"selectionChange\">\r\n      <el-table-column type=\"selection\" width=\"50\">\r\n      </el-table-column>\r\n      <el-table-column label=\"角色名称\" width=\"200\" prop=\"name\">\r\n      </el-table-column>\r\n      <el-table-column label=\"角色编码\" width=\"150\" prop=\"code\">\r\n      </el-table-column>\r\n      <el-table-column label=\"描述\" width=\"500\" prop=\"remark\">\r\n      </el-table-column>\r\n      <el-table-column label=\"状态\" width=\"70\" prop=\"statu\">\r\n        <template slot-scope=\"scope\">\r\n          <!-- 取出当前这一行显示用户的状态： scope.row.statu -->\r\n          <!-- <el-tag size=\"mini\" type=\"success\">正常</el-tag> -->\r\n          <el-tag size=\"mini\" v-if=\"scope.row.statu===1\" type=\"success\">正常</el-tag>\r\n          <el-tag size=\"mini\" v-else-if=\"scope.row.statu===0\" type=\"danger\">禁用</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"text\" @click=\"PermHandler(scope.row.id)\">分配权限</el-button>\r\n          <el-divider direction=\"vertical\"></el-divider>\r\n          <el-button type=\"text\" @click=\"editRole(scope.row.id)\">编辑</el-button>\r\n          <el-divider direction=\"vertical\"></el-divider>\r\n\r\n\r\n          <el-popconfirm title=\"确认要删除该角色信息吗？\" @confirm=\"deleteRole(scope.row.id)\">\r\n            <el-button slot=\"reference\" type=\"text\">删除</el-button>\r\n          </el-popconfirm>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n\r\n    <!-- 显示分页页码 -->\r\n    <el-pagination background layout=\"total, sizes,prev, pager,\r\nnext,jumper\" :total=\"total\" :page-size=\"size\" :page-sizes=\"\r\n[5,10,15,20,25]\" :current-page=\"current\"\r\n                   @size-change=\"handlerSizeChange\"\r\n                   @current-change=\"handlerCurrentChange\">\r\n    </el-pagination>\r\n\r\n    <!-- 新建角色 编辑角色对话框 -->\r\n    <el-dialog title=\"角色信息\" :visible.sync=\"dialogFormVisible\" width=\"550px\" :before-close=\"handleClose\">\r\n      <el-form :model=\"RoleForm\" ref=\"RoleForm\" label-width=\"100px\" :rules=\"rules\">\r\n        <el-form-item label=\"角色名称\" label-width=\"100px\" prop=\"name\">\r\n          <el-input v-model=\"RoleForm.name\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色编码\" label-width=\"100px\" prop=\"code\">\r\n          <el-input v-model=\"RoleForm.code\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"描述\" label-width=\"100px\" prop=\"remark\">\r\n          <el-input v-model=\"RoleForm.remark\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"状态\" label-width=\"100px\">\r\n          <el-radio-group v-model=\"RoleForm.statu\">\r\n            <el-radio :label=\"0\">禁用</el-radio>\r\n            <el-radio :label=\"1\">正常</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"submitForm('RoleForm')\">保存角色</el-button>\r\n          <el-button @click=\"resetForm('RoleForm')\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n\r\n    <!-- 分配权限对话框 -->\r\n    <el-dialog title=\"分配权限\" :visible=\"dialogPermFormVisible\" width=\"400px\" :before-close=\"RoleDiaogClose\">\r\n      <el-form :model=\"PermForm\" ref=\"PermForm\" label-width=\"100px\" >\r\n        <el-tree ref=\"permTree\" :data=\"permTreeData\" show-checkbox node-key=\"id\" :check-strictly=\"true\" :default-expand-all=\"true\" :props=\"defaultProps\">\r\n        </el-tree>\r\n        <el-form-item>\r\n          <el-button type=\"primary\"\r\n                     @click=\"submitPermtForm('PermForm')\">确定</el-button>\r\n          <el-button @click=\"resetForm('PermForm')\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      //权限Tree控件的显示权限数据(显示所有的权限数据)\r\n      permTreeData:[],\r\n//分配权限的表单对象(角色权限)\r\n      PermForm: {},\r\n      //新建角色 和 编辑角色对话框中表单 对应的角色对象\r\n      RoleForm: {\r\n        name: '',\r\n        code: '',\r\n        remark: '',\r\n        statu: 0,\r\n      },\r\n      //Tree控件如何从 返回菜单数据中取值\r\n      defaultProps: {\r\n        children: 'children',\r\n        label: 'name'\r\n      },\r\n      selection: [],  //复选框选中的角色的对象\r\n      tableData: [],  //所有角色的数据\r\n      deleteAllBtnStu: true,   //批量删除角色的按钮是否可用，默认是true，不可用\r\n      dialogFormVisible: false,  //新建角色的对话框是否显示的变量\r\n      dialogPermFormVisible:false,//分配权限对话框是否显示\r\n      // //搜索栏对象\r\n      searchForm: {\r\n        name: ''    //角色名称\r\n      },\r\n      //用户数据显示 分页相关数据\r\n      total: 0,  //分页显示：用户的总记录数\r\n      size: 10,   //分页显示：一页显示的记录数\r\n      current: 1,  //分页显示：当前显示的页码，就是第几页\r\n\r\n      rules: {\r\n        name: [\r\n          //非空验证\r\n          {required: true, message: '请输入角色的名称', trigger: 'blur'}\r\n        ],\r\n        code: [\r\n          {required: true, message: '请输入角色编码', trigger: 'blur'}\r\n        ],\r\n        remark: [\r\n          {required: true, message: '请输角色信息的描述', trigger: 'blur'},\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.loadRoleList()\r\n  },\r\n  methods: {\r\n    submitPermtForm(){\r\n      let menuIds=this.$refs.permTree.getCheckedKeys();\r\n      console.log(1)\r\n      this.$axios.post('/system/role/perm/'+this.PermForm.id,menuIds)\r\n      .then(response=>{\r\n        this.$message({\r\n          message: \"权限数据保存成功\",\r\n          type: 'success',\r\n          showClose: true,\r\n          // duration: 1500,\r\n          onClose: () => {\r\n            this.RoleDiaogClose()\r\n            this.loadRoleList() //新建用户成功后，需要重新加载用户数据\r\n          }\r\n        });\r\n      })\r\n    },\r\n    //分配权限的方法\r\n    PermHandler(role_id){\r\n      this.dialogPermFormVisible=true;\r\n      //加载请求当前角色的权限信息\r\n\r\n      this.$axios.get('/system/role/roleinfo/'+role_id)\r\n      .then(response=>{\r\n        this.$refs.permTree.setCheckedKeys(response.data.resultdata.menuIds);\r\n        this.PermForm=response.data.resultdata;\r\n      })\r\n    },\r\n\r\n    //关闭分配权限对话框\r\n    RoleDiaogClose() {\r\n//this.$refs[formName].resetFields();\r\n      this.PermForm = {}\r\n      this.dialogPermFormVisible = false\r\n    },\r\n\r\n    //【分页方法】：修改一页显示的记录数 val参数就是切换的一个最新个数\r\n    handlerSizeChange(val) {\r\n      this.size = val\r\n      this.loadRoleList() //重新加载角色的数据\r\n    },\r\n//【分页方法】：切换页码，请求新一页数据\r\n    handlerCurrentChange(val) { //参数val 就是点击的新的页码\r\n      this.current = val\r\n      this.loadRoleList()\r\n    },\r\n\r\n\r\n    //保存新建角色信息。\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          //请求服务器进行  保存角色  或者  更新角色  操作\r\n          //this.$axios.post(路径,参数)\r\n          this.$axios.post('/system/role/' + (this.RoleForm.id ? 'update' : 'save'), this.RoleForm)\r\n              .then((response) => {\r\n                this.$message({\r\n                  message: response.data.message,\r\n                  type: 'success',\r\n                  // showClose: true,\r\n                  duration: 1500,\r\n                  onClose: () => {\r\n                    this.loadRoleList() //新建用户成功后，需要重新加载用户数据\r\n                    this.dialogFormVisible = false  //用户保存成功，对话框隐藏\r\n                    this.resetForm(formName)   //用户保存成功，表单重置\r\n                  }\r\n                });\r\n              })\r\n        }\r\n      })\r\n    },\r\n    //重置新建或编辑角色 对话框表单的 方法\r\n    resetForm(formName) {\r\n      this.RoleForm = {}\r\n      this.$refs[formName].resetFields();\r\n    },\r\n    //关闭新建或者 编辑角色对话框的回调函数\r\n    handleClose() {\r\n      this.RoleForm = {}   //关闭角色对话框，首先清空 RoleForm角色对象信息\r\n      this.dialogFormVisible = false  //设置对话框变量为false，对话框就不显示\r\n    },\r\n    //加载页面的所有的角色信息。\r\n    //如果searchForm.name属性为空，代表搜索栏没有输入内容，默认加载所有的角色信息\r\n    //如果searchForm.name属性有值，代表搜索栏的输入有内容，按照内容去服务器模糊查询相关的角色信息\r\n    loadRoleList() {\r\n      //请求服务器，加载 所有的角色的信息，赋值给 this.tableData\r\n      this.$axios.get('/system/role/list', {\r\n        params: {\r\n          name: this.searchForm.name,\r\n          current: this.current,\r\n          size: this.size\r\n        }\r\n      }).then(response => {\r\n        this.tableData = response.data.resultdata.records\r\n        this.total = response.data.resultdata.total\r\n        this.size = response.data.resultdata.size\r\n        this.current = response.data.resultdata.current\r\n      })\r\n\r\n      //请求服务器，获得所有的权限的数据给到PermTreeData:\r\n      this.$axios.get('/system/menu/list').then(reponse => {\r\n        this.permTreeData = reponse.data.resultdata\r\n      })\r\n    },\r\n    // deleteRole () {  //删除角色的方法\r\n    //   console.log(1);\r\n    // },\r\n    selectionChange(value) { //选中表格的复选框 要执行的操作\r\n      this.selection = value;  //将表格复选框 选中的 角色对象赋值给 selection 数组\r\n      if (this.selection) {\r\n        this.deleteAllBtnStu = (this.selection.length === 0)\r\n      }\r\n    },\r\n    editRole(id) {  //编辑角色的方法\r\n      //根据角色的id查询该角色的详细信息\r\n      this.$axios('/system/role/roleinfo/' + id).then(response => {\r\n        this.RoleForm = response.data.resultdata\r\n        //RoleForm对象 是和 角色对话框 中表单是双向数据绑定，所以  RoleForm有数据，对话框的表单就有数据。\r\n        this.dialogFormVisible = true  //显示对话框\r\n      })\r\n    },\r\n    deleteRole(id) {  //删除角色的方法\r\n      //删除角色与删除用户思路一致，如果id没有值，那么批量删除( this.selection )，如果id有值，进行单个用户删除( id )。\r\n      let ids = [];\r\n      id ? ids.push(id) : this.selection.forEach(r => {\r\n        ids.push(r.id)\r\n      })\r\n      this.$axios.post('/system/role/delete',ids).then(response => {\r\n        this.$message({\r\n          message: response.data.message,\r\n          type: 'success',\r\n          showClose: true,\r\n          //定义一个关闭消息框回调：\r\n          onClose: () => {\r\n            this.loadRoleList()   //需要重新加载表格中角色的数据\r\n          }\r\n        });\r\n      })\r\n    }\r\n  },\r\n  components: {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n"],"mappings":"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"}]}