{"remainingRequest":"D:\\vue_workspace\\vue_server_system\\node_modules\\babel-loader\\lib\\index.js!D:\\vue_workspace\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\vue_workspace\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue_workspace\\vue_server_system\\src\\views\\system\\Order.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue_workspace\\vue_server_system\\src\\views\\system\\Order.vue","mtime":1680970054974},{"path":"D:\\vue_workspace\\vue_server_system\\babel.config.js","mtime":1679550448295},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3RhcnRUaW1lOiAnJywKICAgICAgZW5kVGltZTogJycsCiAgICAgIHNlbGVjdGlvbjogW10sCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIHRvdGFsOiAwLAogICAgICBzaXplOiAxMCwKICAgICAgY3VycmVudDogMSwKICAgICAgZGVsZXRlQWxsQnRuU3R1OiB0cnVlLAogICAgICBzZWFyY2hGb3JtOiB7CiAgICAgICAgb3JkZXJuYW1lOiAnJywKICAgICAgICBpZDogJycsCiAgICAgICAgdWlkOiAnJywKICAgICAgICBjcmVhdGVkOiAnJywKICAgICAgICBwYXlfYXQ6ICcnLAogICAgICAgIHN0YXR1OiAxLAogICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICBwcmljZTogJycsCiAgICAgICAgZmlsbW5hbWU6ICcnLAogICAgICAgIHNlYXRzOiAnJywKICAgICAgICByZWxlYXNlX3RpbWU6ICcnCiAgICAgIH0sCiAgICAgIGhlYWRlcnM6IHsKICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWRPcmRlckxpc3QoKTsKICB9LAogIGNvbXBvbmVudHM6IHt9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmxvYWRPcmRlckxpc3QoKTsKICB9LAogIC8vIGZpbHRlcnM6IHsKICAvLyAgICAgZm10RGF0ZTogKHZhbHVlKSA9PiB7CiAgLy8gICAgICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKHZhbHVlKQogIC8vICAgICAgICAgbGV0IHkgPSBkYXRlLmdldEZ1bGxZZWFyKCkKICAvLyAgICAgICAgIGxldCBNID0gKGRhdGUuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKQogIC8vICAgICAgICAgbGV0IGQgPSBkYXRlLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJykKICAvLyAgICAgICAgIGxldCBoID0gZGF0ZS5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpCiAgLy8gICAgICAgICBsZXQgbSA9IGRhdGUuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKQogIC8vICAgICAgICAgbGV0IHMgPSBkYXRlLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJykKICAvLyAgICAgICAgIHJldHVybiBgJHt5feW5tCR7TX3mnIgke2R95pelICR7aH06JHttfToke3N9YAogIC8vICAgICB9CiAgLy8gfSwKICBtZXRob2RzOiB7CiAgICBzZWxlY3Rpb25DaGFuZ2UodmFsdWUpIHsKICAgICAgdGhpcy5zZWxlY3Rpb24gPSB2YWx1ZTsKICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uKSB7CiAgICAgICAgdGhpcy5kZWxldGVBbGxCdG5TdHUgPSB0aGlzLnNlbGVjdGlvbi5sZW5ndGggPT0gMDsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUNsb3NlKCkgewogICAgICAvLyB0aGlzLnJlc2V0Rm9ybSgnVXNlckZvcm0nKQogICAgICB0aGlzLk9yZGVyRm9ybSA9IHt9OwogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgaGFuZGxlQXZhdGFyU3VjY2VzcyhyZXNwb25zZSwgZmlsZSkgewogICAgICB0aGlzLk9yZGVyRm9ybS5hdmF0YXIgPSByZXNwb25zZS5kYXRhOwogICAgfSwKICAgIHNlYXJjaFVzZXJJbmZvKCkge30sCiAgICBkZWxldGVPcmRlcihpZCkgewogICAgICBsZXQgaWRzID0gW107CiAgICAgIGlkID8gaWRzLnB1c2goaWQpIDogdGhpcy5zZWxlY3Rpb24uZm9yRWFjaCh1ID0+IHsKICAgICAgICBpZHMucHVzaCh1LmlkKTsKICAgICAgfSk7CiAgICAgIHRoaXMuJGF4aW9zLnBvc3QoJy9zeXN0ZW0vb3JkZXIvZGVsZXRlJywgaWRzKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLmRhdGEubWVzc2FnZSwKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIG9uQ2xvc2U6ICgpID0+IHsKICAgICAgICAgICAgdGhpcy5sb2FkVXNlckxpc3QoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgbG9hZE9yZGVyTGlzdCgpIHsKICAgICAgdGhpcy4kYXhpb3MuZ2V0KCcvc3lzdGVtL29yZGVyL2xpc3QnLCB7CiAgICAgICAgY3VycmVudDogdGhpcy5jdXJyZW50LAogICAgICAgIHNpemU6IHRoaXMuc2l6ZQogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlc3BvbnNlLmRhdGEucmVzdWx0ZGF0YS5yZWNvcmRzOwogICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnJlc3VsdGRhdGEudG90YWw7CiAgICAgICAgdGhpcy5zaXplID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRkYXRhLnNpemU7CiAgICAgICAgdGhpcy5jdXJyZW50ID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRkYXRhLmN1cnJlbnQ7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["data","startTime","endTime","selection","tableData","total","size","current","deleteAllBtnStu","searchForm","ordername","id","uid","created","pay_at","statu","username","price","filmname","seats","release_time","headers","token","localStorage","getItem","loadOrderList","components","mounted","methods","selectionChange","value","length","handleClose","OrderForm","dialogFormVisible","handleAvatarSuccess","response","file","avatar","searchUserInfo","deleteOrder","ids","push","forEach","u","$axios","post","then","$message","message","type","showClose","onClose","loadUserList","get","resultdata","records"],"sources":["src/views/system/Order.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <el-form ref=\"form\" :model=\"searchForm\" :inline=\"true\">\r\n            <el-form-item>\r\n                <el-input v-model=\"searchForm.ordername\" placeholder=\"请输入内容要搜索的内容\"></el-input>\r\n            </el-form-item>\r\n          <el-form-item>\r\n            <el-tag>添加时间</el-tag>\r\n          </el-form-item>\r\n            <template>\r\n                <el-time-select style=\"margin-right: 8px;\" placeholder=\"请选择开始时间\" v-model=\"startTime\" :picker-options=\"{\r\n                    start: '08:30',\r\n                    step: '00:15',\r\n                    end: '18:30'\r\n                }\">\r\n                </el-time-select>\r\n                <el-time-select style=\"margin-right: 8px;\" placeholder=\"请选择截止时间\" v-model=\"endTime\" :picker-options=\"{\r\n                    start: '08:30',\r\n                    step: '00:15',\r\n                    end: '18:30',\r\n                    minTime: startTime\r\n                }\">\r\n                </el-time-select>\r\n            </template>\r\n            <el-form-item>\r\n                <el-button @click=\"searchUserInfo\">搜索</el-button>\r\n                <el-button type=\"info\">清空</el-button>\r\n\r\n                <el-popconfirm title=\"确认要批量删除用户消息吗？\" @confirm=\"deleteOrder\">\r\n                    <el-button slot=\"reference\" type=\"danger\" :disabled=\"deleteAllBtnStu\"\r\n                        style=\"margin-left: 8px;\">批量删除</el-button>\r\n                </el-popconfirm>\r\n            </el-form-item>\r\n        </el-form>\r\n\r\n        <el-table :data=\"tableData\" border stripe style=\"width: 100%; margin-bottom: 20px;\" :cell-style=\"{ padding: '2px' }\"\r\n            @selection-change=\"selectionChange\">\r\n            <el-table-column type=\"selection\" width=\"50\">\r\n            </el-table-column>\r\n            <el-table-column label=\"订单编号\" width=\"80\" prop=\"id\"> \r\n            </el-table-column>\r\n            <el-table-column width=\"200\" label=\"用户ID(手机号)\" prop=\"uid\">\r\n            </el-table-column>\r\n            <el-table-column width=\"120\" label=\"用户名\" prop=\"username\">\r\n            </el-table-column>\r\n            <el-table-column width=\"150\" label=\"电影名称\" prop=\"filmname\">\r\n            </el-table-column>\r\n            <el-table-column width=\"150\" label=\"座位\" prop=\"seats\">\r\n            </el-table-column>\r\n            <el-table-column width=\"150\" label=\"电影开始时间\" prop=\"release_time\">\r\n            </el-table-column>\r\n            <el-table-column label=\"金额\" prop=\"price\" width=\"80\">\r\n            </el-table-column>\r\n            <el-table-column label=\"状态\" width=\"90\" prop=\"statu\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-tag size=\"mini\" v-if=\"scope.row.statu === 1\" type=\"success\">支付成功</el-tag>\r\n                    <el-tag size=\"mini\" v-else-if=\"scope.row.statu === 0\" type=\"danger\">支付失败</el-tag>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"添加时间\" prop=\"created\" width=\"200\">\r\n                <!-- <template slot-scope=\"scope\">\r\n                    {{ scope.row.created | fmtDate }}\r\n                </template> -->\r\n            </el-table-column>\r\n            <el-table-column label=\"支付时间\" prop=\"pay_at\" width=\"200\">\r\n                <!-- <template slot-scope=\"scope\">\r\n                    {{ scope.row.created | fmtDate }}\r\n                </template> -->\r\n            </el-table-column>\r\n\r\n            <el-table-column label=\"操作\" width=\"100px\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-popconfirm title=\"确认要删除该用户信息吗？\" @confirm=\"deleteOrder(scope.row.id)\">\r\n                        <el-button slot=\"reference\" type=\"danger\">删除</el-button>\r\n                    </el-popconfirm>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <el-pagination background layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\" :page-size=\"size\"\r\n            :page-sizes=\"[5, 10, 15, 20, 25]\" :current-page=\"current\">\r\n        </el-pagination>\r\n\r\n\r\n    </div>\r\n</template>\r\n  \r\n<script>\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            startTime: '',\r\n            endTime: '',\r\n            selection: [],\r\n            tableData: [],\r\n            total: 0,\r\n            size: 10,\r\n            current: 1,\r\n            deleteAllBtnStu: true,\r\n            searchForm: {\r\n                ordername: '',\r\n                id:'',\r\n                uid:'',\r\n                created:'',\r\n                pay_at:'',\r\n                statu:1,\r\n                username:'',\r\n                price:'',\r\n                filmname:'',\r\n                seats:'',\r\n                release_time:'',\r\n            },\r\n            headers: {\r\n                token: localStorage.getItem('token')\r\n            },\r\n        }\r\n    },\r\n    created() {\r\n        this.loadOrderList()\r\n    },\r\n    components: {\r\n    },\r\n    mounted() {\r\n        this.loadOrderList()\r\n    },\r\n    // filters: {\r\n    //     fmtDate: (value) => {\r\n    //         let date = new Date(value)\r\n    //         let y = date.getFullYear()\r\n    //         let M = (date.getMonth() + 1).toString().padStart(2, '0')\r\n    //         let d = date.getDate().toString().padStart(2, '0')\r\n    //         let h = date.getDate().toString().padStart(2, '0')\r\n    //         let m = date.getDate().toString().padStart(2, '0')\r\n    //         let s = date.getDate().toString().padStart(2, '0')\r\n    //         return `${y}年${M}月${d}日 ${h}:${m}:${s}`\r\n    //     }\r\n    // },\r\n    methods: {\r\n        selectionChange(value) {\r\n            this.selection = value;\r\n            if (this.selection) {\r\n                this.deleteAllBtnStu = (this.selection.length == 0)\r\n            }\r\n        },\r\n        handleClose() {\r\n            // this.resetForm('UserForm')\r\n            this.OrderForm = {}\r\n            this.dialogFormVisible = false\r\n        },\r\n        handleAvatarSuccess(response, file) {\r\n            this.OrderForm.avatar = response.data\r\n        },\r\n        searchUserInfo() {\r\n\r\n        },\r\n        deleteOrder(id) {\r\n            let ids = []\r\n            id ? ids.push(id) : this.selection.forEach(u => {\r\n                ids.push(u.id)\r\n            })\r\n            this.$axios.post('/system/order/delete', ids).then(response => {\r\n                this.$message({\r\n                    message: response.data.message,\r\n                    type: 'success',\r\n                    showClose: true,\r\n                    onClose: () => {\r\n                        this.loadUserList()\r\n                    }\r\n                })\r\n            })\r\n\r\n        },\r\n        loadOrderList() {\r\n            this.$axios.get('/system/order/list', {\r\n                current: this.current,\r\n                size: this.size,\r\n            }).then(response => {\r\n                this.tableData = response.data.resultdata.records\r\n                this.total = response.data.resultdata.total\r\n                this.size = response.data.resultdata.size\r\n                this.current = response.data.resultdata.current\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n  \r\n<style scoped>\r\n.avatar-uploader .el-upload {\r\n    border: 1px solid #666;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n\r\n.avatar-uploader .el-upload:hover {\r\n    border-color: #409eff;\r\n}\r\n\r\n.avatar-uploader-icon {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 178px;\r\n    height: 178px;\r\n    line-height: 178px;\r\n    text-align: center;\r\n}\r\n\r\n.avatar {\r\n    width: 178px;\r\n    height: 178px;\r\n    display: block;\r\n}\r\n</style>\r\n  "],"mappings":";AAwFA;EACAA,KAAA;IACA;MACAC,SAAA;MACAC,OAAA;MACAC,SAAA;MACAC,SAAA;MACAC,KAAA;MACAC,IAAA;MACAC,OAAA;MACAC,eAAA;MACAC,UAAA;QACAC,SAAA;QACAC,EAAA;QACAC,GAAA;QACAC,OAAA;QACAC,MAAA;QACAC,KAAA;QACAC,QAAA;QACAC,KAAA;QACAC,QAAA;QACAC,KAAA;QACAC,YAAA;MACA;MACAC,OAAA;QACAC,KAAA,EAAAC,YAAA,CAAAC,OAAA;MACA;IACA;EACA;EACAX,QAAA;IACA,KAAAY,aAAA;EACA;EACAC,UAAA,GACA;EACAC,QAAA;IACA,KAAAF,aAAA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAG,OAAA;IACAC,gBAAAC,KAAA;MACA,KAAA3B,SAAA,GAAA2B,KAAA;MACA,SAAA3B,SAAA;QACA,KAAAK,eAAA,QAAAL,SAAA,CAAA4B,MAAA;MACA;IACA;IACAC,YAAA;MACA;MACA,KAAAC,SAAA;MACA,KAAAC,iBAAA;IACA;IACAC,oBAAAC,QAAA,EAAAC,IAAA;MACA,KAAAJ,SAAA,CAAAK,MAAA,GAAAF,QAAA,CAAApC,IAAA;IACA;IACAuC,eAAA,GAEA;IACAC,YAAA7B,EAAA;MACA,IAAA8B,GAAA;MACA9B,EAAA,GAAA8B,GAAA,CAAAC,IAAA,CAAA/B,EAAA,SAAAR,SAAA,CAAAwC,OAAA,CAAAC,CAAA;QACAH,GAAA,CAAAC,IAAA,CAAAE,CAAA,CAAAjC,EAAA;MACA;MACA,KAAAkC,MAAA,CAAAC,IAAA,yBAAAL,GAAA,EAAAM,IAAA,CAAAX,QAAA;QACA,KAAAY,QAAA;UACAC,OAAA,EAAAb,QAAA,CAAApC,IAAA,CAAAiD,OAAA;UACAC,IAAA;UACAC,SAAA;UACAC,OAAA,EAAAA,CAAA;YACA,KAAAC,YAAA;UACA;QACA;MACA;IAEA;IACA5B,cAAA;MACA,KAAAoB,MAAA,CAAAS,GAAA;QACA/C,OAAA,OAAAA,OAAA;QACAD,IAAA,OAAAA;MACA,GAAAyC,IAAA,CAAAX,QAAA;QACA,KAAAhC,SAAA,GAAAgC,QAAA,CAAApC,IAAA,CAAAuD,UAAA,CAAAC,OAAA;QACA,KAAAnD,KAAA,GAAA+B,QAAA,CAAApC,IAAA,CAAAuD,UAAA,CAAAlD,KAAA;QACA,KAAAC,IAAA,GAAA8B,QAAA,CAAApC,IAAA,CAAAuD,UAAA,CAAAjD,IAAA;QACA,KAAAC,OAAA,GAAA6B,QAAA,CAAApC,IAAA,CAAAuD,UAAA,CAAAhD,OAAA;MACA;IACA;EACA;AACA"}]}