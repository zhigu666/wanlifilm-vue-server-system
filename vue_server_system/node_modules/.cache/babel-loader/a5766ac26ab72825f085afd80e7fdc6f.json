{"remainingRequest":"D:\\desk\\vue_server_system\\node_modules\\babel-loader\\lib\\index.js!D:\\desk\\vue_server_system\\src\\api\\index.js","dependencies":[{"path":"D:\\desk\\vue_server_system\\src\\api\\index.js","mtime":1684328645991},{"path":"D:\\desk\\vue_server_system\\babel.config.js","mtime":1679550857243},{"path":"D:\\desk\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\desk\\vue_server_system\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBFbGVtZW50IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyJzsKYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9ICcvYXBpJzsKLy/liJvlu7rkuIDkuKpheGlvc+eahOivt+axguWvueixoQpjb25zdCBteWF4aW9zID0gYXhpb3MuY3JlYXRlKHsKICB0aW1lb3V0OiA1MDAwLAogIC8v6K6+572u6LaF5pe255qE5pe26Ze0CiAgaGVhZGVyczogewogICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgnCiAgfQp9KTsKCi8v5Z+656GA6Lev5b6E55qE6K6+572u77ya6K6/6ZeuSmF2YeacjeWKoeWZqCAg5YqgOiBodHRwOi8vbG9jYWxob3N0OjgwODAKLy9teWF4aW9zLmRlZmF1bHQuYmFzZVVSTCA9ICdodHRwOi8vbG9jYWxob3N0Ojg5ODkvYXBpJwoKLy/orr7nva5heGlvc+eahOaLpuaIquWZqO+8iOWPkei1t+ivt+axguS5i+WJje+8ieOAgiDor7fmsYLkuYvliY3lgZrkuIDkupvorr7nva46IOWwhnRva2Vu5pC65bimIOivt+axguWktOS4reOAggpteWF4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShjb25maWcgPT4gewogIGNvbmZpZy5oZWFkZXJzWyd0b2tlbiddID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CiAgcmV0dXJuIGNvbmZpZzsKfSk7CgovL+iuvue9rmF4aW9z5oum5oiq5Zmo77yI5ZON5bqU5pWw5o2u5aSE55CG5LmL5YmNICwgdGhlbigp5omn6KGM5LmL5YmN77yJICDnirbmgIHnoIHliKTmlq3vvIwyMDAwMOato+W4uOaJp+ihjO+8jCDlhbblroPplJnor6/pqozor4HnoIEg77yI55u05o6l5aSE55CG77yJCm15YXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShyZXNwb25zZSA9PiB7CiAgLy/ojrflvpfmnI3liqHlmajov5Tlm57nmoTmlbDmja4KICBsZXQgcmVzdWx0ID0gcmVzcG9uc2UuZGF0YTsKICAvL0phdmHmnI3liqHlmajoh6rlrprkuYkg6K+35rGC54q25oCB56CB77yaMjAwMDDmiJDlip8sMTAwMDHnlKjmiLflkI3kuI3lrZjlnKgsMTAwMDIg5a+G56CB6ZSZ6K+vCiAgaWYgKHJlc3VsdC5jb2RlID09IDIwMDAwKSB7CiAgICByZXR1cm4gcmVzcG9uc2U7CiAgfSBlbHNlIHsKICAgIEVsZW1lbnQuTWVzc2FnZS53YXJuaW5nKHJlc3VsdC5tZXNzYWdlID8gcmVzdWx0Lm1lc3NhZ2UgOiAn57O757uf5byC5bi4Jyk7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzcG9uc2UuZGF0YS5tZXNzYWdlKTsKICB9Cn0sIGVycm9yID0+IHsKICAvL2Vycm9yLnJlcHNvbnNlLmRhdGEuc3RhdHVzICDnirbmgIHnoIHkuI3mmK/miJHku6xKYXZh5pyN5Yqh5Zmo6Ieq5a6a5LmJ54q25oCB56CB77yM5piv56iL5bqP5omn6KGM6ZSZ6K+v77yMaHR0cOWNj+iurueahOmUmeivr+eggQogIGlmIChlcnJvci5yZXNwb25zZS5kYXRhKSB7CiAgICBlcnJvci5tZXNzYWdlID0gZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlOwogIH0KICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09IDQwMSkgewogICAgcm91dGVyLnB1c2goJy9sb2dpbicpOwogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsgLy9Qcm9taXNlLnJlc29sdmXmoIfor4blvILmraXor7fmsYLmiafooYzlrozmr5XkuobjgIIKICB9CgogIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT0gNDA0KSB7CiAgICAvL+WmguaenOeoi+W6j+aJp+ihjOi/lOWbnueahOeKtuaAgeeggeaYrzQwNO+8jOmCo+S5iOWwsei3s+i9rOiHs25vdGZvdW5k55WM6Z2iCiAgICByb3V0ZXIucHVzaCgnL25vdGZvdW5kJyk7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogIH0KICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09IDQwMCkgewogICAgZXJyb3IubWVzc2FnZSA9ICfor7fmsYLmnI3liqHlmajnmoTmlrnms5XplJnor68nOwogIH0KICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09IDUwMCkgewogICAgZXJyb3IubWVzc2FnZSA9ICfmnI3liqHlmajku6PnoIHplJnor68nOwogIH0KICBFbGVtZW50Lk1lc3NhZ2UuZXJyb3IoZXJyb3IubWVzc2FnZSk7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsgLy/moIfor4blvILmraXor7fmsYLmiafooYzlrozmr5XkuobjgIIKfSk7CgpleHBvcnQgZGVmYXVsdCBteWF4aW9zOw=="},{"version":3,"names":["axios","Element","router","defaults","baseURL","myaxios","create","timeout","headers","interceptors","request","use","config","localStorage","getItem","response","result","data","code","Message","warning","message","Promise","reject","error","status","push"],"sources":["D:/desk/vue_server_system/src/api/index.js"],"sourcesContent":["import axios from 'axios'\r\nimport Element from 'element-ui'\r\nimport router from '@/router'\r\n\r\naxios.defaults.baseURL = '/api'\r\n//创建一个axios的请求对象\r\nconst myaxios = axios.create({\r\n  timeout: 5000, //设置超时的时间\r\n  headers: {\r\n    'Content-Type': 'application/json;charset=utf-8',\r\n  },\r\n})\r\n\r\n//基础路径的设置：访问Java服务器  加: http://localhost:8080\r\n//myaxios.default.baseURL = 'http://localhost:8989/api'\r\n\r\n//设置axios的拦截器（发起请求之前）。 请求之前做一些设置: 将token携带 请求头中。\r\nmyaxios.interceptors.request.use(config => {\r\n  config.headers['token'] = localStorage.getItem('token')\r\n  return config\r\n})\r\n\r\n//设置axios拦截器（响应数据处理之前 , then()执行之前）  状态码判断，20000正常执行， 其它错误验证码 （直接处理）\r\nmyaxios.interceptors.response.use(\r\n  response => {\r\n    //获得服务器返回的数据\r\n    let result = response.data\r\n    //Java服务器自定义 请求状态码：20000成功,10001用户名不存在,10002 密码错误\r\n    if (result.code == 20000) {\r\n      return response\r\n    } else {\r\n      Element.Message.warning(result.message ? result.message : '系统异常')\r\n      return Promise.reject(response.data.message)\r\n    }\r\n  },\r\n  error => {\r\n    //error.repsonse.data.status  状态码不是我们Java服务器自定义状态码，是程序执行错误，http协议的错误码\r\n    if (error.response.data) {\r\n      error.message = error.response.data.message\r\n    }\r\n    if (error.response.status == 401) {\r\n      router.push('/login')\r\n      return Promise.reject(error) //Promise.resolve标识异步请求执行完毕了。\r\n    }\r\n    if (error.response.status == 404) {\r\n      //如果程序执行返回的状态码是404，那么就跳转至notfound界面\r\n      router.push('/notfound')\r\n      return Promise.reject(error)\r\n    }\r\n    if (error.response.status == 400) {\r\n      error.message = '请求服务器的方法错误'\r\n    }\r\n    if (error.response.status == 500) {\r\n      error.message = '服务器代码错误'\r\n    }\r\n    Element.Message.error(error.message)\r\n    return Promise.reject(error) //标识异步请求执行完毕了。\r\n  }\r\n)\r\n\r\nexport default myaxios\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,YAAY;AAChC,OAAOC,MAAM,MAAM,UAAU;AAE7BF,KAAK,CAACG,QAAQ,CAACC,OAAO,GAAG,MAAM;AAC/B;AACA,MAAMC,OAAO,GAAGL,KAAK,CAACM,MAAM,CAAC;EAC3BC,OAAO,EAAE,IAAI;EAAE;EACfC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACA;;AAEA;AACAH,OAAO,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAACC,MAAM,IAAI;EACzCA,MAAM,CAACJ,OAAO,CAAC,OAAO,CAAC,GAAGK,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACvD,OAAOF,MAAM;AACf,CAAC,CAAC;;AAEF;AACAP,OAAO,CAACI,YAAY,CAACM,QAAQ,CAACJ,GAAG,CAC/BI,QAAQ,IAAI;EACV;EACA,IAAIC,MAAM,GAAGD,QAAQ,CAACE,IAAI;EAC1B;EACA,IAAID,MAAM,CAACE,IAAI,IAAI,KAAK,EAAE;IACxB,OAAOH,QAAQ;EACjB,CAAC,MAAM;IACLd,OAAO,CAACkB,OAAO,CAACC,OAAO,CAACJ,MAAM,CAACK,OAAO,GAAGL,MAAM,CAACK,OAAO,GAAG,MAAM,CAAC;IACjE,OAAOC,OAAO,CAACC,MAAM,CAACR,QAAQ,CAACE,IAAI,CAACI,OAAO,CAAC;EAC9C;AACF,CAAC,EACDG,KAAK,IAAI;EACP;EACA,IAAIA,KAAK,CAACT,QAAQ,CAACE,IAAI,EAAE;IACvBO,KAAK,CAACH,OAAO,GAAGG,KAAK,CAACT,QAAQ,CAACE,IAAI,CAACI,OAAO;EAC7C;EACA,IAAIG,KAAK,CAACT,QAAQ,CAACU,MAAM,IAAI,GAAG,EAAE;IAChCvB,MAAM,CAACwB,IAAI,CAAC,QAAQ,CAAC;IACrB,OAAOJ,OAAO,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC;EAC/B;;EACA,IAAIA,KAAK,CAACT,QAAQ,CAACU,MAAM,IAAI,GAAG,EAAE;IAChC;IACAvB,MAAM,CAACwB,IAAI,CAAC,WAAW,CAAC;IACxB,OAAOJ,OAAO,CAACC,MAAM,CAACC,KAAK,CAAC;EAC9B;EACA,IAAIA,KAAK,CAACT,QAAQ,CAACU,MAAM,IAAI,GAAG,EAAE;IAChCD,KAAK,CAACH,OAAO,GAAG,YAAY;EAC9B;EACA,IAAIG,KAAK,CAACT,QAAQ,CAACU,MAAM,IAAI,GAAG,EAAE;IAChCD,KAAK,CAACH,OAAO,GAAG,SAAS;EAC3B;EACApB,OAAO,CAACkB,OAAO,CAACK,KAAK,CAACA,KAAK,CAACH,OAAO,CAAC;EACpC,OAAOC,OAAO,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC;AAC/B,CAAC,CACF;;AAED,eAAenB,OAAO"}]}