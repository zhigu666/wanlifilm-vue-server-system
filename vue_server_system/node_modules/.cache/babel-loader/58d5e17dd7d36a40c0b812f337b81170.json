{"remainingRequest":"D:\\vue_workspace\\vue_server_system\\node_modules\\babel-loader\\lib\\index.js!D:\\vue_workspace\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\vue_workspace\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue_workspace\\vue_server_system\\src\\views\\system\\Menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue_workspace\\vue_server_system\\src\\views\\system\\Menu.vue","mtime":1680742901659},{"path":"D:\\vue_workspace\\vue_server_system\\babel.config.js","mtime":1679550448295},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBNZW51Rm9ybTogW10sCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgLy/oj5zljZXooajmoLzmmL7npLrmlbDmja4KICAgICAgTWVudVJ1bGVzOiB7CiAgICAgICAgcGFyZW50SWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nkuIrnuqfoj5zljZUnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeiPnOWNleeahOWQjeensCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwZXJtczogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeiPnOWNleeahOadg+mZkOe8lueggScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICB0eXBlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6I+c5Y2V55qE57G75Z6LJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHN0YXR1OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6I+c5Y2V55qE54q25oCBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7fSwKICBwcm9wczoge30sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZE1lbnVMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHRoaXMuJGF4aW9zLnBvc3QoJy9zeXN0ZW0vbWVudS8nICsgKHRoaXMuTWVudUZvcm0uaWQgPyAndXBkYXRlJyA6ICdzYXZlJyksIHRoaXMuTWVudUZvcm0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UsCiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAxMjAwLAogICAgICAgICAgICAgIG9uQ2xvc2U6ICgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMubG9hZE1lbnVMaXN0KCk7CiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLnJlc3RGb3JtKGZvcm1OYW1lKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlc3RGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuTWVudUZvcm0gPSB7fTsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgIH0sCiAgICBoYW5kbGVDbG9zZSgpIHsKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlOwogICAgICB0aGlzLnJlc3RGb3JtKCdNZW51Rm9ybScpOwogICAgfSwKICAgIGVkaXRNZW51KGlkKSB7CiAgICAgIHRoaXMuJGF4aW9zLmdldCgnL3N5c3RlbS9tZW51L2luZm8vJyArIGlkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLk1lbnVGb3JtID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRkYXRhOwogICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOwogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVNZW51KGlkKSB7CiAgICAgIHRoaXMuJGF4aW9zLnBvc3QoJy9zeXN0ZW0vbWVudS9kZWxldGUnLCBpZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UsCiAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICBkdXJhdGlvbjogMTIwMCwKICAgICAgICAgIG9uQ2xvc2U6ICgpID0+IHsKICAgICAgICAgICAgdGhpcy5sb2FkTWVudUxpc3QoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgbG9hZE1lbnVMaXN0KCkgewogICAgICB0aGlzLiRheGlvcy5nZXQoJy9zeXN0ZW0vbWVudS9saXN0JykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXNwb25zZS5kYXRhLnJlc3VsdGRhdGE7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["data","MenuForm","dialogFormVisible","tableData","MenuRules","parentId","required","message","trigger","name","perms","type","statu","components","props","created","loadMenuList","methods","submitForm","formName","$refs","validate","valid","$axios","post","id","then","response","$message","duration","onClose","restForm","resetFields","handleClose","editMenu","get","resultdata","deleteMenu"],"sources":["src/views/system/Menu.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!--    创建菜单页面工具栏-->\r\n    <el-form :inline=\"true\">\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"dialogFormVisible=true\">新建菜单</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <!--    菜单表格-->\r\n    <el-table :data=\"tableData\" default-expand-all border row-key=\"id\"\r\n              :tree-props=\"{children:'children',hasChildren:'hasChildren'}\" style=\"width: 100%; margin-bottom:20px;\"\r\n              :cell-style=\"{padding:'2px'}\">\r\n      <el-table-column label=\"名称\" width=\"180\" prop=\"name\">\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"权限编码\" width=\"180\" prop=\"perms\">\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"菜单图标\" width=\"180\" prop=\"icon\">\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"菜单类别\" width=\"120\" prop=\"type\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag size=\"mini\" v-if=\"scope.row.type===0\">目录</el-tag>\r\n          <el-tag size=\"mini\" v-else-if=\"scope.row.type===1\" type=\"success\">菜单</el-tag>\r\n          <el-tag size=\"mini\" v-else-if=\"scope.row.type===2\" type=\"warning\">按钮</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"菜单URL\" prop=\"path\">\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"菜单组件\" prop=\"component\">\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"状态\" prop=\"statu\">\r\n        <template slot-scope=\"scope\">\r\n          <!--        <el-tag size=\"mini\" type=\"success\">正常</el-tag>-->\r\n          <el-tag size=\"mini\" v-if=\"scope.row.statu===1\" type=\"success\">正常</el-tag>\r\n          <el-tag size=\"mini\" v-else-if=\"scope.row.statu===0\" type=\"danger\">禁用</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"text\" @click=\"editMenu(scope.row.id)\">编辑</el-button>\r\n          <el-divider direction=\"vertical\"></el-divider>\r\n          <el-popconfirm title=\"确认要删除该菜单信息吗？\" @confirm=\"deleteMenu(scope.row.id)\">\r\n            <el-button slot=\"reference\" type=\"text\">删除</el-button>\r\n          </el-popconfirm>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!--    新建菜单对话框-->\r\n    <el-dialog title=\"用户信息\" :visible.sync=\"dialogFormVisible\" width=\"550px\" :before-close=\"handleClose\">\r\n      <el-form :model=\"MenuForm\" ref=\"MenuForm\" label-width=\"100px\" :rules=\"MenuRules\">\r\n        <el-form-item label=\"上级菜单\" prop=\"parentId\">\r\n          <el-select v-model=\"MenuForm.parentId\" placeholder=\"请选择上级菜单\">\r\n            <template v-for=\"(item,index) in tableData\">\r\n              <el-option :key=\"item.id\" :label=\"item.name\" :value=\"item.id\">\r\n              </el-option>\r\n              <!--            二级菜单-->\r\n              <template v-for=\"(childMenu,i) in item.children\">\r\n                <el-option :label=\"childMenu.name\" :value=\"childMenu.id\" :key=\"childMenu.id\">\r\n                  <span style=\"padding-left: 20px;\">{{ ' -' + childMenu.name }}</span>\r\n                </el-option>\r\n              </template>\r\n            </template>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"菜单名称\" label-width=\"100px\" prop=\"name\">\r\n          <el-input v-model=\"MenuForm.name\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"权限编码\" label-width=\"100px\" prop=\"perms\">\r\n          <el-input v-model=\"MenuForm.perms\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"图标\" label-width=\"100px\" prop=\"icon\">\r\n          <el-input v-model=\"MenuForm.icon\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"菜单URL\" label-width=\"100px\" prop=\"path\">\r\n          <el-input v-model=\"MenuForm.path\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"菜单组件\" label-width=\"100px\" prop=\"component\">\r\n          <el-input v-model=\"MenuForm.component\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"菜单类型\" label-width=\"100px\" prop=\"type\">\r\n          <el-radio-group v-model=\"MenuForm.type\">\r\n            <el-radio :label=\"0\">目录</el-radio>\r\n            <el-radio :label=\"1\">菜单</el-radio>\r\n            <el-radio :label=\"2\">按钮</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"菜单状态\" label-width=\"100px\" prop=\"statu\">\r\n          <el-radio-group v-model=\"MenuForm.statu\">\r\n            <el-radio :label=\"0\">禁用</el-radio>\r\n            <el-radio :label=\"1\">正常</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"submitForm('MenuForm')\">保存菜单</el-button>\r\n          <el-button @click=\"restForm('MenuForm')\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      MenuForm: [],\r\n      dialogFormVisible: false,\r\n      tableData: [],//菜单表格显示数据\r\n      MenuRules: {\r\n        parentId:[{required:true,message:'请选择上级菜单',trigger:'blur'}],\r\n        name:[{required:true,message:'请输入菜单的名称',trigger:'blur'}],\r\n        perms:[{required:true,message:'请输入菜单的权限编码',trigger:'blur'}],\r\n        type:[{required:true,message:'请输入菜单的类型',trigger:'blur'}],\r\n        statu:[{required:true,message:'请输入菜单的状态',trigger:'blur'}],\r\n      },\r\n    }\r\n  },\r\n  components: {},\r\n  props: {},\r\n  created() {\r\n    this.loadMenuList()\r\n  },\r\n\r\n  methods: {\r\n    submitForm(formName){\r\n      this.$refs[formName].validate(valid =>{\r\n        if (valid){\r\n          this.$axios.post('/system/menu/'+(this.MenuForm.id ? 'update' : 'save'), this.MenuForm)\r\n          .then((response)=>{\r\n            this.$message({\r\n              message:response.data.message,\r\n              type: \"success\",\r\n              duration:1200,\r\n              onClose: () => {\r\n                this.loadMenuList()\r\n                this.dialogFormVisible = false\r\n                this.restForm(formName)\r\n              }\r\n            });\r\n          })\r\n        }else {\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    restForm(formName){\r\n      this.MenuForm={}\r\n      this.$refs[formName].resetFields()\r\n    },\r\n    handleClose() {\r\n      this.dialogFormVisible = false\r\n      this.restForm('MenuForm')\r\n    },\r\n    editMenu(id) {\r\n      this.$axios.get('/system/menu/info/' + id).then(response => {\r\n        this.MenuForm=response.data.resultdata\r\n        this.dialogFormVisible=true\r\n      })\r\n    },\r\n    deleteMenu(id) {\r\n      this.$axios.post('/system/menu/delete',id)\r\n      .then((response)=>{\r\n        this.$message({\r\n          message:response.data.message,\r\n          type: \"success\",\r\n          duration:1200,\r\n          onClose: () => {\r\n            this.loadMenuList()\r\n          }\r\n        });\r\n      })\r\n    },\r\n\r\n    loadMenuList() {\r\n      this.$axios.get('/system/menu/list').then(response => {\r\n        this.tableData = response.data.resultdata\r\n      })\r\n    },\r\n  }\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":"AAsHA;EACAA,KAAA;IACA;MACAC,QAAA;MACAC,iBAAA;MACAC,SAAA;MAAA;MACAC,SAAA;QACAC,QAAA;UAAAC,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACAC,IAAA;UAAAH,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACAE,KAAA;UAAAJ,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACAG,IAAA;UAAAL,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACAI,KAAA;UAAAN,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MACA;IACA;EACA;EACAK,UAAA;EACAC,KAAA;EACAC,QAAA;IACA,KAAAC,YAAA;EACA;EAEAC,OAAA;IACAC,WAAAC,QAAA;MACA,KAAAC,KAAA,CAAAD,QAAA,EAAAE,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA,KAAAC,MAAA,CAAAC,IAAA,yBAAAvB,QAAA,CAAAwB,EAAA,4BAAAxB,QAAA,EACAyB,IAAA,CAAAC,QAAA;YACA,KAAAC,QAAA;cACArB,OAAA,EAAAoB,QAAA,CAAA3B,IAAA,CAAAO,OAAA;cACAI,IAAA;cACAkB,QAAA;cACAC,OAAA,EAAAA,CAAA;gBACA,KAAAd,YAAA;gBACA,KAAAd,iBAAA;gBACA,KAAA6B,QAAA,CAAAZ,QAAA;cACA;YACA;UACA;QACA;UACA;QACA;MACA;IACA;IACAY,SAAAZ,QAAA;MACA,KAAAlB,QAAA;MACA,KAAAmB,KAAA,CAAAD,QAAA,EAAAa,WAAA;IACA;IACAC,YAAA;MACA,KAAA/B,iBAAA;MACA,KAAA6B,QAAA;IACA;IACAG,SAAAT,EAAA;MACA,KAAAF,MAAA,CAAAY,GAAA,wBAAAV,EAAA,EAAAC,IAAA,CAAAC,QAAA;QACA,KAAA1B,QAAA,GAAA0B,QAAA,CAAA3B,IAAA,CAAAoC,UAAA;QACA,KAAAlC,iBAAA;MACA;IACA;IACAmC,WAAAZ,EAAA;MACA,KAAAF,MAAA,CAAAC,IAAA,wBAAAC,EAAA,EACAC,IAAA,CAAAC,QAAA;QACA,KAAAC,QAAA;UACArB,OAAA,EAAAoB,QAAA,CAAA3B,IAAA,CAAAO,OAAA;UACAI,IAAA;UACAkB,QAAA;UACAC,OAAA,EAAAA,CAAA;YACA,KAAAd,YAAA;UACA;QACA;MACA;IACA;IAEAA,aAAA;MACA,KAAAO,MAAA,CAAAY,GAAA,sBAAAT,IAAA,CAAAC,QAAA;QACA,KAAAxB,SAAA,GAAAwB,QAAA,CAAA3B,IAAA,CAAAoC,UAAA;MACA;IACA;EACA;AAGA"}]}