{"remainingRequest":"D:\\desk\\vue_server_system\\node_modules\\babel-loader\\lib\\index.js!D:\\desk\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\desk\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\desk\\vue_server_system\\src\\views\\system\\Arrangement.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\desk\\vue_server_system\\src\\views\\system\\Arrangement.vue","mtime":1685261158796},{"path":"D:\\desk\\vue_server_system\\babel.config.js","mtime":1679550857243},{"path":"D:\\desk\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\desk\\vue_server_system\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\desk\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\desk\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgQXJyYW5nZW1lbnRGb3JtOiB7CiAgICAgICAgc3RhcnR0aW1lOiAnJywKICAgICAgICBlbmR0aW1lOiAnJywKICAgICAgICBzdGF0dTogMSwKICAgICAgICBuYW1lOiAnJywKICAgICAgICBwcmljZTogJycsCiAgICAgICAgc2VhdHNudW1iZXI6ICcnLAogICAgICAgIHR5cGU6ICcnLAogICAgICAgIHN0YXRpc3RpY3M6ICcnLAogICAgICAgIGRhdGU6ICcnCiAgICAgIH0sCiAgICAgIHNlbGVjdGlvbjogW10sCiAgICAgIHRvdGFsOiAwLAogICAgICBzaXplOiA1LAogICAgICBjdXJyZW50OiAxLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBkZWxldGVBbGxCdG5TdHU6IHRydWUsCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgc2VhcmNoRm9ybTogewogICAgICAgIG5hbWU6ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgbmFtZTogWwogICAgICAgIC8v6Z2e56m66aqM6K+BCiAgICAgICAgewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl55S15b2x5ZCN56ewJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHNlYXRzbnVtYmVyOiBbCiAgICAgICAgLy/pnZ7nqbrpqozor4EKICAgICAgICB7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlvIDmlL7luqfkvY3mlbDph48nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgdHlwZTogWwogICAgICAgIC8v6Z2e56m66aqM6K+BCiAgICAgICAgewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl55S15b2x57G75Z6LJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHN0YXRpc3RpY3M6IFsKICAgICAgICAvL+mdnuepuumqjOivgQogICAgICAgIHsKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeelqOaIv+aAu+aVsCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwcmljZTogWwogICAgICAgIC8v6Z2e56m66aqM6K+BCiAgICAgICAgewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl55S15b2x56Wo5Lu35qC8JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGRhdGU6IFsKICAgICAgICAvL+mdnuepuumqjOivgQogICAgICAgIHsKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeeUteW9seaUvuaYoOaXpeacnycsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICAvLyBzdGFydHRpbWU6IFsKICAgICAgICAvLyAgICAgLy/pnZ7nqbrpqozor4EKICAgICAgICAvLyAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqeeUteW9seW8gOWni+aXtumXtCcsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgLy8gXSwKICAgICAgICAvLyBlbmR0aW1lOiBbCiAgICAgICAgLy8gICAgIC8v6Z2e56m66aqM6K+BCiAgICAgICAgLy8gICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nnlLXlvbHnu5PmnZ/ml7bpl7QnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIC8vIF0sCiAgICAgICAgc3RhdHU6IFsKICAgICAgICAvL+mdnuepuumqjOivgQogICAgICAgIHsKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeeUteW9seeKtuaAgScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcG9uZW50czoge30sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZEFycmFuZ2VtZW50TGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlckN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMuY3VycmVudCA9IHZhbDsKICAgICAgdGhpcy5sb2FkQXJyYW5nZW1lbnRMaXN0KCk7CiAgICB9LAogICAgaGFuZGxlclNpemVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMuc2l6ZSA9IHZhbDsKICAgICAgdGhpcy5sb2FkQXJyYW5nZW1lbnRMaXN0KCk7CiAgICB9LAogICAgc2VsZWN0aW9uQ2hhbmdlKHZhbHVlKSB7CiAgICAgIHRoaXMuc2VsZWN0aW9uID0gdmFsdWU7CiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbikgewogICAgICAgIHRoaXMuZGVsZXRlQWxsQnRuU3R1ID0gdGhpcy5zZWxlY3Rpb24ubGVuZ3RoID09IDA7CiAgICAgIH0KICAgIH0sCiAgICBzZWFyY2hGaWxtSW5mbygpIHsKICAgICAgdGhpcy5sb2FkQXJyYW5nZW1lbnRMaXN0KCk7CiAgICB9LAogICAgc3VibWl0Rm9ybShmb3JtTmFtZSkgewogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KCcvc3lzdGVtL2FycmFuZ2VtZW50LycgKyAodGhpcy5BcnJhbmdlbWVudEZvcm0uaWQgPyAndXBkYXRlJyA6ICdzYXZlJyksIHRoaXMuQXJyYW5nZW1lbnRGb3JtKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLAogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAvLyBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsCiAgICAgICAgICAgICAgb25DbG9zZTogKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5sb2FkQXJyYW5nZW1lbnRMaXN0KCk7CiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7IC8v6Ieq5Yqo6YCA5Ye6CiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0Rm9ybShmb3JtTmFtZSk7IC8v6YeN572u6KGo5Y2VCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8vIHN1Ym1pdEZvcm0oZm9ybU5hbWUpIHsKICAgIC8vICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAvLyAgICAgICAgIGlmICh2YWxpZCkgewogICAgLy8gICAgICAgICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL3N5c3RlbS9tZW51LycgKyAodGhpcy5NZW51Rm9ybS5pZCA/ICd1cGRhdGUnIDogJ3NhdmUnKSwgdGhpcy5NZW51Rm9ybSkKICAgIC8vICAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UsCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTIwMCwKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6ICgpID0+IHsKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRNZW51TGlzdCgpCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlCiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN0Rm9ybShmb3JtTmFtZSkKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgIC8vICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAvLyAgICAgICAgICAgICAgICAgfSkKICAgIC8vICAgICAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgICAgICAgIHJldHVybiBmYWxzZQogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgfSkKICAgIC8vIH0sCiAgICByZXNldEZvcm0oZm9ybU5hbWUpIHsKICAgICAgdGhpcy5BcnJhbmdlbWVudEZvcm0gPSB7fTsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgIH0sCiAgICBoYW5kbGVDbG9zZSgpIHsKICAgICAgLy8gdGhpcy5yZXNldEZvcm0oJ1VzZXJGb3JtJykKICAgICAgdGhpcy5BcnJhbmdlbWVudEZvcm0gPSB7fTsKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIC8vIGxvYWRBcnJhbmdlbWVudExpc3QoKSB7CiAgICAvLyAgICAgdGhpcy4kYXhpb3MuZ2V0KCcvc3lzdGVtL2FycmFuZ2VtZW50L2xpc3QnKS50aGVuKHJlc3BvbnNlID0+IHsKICAgIC8vICAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXNwb25zZS5kYXRhLnJlc3VsdGRhdGEucmVjb3JkcwogICAgLy8gICAgICAgICB0aGlzLnRvdGFsID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRkYXRhLnRvdGFsCiAgICAvLyAgICAgICAgIHRoaXMuc2l6ZSA9IHJlc3BvbnNlLmRhdGEucmVzdWx0ZGF0YS5zaXplCiAgICAvLyAgICAgICAgIHRoaXMuY3VycmVudCA9IHJlc3BvbnNlLmRhdGEucmVzdWx0ZGF0YS5jdXJyZW50CiAgICAvLyAgICAgfSkKICAgIC8vIH0sCiAgICBsb2FkQXJyYW5nZW1lbnRMaXN0KCkgewogICAgICB0aGlzLiRheGlvcy5nZXQoJy9zeXN0ZW0vYXJyYW5nZW1lbnQvbGlzdCcsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIG5hbWU6IHRoaXMuc2VhcmNoRm9ybS5uYW1lLAogICAgICAgICAgY3VycmVudDogdGhpcy5jdXJyZW50LAogICAgICAgICAgc2l6ZTogdGhpcy5zaXplCiAgICAgICAgfQogICAgICB9KS50aGVuKHJlcHNvbnNlID0+IHsKICAgICAgICAvL+iOt+W+l+WIhumhteeahOeUqOaIt+S/oeaBrwogICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVwc29uc2UuZGF0YS5yZXN1bHRkYXRhLnJlY29yZHM7CiAgICAgICAgLy8gY29uc29sZS5sb2coJzExMScsIHRoaXMudGFibGVEYXRhKTsKICAgICAgICAvL+iOt+W+l+acjeWKoeWZqOWPkeWbnuWIhumhteebuOWFs+eahOaVsOaNrgogICAgICAgIHRoaXMudG90YWwgPSByZXBzb25zZS5kYXRhLnJlc3VsdGRhdGEudG90YWw7CiAgICAgICAgdGhpcy5zaXplID0gcmVwc29uc2UuZGF0YS5yZXN1bHRkYXRhLnNpemU7CiAgICAgICAgdGhpcy5jdXJyZW50ID0gcmVwc29uc2UuZGF0YS5yZXN1bHRkYXRhLmN1cnJlbnQ7CiAgICAgIH0pOwogICAgICAvLyAvL+ivt+axguacjeWKoeWZqOerr++8jOiOt+W+l+aJgOacieeahOinkuiJsuS/oeaBr++8jOe7meWIsFRyZWXmjqfku7YKICAgICAgLy8gdGhpcy4kYXhpb3MuZ2V0KCcvc3lzdGVtL3JvbGUvbGlzdCcpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAvLyAgICAgdGhpcy5yb2xlVHJlZURhdGEgPSByZXNwb25zZS5kYXRhLnJlc3VsdGRhdGEucmVjb3JkczsKICAgICAgLy8gfSkKICAgIH0sCgogICAgLy8gZWRpdEFycmFuZ2VtZW50KGlkKSB7CiAgICAvLyAgICAgdGhpcy4kYXhpb3MoJy9hcnJhbmdlbWVudC9hcnJhbmdlbWVudGluZm8vKicgKyBpZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAvLyAgICAgICAgIHRoaXMuQXJyYW5nZW1lbnRGb3JtID0gcmVzcG9uc2UuZGF0YS5kYXRhCiAgICAvLyAgICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlCiAgICAvLyAgICAgfSkKICAgIC8vIH0sCiAgICBlZGl0QXJyYW5nZW1lbnQoaWQpIHsKICAgICAgdGhpcy4kYXhpb3MuZ2V0KCcvc3lzdGVtL2FycmFuZ2VtZW50L2luZm8vJyArIGlkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLkFycmFuZ2VtZW50Rm9ybSA9IHJlc3BvbnNlLmRhdGEucmVzdWx0ZGF0YTsKICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZTsKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlQXJyYW5nZW1lbnQoaWQpIHsKICAgICAgbGV0IGlkcyA9IFtdOyAvL+imgeWIoOmZpOeahOS4gOe7hOaVsOaNrueahGlkCiAgICAgIGlkID8gaWRzLnB1c2goaWQpIDogdGhpcy5zZWxlY3Rpb24uZm9yRWFjaCh1ID0+IHsKICAgICAgICBpZHMucHVzaCh1LmlkKTsKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKGlkcyk7CiAgICAgIHRoaXMuJGF4aW9zLnBvc3QoJy9zeXN0ZW0vYXJyYW5nZW1lbnQvZGVsZXRlJywgaWRzKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLmRhdGEubWVzc2FnZSwKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIG9uQ2xvc2U6ICgpID0+IHsKICAgICAgICAgICAgdGhpcy5sb2FkQXJyYW5nZW1lbnRMaXN0KCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["data","ArrangementForm","starttime","endtime","statu","name","price","seatsnumber","type","statistics","date","selection","total","size","current","tableData","deleteAllBtnStu","dialogFormVisible","searchForm","rules","required","message","trigger","components","created","loadArrangementList","methods","handlerCurrentChange","val","handlerSizeChange","selectionChange","value","length","searchFilmInfo","submitForm","formName","$refs","validate","valid","$axios","post","id","then","response","$message","duration","onClose","resetForm","resetFields","handleClose","get","params","repsonse","resultdata","records","editArrangement","deleteArrangement","ids","push","forEach","u","console","log","showClose"],"sources":["src/views/system/Arrangement.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-form ref=\"form\" :model=\"searchForm\" :inline=\"true\">\r\n      <el-form-item>\r\n        <el-input v-model=\"searchForm.name\" placeholder=\"请输入要搜索的内容\"></el-input>\r\n      </el-form-item>\r\n      <!-- <el-form-item> -->\r\n      <!-- <el-form-item style=\"margin-right: 8px;\">添加时间</el-form-item>\r\n  </el-form-item>\r\n      <template>\r\n          <el-date-picker type=\"date\" placeholder=\"选择开始日期\" style=\"margin-right: 8px;\">\r\n          </el-date-picker>\r\n          <el-date-picker type=\"date\" placeholder=\"选择截止日期\" style=\"margin-right: 8px;\">\r\n          </el-date-picker>\r\n      </template> -->\r\n      <el-form-item>\r\n        <el-button @click=\"searchFilmInfo\">搜索</el-button>\r\n        <!-- <el-button type=\"info\">清空</el-button> -->\r\n        <el-button type=\"primary\" @click=\"dialogFormVisible = true\"\r\n                   v-if=\"hasAuth('sys:arrangement:save')\">新建</el-button>\r\n        <el-popconfirm title=\"确认要批量删除角色消息吗？\" @confirm=\"deleteArrangement\">\r\n          <el-button slot=\"reference\" type=\"danger\" :disabled=\"deleteAllBtnStu\" style=\"margin-left: 8px;\"\r\n                     v-if=\"hasAuth('sys:arrangement:delete')\">批量删除</el-button>\r\n        </el-popconfirm>\r\n      </el-form-item>\r\n    </el-form>\r\n    <el-table :data=\"tableData\" border stripe style=\"width: 100%; margin-bottom: 20px;\" :cell-style=\"{ padding: '2px' }\"\r\n              @selection-change=\"selectionChange\">\r\n      <el-table-column type=\"selection\" width=\"50\">\r\n      </el-table-column>\r\n      <el-table-column label=\"电影名称\" width=\"100\" prop=\"name\">\r\n      </el-table-column>\r\n      <el-table-column width=\"100\" label=\"开放座位\" prop=\"seatsnumber\">\r\n      </el-table-column>\r\n      <el-table-column width=\"50\" label=\"类型\" prop=\"type\">\r\n      </el-table-column>\r\n      <el-table-column width=\"90\" label=\"票房统计\" prop=\"statistics\">\r\n      </el-table-column>\r\n      <el-table-column width=\"60\" label=\"价格\" prop=\"price\">\r\n      </el-table-column>\r\n      <el-table-column width=\"120\" label=\"电影放映日期\" prop=\"date\">\r\n      </el-table-column>\r\n      <el-table-column label=\"电影开始时间\" prop=\"starttime\" width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column label=\"电影结束时间\" prop=\"endtime\" width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column label=\"状态\" width=\"70\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag size=\"mini\" v-if=\"scope.row.statu === 1\" type=\"success\">上架</el-tag>\r\n          <el-tag size=\"mini\" v-else-if=\"scope.row.statu === 0\" type=\"danger\">下架</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"text\" @click=\"editArrangement(scope.row.id)\"\r\n                     v-if=\"hasAuth('sys:arrangement:update')\">编辑</el-button>\r\n          <el-divider direction=\"vertical\"></el-divider>\r\n          <el-popconfirm title=\"确认要删除角色信息吗？\" @confirm=\"deleteArrangement(scope.row.id)\">\r\n            <el-button slot=\"reference\" type=\"text\" v-if=\"hasAuth('sys:arrangement:delete')\">删除</el-button>\r\n          </el-popconfirm>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 显示分页页码 -->\r\n    <el-pagination background layout=\"total, sizes,prev, pager,next,jumper\" :total=\"total\" :page-size=\"size\"\r\n                   @size-change=\"handlerSizeChange\" @current-change=\"handlerCurrentChange\" :page-sizes=\"[5, 10, 15, 20, 25]\"\r\n                   :current-page=\"current\">\r\n    </el-pagination>\r\n\r\n    <el-dialog title=\"排片信息\" :visible.sync=\"dialogFormVisible\" width=\"550px\" :before-close=\"handleClose\">\r\n      <el-form :model=\"ArrangementForm\" ref=\"ArrangementForm\" label-width=\"100px\" :rules=\"rules\">\r\n        <el-form-item label=\"电影名称\" label-width=\"100px\" prop=\"name\">\r\n          <el-input v-model=\"ArrangementForm.name\" autocomplete=\"off\">\r\n          </el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"开放座位\" label-width=\"100px\" prop=\"seatsnumber\">\r\n          <el-input v-model=\"ArrangementForm.seatsnumber\" autocomplete=\"off\">\r\n          </el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"类型\" label-width=\"100px\" prop=\"type\">\r\n          <el-input v-model=\"ArrangementForm.type\" autocomplete=\"off\">\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"票房统计\" label-width=\"100px\" prop=\"statistics\">\r\n          <el-input v-model=\"ArrangementForm.statistics\" autocomplete=\"off\">\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"价格\" label-width=\"100px\" prop=\"price\">\r\n          <el-input v-model=\"ArrangementForm.price\" autocomplete=\"off\">\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"放映日期\" label-width=\"100px\" prop=\"date\">\r\n          <el-date-picker type=\"date\" v-model=\"ArrangementForm.date\" placeholder=\"选择电影放映日期\" autocomplete=\"off\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"开始时间\" label-width=\"100px\" prop=\"starttime\">\r\n          <!-- <el-date-picker v-model=\"ArrangementForm.starttime\" type=\"datetime\" placeholder=\"选择日期时间\"\r\n              autocomplete=\"off\">\r\n          </el-date-picker> -->\r\n          <el-time-picker arrow-control v-model=\"ArrangementForm.starttime\" :picker-options=\"{\r\n                        selectableRange: '09:30:00 - 18:30:00'\r\n                    }\" placeholder=\"选择时间点\">\r\n          </el-time-picker>\r\n\r\n\r\n        </el-form-item>\r\n        <el-form-item label=\"结束时间\" label-width=\"100px\" prop=\"endtime\">\r\n          <!-- <el-date-picker v-model=\"ArrangementForm.endtime\" type=\"datetime\" placeholder=\"选择日期时间\"\r\n              autocomplete=\"off\">\r\n          </el-date-picker> -->\r\n\r\n          <el-time-picker arrow-control v-model=\"ArrangementForm.endtime\" :picker-options=\"{\r\n                        selectableRange: '12:00:00 - 23:00:00'\r\n                    }\" placeholder=\"选择时间点\">\r\n          </el-time-picker>\r\n\r\n        </el-form-item>\r\n        <el-form-item label=\"状态\" label-width=\"100px\" prop=\"statu\">\r\n          <el-radio-group v-model=\"ArrangementForm.statu\">\r\n            <el-radio :label=\"0\">下架</el-radio>\r\n            <el-radio :label=\"1\">上架</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"submitForm('ArrangementForm')\">保存排片</el-button>\r\n          <el-button @click=\"resetForm('ArrangementForm')\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n\r\n  </div></template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      ArrangementForm: {\r\n        starttime: '',\r\n        endtime: '',\r\n        statu: 1,\r\n        name: '',\r\n        price: '',\r\n        seatsnumber: '',\r\n        type: '',\r\n        statistics: '',\r\n        date: '',\r\n      },\r\n      selection: [],\r\n      total: 0,\r\n      size: 5,\r\n      current: 1,\r\n      tableData: [],\r\n      deleteAllBtnStu: true,\r\n      dialogFormVisible: false,\r\n      searchForm: {\r\n        name: ''\r\n      },\r\n      rules: {\r\n        name: [\r\n          //非空验证\r\n          { required: true, message: '请输入电影名称', trigger: 'blur' }\r\n        ],\r\n        seatsnumber: [\r\n          //非空验证\r\n          { required: true, message: '请输入开放座位数量', trigger: 'blur' }\r\n        ],\r\n        type: [\r\n          //非空验证\r\n          { required: true, message: '请输入电影类型', trigger: 'blur' }\r\n        ],\r\n        statistics: [\r\n          //非空验证\r\n          { required: true, message: '请输入票房总数', trigger: 'blur' }\r\n        ],\r\n        price: [\r\n          //非空验证\r\n          { required: true, message: '请输入电影票价格', trigger: 'blur' }\r\n        ],\r\n        date: [\r\n          //非空验证\r\n          { required: true, message: '请选择电影放映日期', trigger: 'blur' }\r\n        ],\r\n        // starttime: [\r\n        //     //非空验证\r\n        //     { required: true, message: '请选择电影开始时间', trigger: 'blur' }\r\n        // ],\r\n        // endtime: [\r\n        //     //非空验证\r\n        //     { required: true, message: '请选择电影结束时间', trigger: 'blur' }\r\n        // ],\r\n        statu: [\r\n          //非空验证\r\n          { required: true, message: '请选择电影状态', trigger: 'blur' }\r\n        ],\r\n      },\r\n    }\r\n  },\r\n  components: {\r\n\r\n  },\r\n  created() {\r\n    this.loadArrangementList()\r\n  },\r\n  methods: {\r\n    handlerCurrentChange(val) {\r\n      this.current = val\r\n      this.loadArrangementList();\r\n    },\r\n    handlerSizeChange(val) {\r\n      this.size = val\r\n      this.loadArrangementList();\r\n    },\r\n    selectionChange(value) {\r\n      this.selection = value;\r\n      if (this.selection) {\r\n        this.deleteAllBtnStu = (this.selection.length == 0)\r\n      }\r\n    },\r\n    searchFilmInfo() {\r\n      this.loadArrangementList();\r\n    },\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          this.$axios.post('/system/arrangement/' + (this.ArrangementForm.id ? 'update' : 'save'), this.ArrangementForm)\r\n              .then(response => {\r\n                this.$message({\r\n                  message: response.data.message,\r\n                  type: 'success',\r\n                  // showClose: true,\r\n                  duration: 1000,\r\n                  onClose: () => {\r\n                    this.loadArrangementList()\r\n                    this.dialogFormVisible = false//自动退出\r\n                    this.resetForm(formName)//重置表单\r\n                  }\r\n                })\r\n              })\r\n        }\r\n      })\r\n    },\r\n    // submitForm(formName) {\r\n    //     this.$refs[formName].validate(valid => {\r\n    //         if (valid) {\r\n    //             this.$axios.post('/system/menu/' + (this.MenuForm.id ? 'update' : 'save'), this.MenuForm)\r\n    //                 .then((response) => {\r\n    //                     this.$message({\r\n    //                         message: response.data.message,\r\n    //                         type: \"success\",\r\n    //                         duration: 1200,\r\n    //                         onClose: () => {\r\n    //                             this.loadMenuList()\r\n    //                             this.dialogFormVisible = false\r\n    //                             this.restForm(formName)\r\n    //                         }\r\n    //                     });\r\n    //                 })\r\n    //         } else {\r\n    //             return false\r\n    //         }\r\n    //     })\r\n    // },\r\n    resetForm(formName) {\r\n      this.ArrangementForm = {}\r\n      this.$refs[formName].resetFields()\r\n    },\r\n    handleClose() {\r\n      // this.resetForm('UserForm')\r\n      this.ArrangementForm = {}\r\n      this.dialogFormVisible = false\r\n    },\r\n    // loadArrangementList() {\r\n    //     this.$axios.get('/system/arrangement/list').then(response => {\r\n    //         this.tableData = response.data.resultdata.records\r\n    //         this.total = response.data.resultdata.total\r\n    //         this.size = response.data.resultdata.size\r\n    //         this.current = response.data.resultdata.current\r\n    //     })\r\n    // },\r\n    loadArrangementList() {\r\n      this.$axios.get('/system/arrangement/list',\r\n          {\r\n            params: {\r\n              name: this.searchForm.name,\r\n              current: this.current,\r\n              size: this.size\r\n            }\r\n          }\r\n      ).then(repsonse => {\r\n        //获得分页的用户信息\r\n        this.tableData = repsonse.data.resultdata.records\r\n        // console.log('111', this.tableData);\r\n        //获得服务器发回分页相关的数据\r\n        this.total = repsonse.data.resultdata.total\r\n        this.size = repsonse.data.resultdata.size\r\n        this.current = repsonse.data.resultdata.current\r\n      })\r\n      // //请求服务器端，获得所有的角色信息，给到Tree控件\r\n      // this.$axios.get('/system/role/list').then(response => {\r\n      //     this.roleTreeData = response.data.resultdata.records;\r\n      // })\r\n    },\r\n\r\n    // editArrangement(id) {\r\n    //     this.$axios('/arrangement/arrangementinfo/*' + id).then(response => {\r\n    //         this.ArrangementForm = response.data.data\r\n    //         this.dialogFormVisible = true\r\n    //     })\r\n    // },\r\n    editArrangement(id) {\r\n      this.$axios.get('/system/arrangement/info/' + id).then(response => {\r\n        this.ArrangementForm = response.data.resultdata\r\n        this.dialogFormVisible = true\r\n      })\r\n    },\r\n    deleteArrangement(id) {\r\n      let ids = [];//要删除的一组数据的id\r\n      id ? ids.push(id) : this.selection.forEach(u => {\r\n        ids.push(u.id)\r\n      })\r\n      console.log(ids)\r\n      this.$axios.post('/system/arrangement/delete', ids).then(response => {\r\n        this.$message({\r\n          message: response.data.message,\r\n          type: 'success',\r\n          showClose: true,\r\n          onClose: () => {\r\n            this.loadArrangementList()\r\n          }\r\n        })\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped></style>\r\n"],"mappings":"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"}]}