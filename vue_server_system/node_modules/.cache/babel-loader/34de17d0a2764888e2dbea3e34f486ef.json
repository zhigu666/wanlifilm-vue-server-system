{"remainingRequest":"D:\\desk\\vue_server_system\\node_modules\\babel-loader\\lib\\index.js!D:\\desk\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\desk\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\desk\\vue_server_system\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\desk\\vue_server_system\\src\\views\\Login.vue","mtime":1684828296563},{"path":"D:\\desk\\vue_server_system\\babel.config.js","mtime":1679550857243},{"path":"D:\\desk\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\desk\\vue_server_system\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\desk\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\desk\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2FwdGNoYUltZzogJycsCiAgICAgIC8v6aqM6K+B56CB5Zu+54mH55qE5pWw5o2uCiAgICAgIGxvZ2luRm9ybTogewogICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgY29kZTogJycsCiAgICAgICAgLy/pqozor4HnoIEgICDlrZhyZWRpc+S4reeahHZhbHVlCiAgICAgICAga2V5OiAnJyAvL+maj+acuueggSAgIOWtmHJlZGlz5Lit55qEa2V5CiAgICAgIH0sCgogICAgICAvL+mqjOivgeinhOWImSBydWxlcwogICAgICBydWxlczogewogICAgICAgIHVzZXJuYW1lOiBbCiAgICAgICAgLy/pnZ7nqbrpqozor4EKICAgICAgICB7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXnmbvlvZXnmoTnlKjmiLflkI0nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXnmbvlvZXnmoTlr4bnoIEnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgY29kZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpemqjOivgeeggScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LAogICAgICAgIC8v5a2X56ym6ZW/5bqm55qE6aqM6K+B6KeE5YiZCiAgICAgICAgewogICAgICAgICAgbWluOiA1LAogICAgICAgICAgbWF4OiA1LAogICAgICAgICAgbWVzc2FnZTogJ+mqjOivgeeggemVv+W6puS4uiA1IOS4quWtl+espicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIC8vVnVl5a6e5L6L55qE55Sf5ZG95ZGo5pyf5pa55rOV77yM5Yib5bu65a6M5q+VCiAgICB0aGlzLmdldENhcHRjaGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdEZvcm0oZnJvbU5hbWUpIHsKICAgICAgLy9mcm9tTmFtZeWPguaVsOS8oOmAkuWwseaYr3JlZj0nbG9naW5Gcm9tJyAgIOS9v+eUqHRoaXMuJHJlZnNbZnJvbU5hbWVd6I635b6X6aG16Z2i5LiK55qE6KGo5Y2V44CCCiAgICAgIHRoaXMuJHJlZnNbZnJvbU5hbWVdLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICAvL+WmguaenHZhbGlk5Li6dHJ1Ze+8jOihqOekuuihqOWNleeahOmqjOivgeinhOWImSDpgJrov4fjgIIKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIC8vcG9zdCjot6/lvoQs5Y+C5pWw5YC8KQogICAgICAgICAgLy90aGlzLiRxcy5zdHJpbmdpZnkoIEpT5a+56LGhKSAg5bCGanPlr7nosaHovazmjaLkuLog5Y+C5pWw5b2i5byP5a2X56ym5Liy44CCIHVzZXJuYW1lPWFkbWluJnBhc3N3b3JkPTEyMyZrZXk9MTIzMTIzJmNvZGU9NXczcXcKICAgICAgICAgIHRoaXMuJGF4aW9zLnBvc3QoJy9sb2dpbj8nICsgdGhpcy4kcXMuc3RyaW5naWZ5KHRoaXMubG9naW5Gb3JtKSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIC8v6I635b6X5pyN5Yqh5Zmo6L+U5ZuedG9rZW7vvIzlnKjlk43lupTlpLTkuK3jgIIgand0CiAgICAgICAgICAgIGNvbnN0IGp3dCA9IHJlc3BvbnNlLmhlYWRlcnNbJ3Rva2VuJ107CiAgICAgICAgICAgIC8v5L+d5a2Yand0IOiwg+eUqFZ1ZXjkuK3nmoRtdXRhdGlvbnPkuK3nmoRTRVRfVE9LRU7mlrnms5Xov5vooYzkv53lrZjjgIIKICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdTRVRfVE9LRU4nLCBqd3QpOwogICAgICAgICAgICAvL+iwg+aNouiHs+mmlumhteOAgiAKICAgICAgICAgICAgdGhpcy4kc2V0U2Vzc2lvblN0b3JhZ2UoJ3VzZXJuYW1lJywgdGhpcy5sb2dpbkZvcm0udXNlcm5hbWUpOwogICAgICAgICAgICBjb25zb2xlLmxvZygi55m75b2V5pON5L2c5oiQ5YqfIik7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvaG9tZScpOwogICAgICAgICAgICAvL3RoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ0luZGV4JywgcGFyYW1zOiB7IG5hbWU6ICcyMjInIH0gfSkKICAgICAgICAgIH0pOwoKICAgICAgICAgIHRoaXMuZ2V0Q2FwdGNoYSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmdldENhcHRjaGEoKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBTdWJtaXQhJyk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+ivt+axguacjeWKoeWZqOiOt+W+l+mqjOivgeeggeWbvueJh+aVsOaNrgogICAgZ2V0Q2FwdGNoYSgpIHsKICAgICAgLy/kvb/nlKhheGlvc+ivt+axguacjeWKoeWZqOiOt+W+l+mqjOivgeeggeaVsOaNrjoKICAgICAgLy9nZXQo6Lev5b6EKSAg6K+35rGC5pyN5Yqh5ZmoCiAgICAgIC8vdGhlbiAg5pyN5Yqh5Zmo5ZON5bqU5oiQ5Yqf55qE5Zue6LCD5Ye95pWwLgogICAgICB0aGlzLiRheGlvcy5nZXQoJy9jYXB0Y2hhJykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgdGhpcy5jYXB0Y2hhSW1nID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRkYXRhLmNhcHRjaGFJbWc7CiAgICAgICAgdGhpcy5sb2dpbkZvcm0ua2V5ID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRkYXRhLmtleTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CgogICAgICAvKg0KICAgICAgICAg5pyN5Yqh5Zmo6L+U5Zue55qE5pWw5o2u5qC85byP77yaDQogICAgICAgICByZXNwb25zZS5kYXRh5bCx5piv5pyN5Yqh5Zmo6L+U5Zue55qE5pWw5o2u5a+56LGhOg0KICAgICAgICAgew0KICAgICAgICAgIGNvZGU6IDIwMCwgLy8yMDDor7fmsYLmk43kvZzmiJDlip8NCiAgICAgICAgICBtZXNzYWdlOiAn5pON5L2c5oiQ5YqfJywNCiAgICAgICAgICByZXN1bHRkYXRhOiB7a2V5Oumaj+acuueggSxjYXB0Y2hhSW1nOui9rOeggeWQjumqjOivgeeggeWbvueJh30sIC8vZGF0YeWwseaYr+WFt+S9k+ivt+axgueahOaVsOaNrg0KICAgICAgICB9DQogICAgICAqLwogICAgfQogIH0KfTs="},{"version":3,"names":["data","captchaImg","loginForm","username","password","code","key","rules","required","message","trigger","min","max","created","getCaptcha","methods","submitForm","fromName","$refs","validate","valid","$axios","post","$qs","stringify","then","response","jwt","headers","$store","commit","$setSessionStorage","console","log","$router","push","get","resultdata","catch","error"],"sources":["src/views/Login.vue"],"sourcesContent":["<template>\r\n    <el-row>\r\n     \r\n      <el-col :xl=\"6\" :lg=\"7\" :xs=\"24\">\r\n        <h2>欢迎使用万里学院影院App后台管理系统</h2>\r\n        <el-image style=\"width:180px; height: 180px; border-radius: 16px;\" :src=\"require('@/assets/logo.jpg')\">\r\n        </el-image>\r\n        <p>万里学院大数据与软件工程专业提供技术支持</p>\r\n        <p>基于SpringBoot技术实现</p>\r\n      </el-col>\r\n      <el-col :span=\"1\">\r\n        <!-- 分割线 -->\r\n        <el-divider direction=\"vertical\"></el-divider>\r\n      </el-col>\r\n      <el-col :xl=\"6\" :lg=\"7\">\r\n        <!-- ref就类似于 html标签 标记所定义id='loginForm' 可用在JS代码中 通过ref获得标签 -->\r\n        <el-form ref=\"loginForm\" :model=\"loginForm\" label-width=\"80px\" label-position=\"right\" :rules=\"rules\">\r\n          <el-form-item label=\"用户名\" style=\"width:380px\" prop=\"username\">\r\n            <el-input v-model=\"loginForm.username\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"密码\" style=\"width:380px\" prop=\"password\">\r\n            <el-input type=\"password\" v-model=\"loginForm.password\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"验证码\" style=\"width:380px\" prop=\"code\">\r\n            <el-input  v-model=\"loginForm.code\" style=\"width: 170px; float:left;\" maxlength=\"5\"></el-input>\r\n            <el-image :src=\"captchaImg\" class=\"captchaImg\" @click=\"getCaptcha\"></el-image>\r\n          </el-form-item>\r\n\r\n          <el-form-item>\r\n             <el-button type=\"primary\" @click=\"submitForm('loginForm')\">提交</el-button>\r\n              <el-button >获取密码</el-button>\r\n          </el-form-item>\r\n        </el-form>  \r\n      </el-col>\r\n    </el-row>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      captchaImg:'',  //验证码图片的数据\r\n      loginForm: {\r\n        username: '',\r\n        password: '',\r\n        code: '',   //验证码   存redis中的value\r\n        key:''     //随机码   存redis中的key\r\n      },\r\n      //验证规则 rules\r\n      rules: {\r\n        username: [\r\n          //非空验证\r\n          {required:true,message:'请输入登录的用户名',trigger:'blur'}\r\n        ],\r\n        password: [\r\n          {required:true,message:'请输入登录的密码',trigger:'blur'}\r\n        ],\r\n        code: [\r\n          { required: true, message: '请输入验证码', trigger: 'blur' },\r\n          //字符长度的验证规则\r\n          {min:5,max:5,message:'验证码长度为 5 个字符',trigger:'blur'}\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created () { \r\n    //Vue实例的生命周期方法，创建完毕\r\n    this.getCaptcha();\r\n  },\r\n  methods: {\r\n    submitForm (fromName) { \r\n      //fromName参数传递就是ref='loginFrom'   使用this.$refs[fromName]获得页面上的表单。\r\n      this.$refs[fromName].validate((valid) => { \r\n        //如果valid为true，表示表单的验证规则 通过。\r\n        if (valid) {\r\n          //post(路径,参数值)\r\n          //this.$qs.stringify( JS对象)  将js对象转换为 参数形式字符串。 username=admin&password=123&key=123123&code=5w3qw\r\n          this.$axios.post('/login?'+this.$qs.stringify(this.loginForm))\r\n            .then(response => {  \r\n                //获得服务器返回token，在响应头中。 jwt\r\n                const jwt = response.headers['token']\r\n                //保存jwt 调用Vuex中的mutations中的SET_TOKEN方法进行保存。\r\n                this.$store.commit('SET_TOKEN', jwt)\r\n                //调换至首页。 \r\n                this.$setSessionStorage('username',this.loginForm.username)\r\n                console.log(\"登录操作成功\");\r\n                this.$router.push('/home')\r\n                //this.$router.push({ name: 'Index', params: { name: '222' } })\r\n            })\r\n            this.getCaptcha()\r\n        } else {    \r\n          this.getCaptcha()\r\n          console.log('Error Submit!');\r\n          return false;\r\n        }\r\n      })\r\n    },\r\n    //请求服务器获得验证码图片数据\r\n    getCaptcha () { \r\n      //使用axios请求服务器获得验证码数据:\r\n      //get(路径)  请求服务器\r\n      //then  服务器响应成功的回调函数.\r\n      this.$axios.get('/captcha')\r\n        .then(response => { \r\n          console.log(response.data);\r\n          this.captchaImg = response.data.resultdata.captchaImg\r\n          this.loginForm.key = response.data.resultdata.key\r\n        }).catch(error => { \r\n          console.log(error);\r\n        })\r\n\r\n      /*\r\n         服务器返回的数据格式：\r\n         response.data就是服务器返回的数据对象:\r\n         {\r\n          code: 200, //200请求操作成功\r\n          message: '操作成功',\r\n          resultdata: {key:随机码,captchaImg:转码后验证码图片}, //data就是具体请求的数据\r\n        }\r\n      */\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.el-row{\r\n  background: #fafafa;\r\n  height: 100%;\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  text-align: center;\r\n}\r\n\r\n.el-divider{\r\n  height: 200px;\r\n}\r\n.captchaImg{\r\n  float:left;\r\n  margin-left:10px;\r\n  border-radius:4px;\r\n}\r\n</style>\r\n"],"mappings":";AAwCA;EACAA,KAAA;IACA;MACAC,UAAA;MAAA;MACAC,SAAA;QACAC,QAAA;QACAC,QAAA;QACAC,IAAA;QAAA;QACAC,GAAA;MACA;;MACA;MACAC,KAAA;QACAJ,QAAA;QACA;QACA;UAAAK,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAN,QAAA,GACA;UAAAI,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAL,IAAA,GACA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACA;QACA;UAAAC,GAAA;UAAAC,GAAA;UAAAH,OAAA;UAAAC,OAAA;QAAA;MAEA;IACA;EACA;EACAG,QAAA;IACA;IACA,KAAAC,UAAA;EACA;EACAC,OAAA;IACAC,WAAAC,QAAA;MACA;MACA,KAAAC,KAAA,CAAAD,QAAA,EAAAE,QAAA,CAAAC,KAAA;QACA;QACA,IAAAA,KAAA;UACA;UACA;UACA,KAAAC,MAAA,CAAAC,IAAA,kBAAAC,GAAA,CAAAC,SAAA,MAAAtB,SAAA,GACAuB,IAAA,CAAAC,QAAA;YACA;YACA,MAAAC,GAAA,GAAAD,QAAA,CAAAE,OAAA;YACA;YACA,KAAAC,MAAA,CAAAC,MAAA,cAAAH,GAAA;YACA;YACA,KAAAI,kBAAA,kBAAA7B,SAAA,CAAAC,QAAA;YACA6B,OAAA,CAAAC,GAAA;YACA,KAAAC,OAAA,CAAAC,IAAA;YACA;UACA;;UACA,KAAArB,UAAA;QACA;UACA,KAAAA,UAAA;UACAkB,OAAA,CAAAC,GAAA;UACA;QACA;MACA;IACA;IACA;IACAnB,WAAA;MACA;MACA;MACA;MACA,KAAAO,MAAA,CAAAe,GAAA,aACAX,IAAA,CAAAC,QAAA;QACAM,OAAA,CAAAC,GAAA,CAAAP,QAAA,CAAA1B,IAAA;QACA,KAAAC,UAAA,GAAAyB,QAAA,CAAA1B,IAAA,CAAAqC,UAAA,CAAApC,UAAA;QACA,KAAAC,SAAA,CAAAI,GAAA,GAAAoB,QAAA,CAAA1B,IAAA,CAAAqC,UAAA,CAAA/B,GAAA;MACA,GAAAgC,KAAA,CAAAC,KAAA;QACAP,OAAA,CAAAC,GAAA,CAAAM,KAAA;MACA;;MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACA;EACA;AACA"}]}