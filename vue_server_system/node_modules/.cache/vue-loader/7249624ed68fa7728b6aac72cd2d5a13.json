{"remainingRequest":"D:\\vue_workspace\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue_workspace\\vue_server_system\\src\\components\\Tabs.vue?vue&type=style&index=0&id=bdda1ea4&scoped=true&lang=css&","dependencies":[{"path":"D:\\vue_workspace\\vue_server_system\\src\\components\\Tabs.vue","mtime":1681031414070},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouZWwtdGFic3sNCiAgaGVpZ2h0OiAyMDAlOw0KfQ0K"},{"version":3,"sources":["Tabs.vue"],"names":[],"mappings":";AA2EA;AACA;AACA","file":"Tabs.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n<el-tabs type=\"border-card\" closable @tab-remove=\"removeTab\" v-model=\"editableTabsValue\" @tab-click=\"clickTab\">\r\n  <el-tab-pane v-for=\"(item,index) in editableTabs\" :key=\"item.name\" :label=\"item.title\" :name=\"item.name\">\r\n    <span slot=\"label\" ><i :class=\"item.icon\"></i>{{item.title}}</span>\r\n    <router-view></router-view>\r\n  </el-tab-pane>\r\n</el-tabs>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name:'Tabs',\r\n  data() {\r\n    return {}\r\n  },\r\n  computed:{\r\n    editableTabs:{\r\n      get(){\r\n        return this.$store.state.menu.editableTabs\r\n      },\r\n      set(val){\r\n        this.$store.state.menu.editableTabs=val\r\n      },\r\n    },\r\n    editableTabsValue:{\r\n      get(){\r\n        return this.$store.state.menu.editableTabsValue\r\n      },\r\n      set(val){\r\n        this.$store.state.menu.editableTabsValue=val\r\n      },\r\n    }\r\n\r\n  },\r\n  components: {},\r\n  props: {},\r\n  methods: {\r\n    clickTab(target){\r\n      //菜单name是由路由守卫创建动态路由时指定的    menu.name=路由配置对象route.name=Tab.name\r\n      this.$router.push({name:target.name})\r\n    },\r\n    //选项卡删除\r\n    removeTab(target){\r\n      console.log(target)//当前选项卡的name属性值\r\n      let tabsArray=this.editableTabs;//获得所有数组中的选项卡\r\n      let activeName=this.editableTabsValue//获得正激活的选项卡name\r\n      if(target==='Index'){\r\n        return\r\n      }\r\n      if (target===activeName){\r\n        tabsArray.forEach((tabItem,index)=>{\r\n          if(tabItem.name===target){\r\n            let nextTab=tabsArray[index+1]||tabsArray[index-1]\r\n            if(nextTab){\r\n              activeName=nextTab.name//将下一个选项卡赋值给active\r\n            }\r\n          }\r\n        });\r\n      }\r\n      //将下一个选项卡赋值给vuex中\r\n      this.editableTabsValue=activeName\r\n      //从现有数组中移除选项卡\r\n      //filter只保留条件符合的数据\r\n      this.editableTabs= tabsArray.filter(tab=>tab.name!==target)\r\n\r\n      //todo:激活的默认选项卡改变，页面内容也要改变 让路由跳转至移除选项卡之后目前激活否选项卡组件界面\r\n      this.$router.push({name:activeName})\r\n    }\r\n  }\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.el-tabs{\r\n  height: 200%;\r\n}\r\n</style>"]}]}