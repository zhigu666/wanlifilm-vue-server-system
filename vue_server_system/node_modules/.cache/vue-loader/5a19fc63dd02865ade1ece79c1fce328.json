{"remainingRequest":"D:\\vue_workspace\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue_workspace\\vue_server_system\\src\\views\\system\\arrangement.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue_workspace\\vue_server_system\\src\\views\\system\\arrangement.vue","mtime":1680969386289},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIEFycmFuZ2VtZW50Rm9ybTogew0KICAgICAgICAgICAgICAgIHN0YXJ0X3RpbWU6ICcnLA0KICAgICAgICAgICAgICAgIGVuZF90aW1lOiAnJywNCiAgICAgICAgICAgICAgICBzdGF0dTogMSwNCiAgICAgICAgICAgICAgICBuYW1lOiAnJywNCiAgICAgICAgICAgICAgICBwcmljZTogJycsDQogICAgICAgICAgICAgICAgc2VhdHNfbnVtYmVyOiAnJywNCiAgICAgICAgICAgICAgICB0eXBlOiAnJywNCiAgICAgICAgICAgICAgICBzdGF0aXN0aWNzOiAnJywNCiAgICAgICAgICAgICAgICByZWxlYXNlX3RpbWU6ICcnLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHNlbGVjdGlvbjogW10sDQogICAgICAgICAgICB0b3RhbDogMCwNCiAgICAgICAgICAgIHNpemU6IDEwLA0KICAgICAgICAgICAgY3VycmVudDogMSwNCiAgICAgICAgICAgIHRhYmxlRGF0YTogW10sDQogICAgICAgICAgICBkZWxldGVBbGxCdG5TdHU6IHRydWUsDQogICAgICAgICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsDQogICAgICAgICAgICBzZWFyY2hGb3JtOiB7DQogICAgICAgICAgICAgICAgbmFtZTogJycNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBydWxlczogew0KICAgICAgICAgICAgICAgIG5hbWU6IFsNCiAgICAgICAgICAgICAgICAgICAgLy/pnZ7nqbrpqozor4ENCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeeUteW9seWQjeensCcsIHRyaWdnZXI6ICdibHVyJyB9DQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICBzZWF0c19udW1iZXI6IFsNCiAgICAgICAgICAgICAgICAgICAgLy/pnZ7nqbrpqozor4ENCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeW8gOaUvuW6p+S9jeaVsOmHjycsIHRyaWdnZXI6ICdibHVyJyB9DQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICB0eXBlOiBbDQogICAgICAgICAgICAgICAgICAgIC8v6Z2e56m66aqM6K+BDQogICAgICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXnlLXlvbHnsbvlnosnLCB0cmlnZ2VyOiAnYmx1cicgfQ0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgc3RhdGlzdGljczogWw0KICAgICAgICAgICAgICAgICAgICAvL+mdnuepuumqjOivgQ0KICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl56Wo5oi/5oC75pWwJywgdHJpZ2dlcjogJ2JsdXInIH0NCiAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgIHByaWNlOiBbDQogICAgICAgICAgICAgICAgICAgIC8v6Z2e56m66aqM6K+BDQogICAgICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXnlLXlvbHnpajku7fmoLwnLCB0cmlnZ2VyOiAnYmx1cicgfQ0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgcmVsZWFzZV90aW1lOiBbDQogICAgICAgICAgICAgICAgICAgIC8v6Z2e56m66aqM6K+BDQogICAgICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nnlLXlvbHmlL7mmKDml6XmnJ8nLCB0cmlnZ2VyOiAnYmx1cicgfQ0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgc3RhcnRfdGltZTogWw0KICAgICAgICAgICAgICAgICAgICAvL+mdnuepuumqjOivgQ0KICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup55S15b2x5byA5aeL5pe26Ze0JywgdHJpZ2dlcjogJ2JsdXInIH0NCiAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgIGVuZF90aW1lOiBbDQogICAgICAgICAgICAgICAgICAgIC8v6Z2e56m66aqM6K+BDQogICAgICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nnlLXlvbHnu5PmnZ/ml7bpl7QnLCB0cmlnZ2VyOiAnYmx1cicgfQ0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgc3RhdHU6IFsNCiAgICAgICAgICAgICAgICAgICAgLy/pnZ7nqbrpqozor4ENCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqeeUteW9seeKtuaAgScsIHRyaWdnZXI6ICdibHVyJyB9DQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIH0sDQogICAgICAgIH0NCiAgICB9LA0KICAgIGNvbXBvbmVudHM6IHsNCiAgICANCiAgICB9LA0KICAgIGNyZWF0ZWQoKSB7DQogICAgICAgIHRoaXMubG9hZEFycmFuZ2VtZW50TGlzdCgpDQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIHNlYXJjaEZpbG1JbmZvKCl7DQogICAgICAgICAgICANCiAgICAgICAgfSwNCiAgICAgICAgc3VibWl0Rm9ybShmb3JtTmFtZSkgew0KICAgICAgICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUodmFsaWQgPT4gew0KICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KCcvc3lzdGVtL2FycmFuZ2VtZW50LycgKyAodGhpcy5BcnJhbmdlbWVudEZvcm0uaWQgPyAndXBkYXRlJyA6ICdzYXZlJyksIHRoaXMuQXJyYW5nZW1lbnRGb3JtKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvd0Nsb3NlOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkQXJyYW5nZW1lbnRMaXN0KCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZS8v6Ieq5Yqo6YCA5Ye6IA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldEZvcm0oZm9ybU5hbWUpLy/ph43nva7ooajljZUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIHJlc2V0Rm9ybShmb3JtTmFtZSkgew0KICAgICAgICAgICAgdGhpcy5BcnJhbmdlbWVudEZvcm0gPSB7fQ0KICAgICAgICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKQ0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVDbG9zZSgpIHsNCiAgICAgICAgICAgIC8vIHRoaXMucmVzZXRGb3JtKCdVc2VyRm9ybScpDQogICAgICAgICAgICB0aGlzLkFycmFuZ2VtZW50Rm9ybSA9IHt9DQogICAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2UNCiAgICAgICAgfSwNCiAgICAgICAgbG9hZEFycmFuZ2VtZW50TGlzdCgpIHsNCiAgICAgICAgICAgIHRoaXMuJGF4aW9zLmdldCgnL3N5c3RlbS9hcnJhbmdlbWVudC9saXN0JykudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXNwb25zZS5kYXRhLnJlc3VsdGRhdGEucmVjb3Jkcw0KICAgICAgICAgICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnJlc3VsdGRhdGEudG90YWwNCiAgICAgICAgICAgICAgICB0aGlzLnNpemUgPSByZXNwb25zZS5kYXRhLnJlc3VsdGRhdGEuc2l6ZQ0KICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHJlc3BvbnNlLmRhdGEucmVzdWx0ZGF0YS5jdXJyZW50DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICBkZWxldGVBcnJhbmdlbWVudCgpIHsNCg0KICAgICAgICB9LA0KICAgICAgICBzZWxlY3Rpb25DaGFuZ2UoKSB7DQoNCiAgICAgICAgfSwNCiAgICAgICAgZWRpdEFycmFuZ2VtZW50KGlkKSB7DQogICAgICAgICAgICB0aGlzLiRheGlvcygnL2FycmFuZ2VtZW50L2FycmFuZ2VtZW50aW5mby8qJyArIGlkKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLkFycmFuZ2VtZW50Rm9ybSA9IHJlc3BvbnNlLmRhdGEuZGF0YQ0KICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlDQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICBkZWxldGVBcnJhbmdlbWVudChpZCkgew0KDQogICAgICAgIH0sDQogICAgICAgIGRlbGV0ZUFycmFuZ2VtZW50KGlkKSB7DQogICAgICAgICAgICBsZXQgaWRzID0gW10NCiAgICAgICAgICAgIGlkID8gaWRzLnB1c2goaWQpIDogdGhpcy5zZWxlY3Rpb24uZm9yRWFjaChyID0+IHsNCiAgICAgICAgICAgICAgICBpZHMucHVzaChyKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIHRoaXMuJGF4aW9zLnBvc3QoJy9zeXN0ZW0vYXJyYW5nZW1lbnQvZGVsZXRlJywgaWRzKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLA0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsDQogICAgICAgICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgb25DbG9zZTogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkQXJyYW5nZW1lbnRMaXN0KCkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICBzZWxlY3Rpb25DaGFuZ2UodmFsdWUpIHsNCiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uID0gdmFsdWU7DQogICAgICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb24pIHsNCiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUFsbEJ0blN0dSA9ICh0aGlzLnNlbGVjdGlvbi5sZW5ndGggPT0gMCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICB9DQp9DQo="},{"version":3,"sources":["arrangement.vue"],"names":[],"mappings":";AAwHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"arrangement.vue","sourceRoot":"src/views/system","sourcesContent":["<template>\r\n    <div>\r\n        <el-form ref=\"form\" :model=\"searchForm\" :inline=\"true\">\r\n            <el-form-item>\r\n                <el-input v-model=\"searchForm.username\" placeholder=\"请输入要搜索的内容\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n            <el-form-item style=\"margin-right: 8px;\">添加时间</el-form-item>\r\n        </el-form-item>\r\n            <template>\r\n                <el-date-picker type=\"date\" placeholder=\"选择开始日期\" style=\"margin-right: 8px;\">\r\n                </el-date-picker>\r\n                <el-date-picker type=\"date\" placeholder=\"选择截止日期\" style=\"margin-right: 8px;\">\r\n                </el-date-picker>\r\n            </template>\r\n            <el-form-item>\r\n                <el-button @click=\"searchFilmInfo\">搜索</el-button>\r\n                <el-button type=\"info\">清空</el-button>\r\n                <el-button type=\"primary\" @click=\"dialogFormVisible = true\">新建</el-button>\r\n                <el-popconfirm title=\"确认要批量删除角色消息吗？\" @confirm=\"deleteArrangement\">\r\n                    <el-button slot=\"reference\" type=\"danger\" :disabled=\"deleteAllBtnStu\"\r\n                        style=\"margin-left: 8px;\">批量删除</el-button>\r\n                </el-popconfirm>\r\n            </el-form-item>\r\n        </el-form>\r\n        <el-table :data=\"tableData\" border stripe style=\"width: 100%; margin-bottom: 20px;\" :cell-style=\"{ padding: '2px' }\"\r\n            @selection-change=\"selectionChange\">\r\n            <el-table-column type=\"selection\" width=\"50\">\r\n            </el-table-column>\r\n            <el-table-column label=\"电影名称\" width=\"100\" prop=\"name\">\r\n            </el-table-column>\r\n            <el-table-column width=\"100\" label=\"开放座位\" prop=\"seats_number\">\r\n            </el-table-column>\r\n            <el-table-column width=\"50\" label=\"类型\" prop=\"type\">\r\n            </el-table-column>\r\n            <el-table-column width=\"90\" label=\"票房统计\" prop=\"statistics\">\r\n            </el-table-column>\r\n            <el-table-column width=\"60\" label=\"价格\" prop=\"price\">\r\n            </el-table-column>\r\n            <el-table-column width=\"120\" label=\"电影放映日期\" prop=\"release_time\">\r\n            </el-table-column>\r\n            <el-table-column label=\"电影开始时间\" prop=\"start_time\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column label=\"电影结束时间\" prop=\"end_time\" width=\"180\">\r\n            </el-table-column>\r\n            <el-table-column label=\"状态\" width=\"70\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-tag size=\"mini\" v-if=\"scope.row.statu === 1\" type=\"success\">上架</el-tag>\r\n                    <el-tag size=\"mini\" v-else-if=\"scope.row.statu === 0\" type=\"danger\">下架</el-tag>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button type=\"text\" @click=\"editArrangement(scope.row.id)\">编辑</el-button>\r\n                    <el-divider direction=\"vertical\"></el-divider>\r\n                    <el-popconfirm title=\"确认要删除角色信息吗？\" @confirm=\"deleteArrangement(scope.row.id)\">\r\n                        <el-button slot=\"reference\" type=\"text\">删除</el-button>\r\n                    </el-popconfirm>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <el-pagination background layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\" :page-size=\"size\"\r\n            :page-sizes=\"[5, 10, 15, 20, 25]\" :current-page=\"current\">\r\n        </el-pagination>\r\n\r\n        <el-dialog title=\"排片信息\" :visible.sync=\"dialogFormVisible\" width=\"550px\" :before-close=\"handleClose\">\r\n            <el-form :model=\"ArrangementForm\" ref=\"ArrangementForm\" label-width=\"100px\" :rules=\"rules\">\r\n                <el-form-item label=\"电影名称\" label-width=\"100px\" prop=\"name\">\r\n                    <el-input v-model=\"ArrangementForm.name\" autocomplete=\"off\">\r\n                    </el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"开放座位\" label-width=\"100px\" prop=\"seats_number\">\r\n                    <el-input v-model=\"ArrangementForm.seats_number\" autocomplete=\"off\">\r\n                    </el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"类型\" label-width=\"100px\" prop=\"type\">\r\n                    <el-input v-model=\"ArrangementForm.type\" autocomplete=\"off\">\r\n                    </el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"票房统计\" label-width=\"100px\" prop=\"statistics\">\r\n                    <el-input v-model=\"ArrangementForm.statistics\" autocomplete=\"off\">\r\n                    </el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"价格\" label-width=\"100px\" prop=\"price\">\r\n                    <el-input v-model=\"ArrangementForm.price\" autocomplete=\"off\">\r\n                    </el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"放映日期\" label-width=\"100px\" prop=\"release_time\">\r\n                    <el-date-picker type=\"date\" v-model=\"ArrangementForm.release_time\" placeholder=\"选择电影放映日期\"\r\n                        autocomplete=\"off\">\r\n                    </el-date-picker>\r\n                </el-form-item>\r\n                <el-form-item label=\"开始时间\" label-width=\"100px\" prop=\"end_time\">\r\n                    <el-date-picker v-model=\"ArrangementForm.start_time\" type=\"datetime\" placeholder=\"选择日期时间\" autocomplete=\"off\" >\r\n                    </el-date-picker>\r\n                </el-form-item>\r\n                <el-form-item label=\"结束时间\" label-width=\"100px\" prop=\"start_time\">\r\n                    <el-date-picker v-model=\"ArrangementForm.end_time\" type=\"datetime\" placeholder=\"选择日期时间\" autocomplete=\"off\">\r\n                    </el-date-picker>\r\n                </el-form-item>\r\n                <el-form-item label=\"状态\" label-width=\"100px\" prop=\"statu\">\r\n                    <el-radio-group v-model=\"ArrangementForm.statu\">\r\n                        <el-radio :label=\"0\">下架</el-radio>\r\n                        <el-radio :label=\"1\">上架</el-radio>\r\n                    </el-radio-group>\r\n                </el-form-item>\r\n\r\n\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"submitForm('ArrangementForm')\">保存排片</el-button>\r\n                    <el-button @click=\"resetForm('ArrangementForm')\">重置</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n  \r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            ArrangementForm: {\r\n                start_time: '',\r\n                end_time: '',\r\n                statu: 1,\r\n                name: '',\r\n                price: '',\r\n                seats_number: '',\r\n                type: '',\r\n                statistics: '',\r\n                release_time: '',\r\n            },\r\n            selection: [],\r\n            total: 0,\r\n            size: 10,\r\n            current: 1,\r\n            tableData: [],\r\n            deleteAllBtnStu: true,\r\n            dialogFormVisible: false,\r\n            searchForm: {\r\n                name: ''\r\n            },\r\n            rules: {\r\n                name: [\r\n                    //非空验证\r\n                    { required: true, message: '请输入电影名称', trigger: 'blur' }\r\n                ],\r\n                seats_number: [\r\n                    //非空验证\r\n                    { required: true, message: '请输入开放座位数量', trigger: 'blur' }\r\n                ],\r\n                type: [\r\n                    //非空验证\r\n                    { required: true, message: '请输入电影类型', trigger: 'blur' }\r\n                ],\r\n                statistics: [\r\n                    //非空验证\r\n                    { required: true, message: '请输入票房总数', trigger: 'blur' }\r\n                ],\r\n                price: [\r\n                    //非空验证\r\n                    { required: true, message: '请输入电影票价格', trigger: 'blur' }\r\n                ],\r\n                release_time: [\r\n                    //非空验证\r\n                    { required: true, message: '请选择电影放映日期', trigger: 'blur' }\r\n                ],\r\n                start_time: [\r\n                    //非空验证\r\n                    { required: true, message: '请选择电影开始时间', trigger: 'blur' }\r\n                ],\r\n                end_time: [\r\n                    //非空验证\r\n                    { required: true, message: '请选择电影结束时间', trigger: 'blur' }\r\n                ],\r\n                statu: [\r\n                    //非空验证\r\n                    { required: true, message: '请选择电影状态', trigger: 'blur' }\r\n                ],\r\n            },\r\n        }\r\n    },\r\n    components: {\r\n    \r\n    },\r\n    created() {\r\n        this.loadArrangementList()\r\n    },\r\n    methods: {\r\n        searchFilmInfo(){\r\n            \r\n        },\r\n        submitForm(formName) {\r\n            this.$refs[formName].validate(valid => {\r\n                if (valid) {\r\n                    this.$axios.post('/system/arrangement/' + (this.ArrangementForm.id ? 'update' : 'save'), this.ArrangementForm)\r\n                        .then(response => {\r\n                            this.$message({\r\n                                message: response.data.message,\r\n                                type: 'success',\r\n                                // showClose: true,\r\n                                duration: 1000,\r\n                                onClose: () => {\r\n                                    this.loadArrangementList()\r\n                                    this.dialogFormVisible = false//自动退出 \r\n                                    this.resetForm(formName)//重置表单\r\n                                }\r\n                            })\r\n                        })\r\n                }\r\n            })\r\n        },\r\n        resetForm(formName) {\r\n            this.ArrangementForm = {}\r\n            this.$refs[formName].resetFields()\r\n        },\r\n        handleClose() {\r\n            // this.resetForm('UserForm')\r\n            this.ArrangementForm = {}\r\n            this.dialogFormVisible = false\r\n        },\r\n        loadArrangementList() {\r\n            this.$axios.get('/system/arrangement/list').then(response => {\r\n                this.tableData = response.data.resultdata.records\r\n                this.total = response.data.resultdata.total\r\n                this.size = response.data.resultdata.size\r\n                this.current = response.data.resultdata.current\r\n            })\r\n        },\r\n        deleteArrangement() {\r\n\r\n        },\r\n        selectionChange() {\r\n\r\n        },\r\n        editArrangement(id) {\r\n            this.$axios('/arrangement/arrangementinfo/*' + id).then(response => {\r\n                this.ArrangementForm = response.data.data\r\n                this.dialogFormVisible = true\r\n            })\r\n        },\r\n        deleteArrangement(id) {\r\n\r\n        },\r\n        deleteArrangement(id) {\r\n            let ids = []\r\n            id ? ids.push(id) : this.selection.forEach(r => {\r\n                ids.push(r)\r\n            })\r\n            this.$axios.post('/system/arrangement/delete', ids).then(response => {\r\n                this.$message({\r\n                    message: response.data.message,\r\n                    type: 'success',\r\n                    showClose: true,\r\n                    onClose: () => {\r\n                        this.loadArrangementList()\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        selectionChange(value) {\r\n            this.selection = value;\r\n            if (this.selection) {\r\n                this.deleteAllBtnStu = (this.selection.length == 0)\r\n            }\r\n        },\r\n    }\r\n}\r\n</script>\r\n  \r\n<style scoped></style>\r\n  "]}]}