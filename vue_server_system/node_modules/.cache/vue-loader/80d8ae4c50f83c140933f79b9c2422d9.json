{"remainingRequest":"D:\\desk\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\desk\\vue_server_system\\src\\components\\Tabs.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\desk\\vue_server_system\\src\\components\\Tabs.vue","mtime":1680081823084},{"path":"D:\\desk\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\desk\\vue_server_system\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\desk\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\desk\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6J1RhYnMnLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQoNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvL+mAiemhueWNoeiiq+eCueWHuw0KICAgIGNsaWNrVGFiICh0YXJnZXQpIHsgDQogICAgICAvL3RhcmdldC5uYW1l6I635b6X5b2T5YmN54K55Ye755qE6YCJ6aG55Y2hIOWQjeWtlw0KICAgICAgLy/pgInpobnljaHnmoTlkI3lrZfmmK8g54K55Ye76I+c5Y2VIOWKqOaAgeagueaNruiPnOWNleWIm+W7uumAiemhueWNoeWvueixoeOAgg0KICAgICAgLy/oj5zljZXnmoRuYW1l5piv5LuOIOi3r+eUseWuiOWNq+WIm+W7uuWKqOaAgei3r+eUseaXtuaMh+WumuOAgiAgbWVudS5uYW1lIOetieS6jiAg6Lev55Sx6YWN572u5a+56LGhcm91dGUubmFtZSAg562J5LqOICBUYWIubmFtZQ0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOnRhcmdldC5uYW1lIH0pDQogICAgfSwNCiAgICAvL+eCueWHu+mAiemhueWNoeeahOWIoOmZpOaMiemSru+8jOenu+mZpOmAiemhueWNoSAgIHRhcmdldOWwseaYr+imgeWIoOmZpOeahOmAiemhueWNoeeahG5hbWXnmoTlsZ7mgKflgLwNCiAgICByZW1vdmVUYWIgKHRhcmdldCkgeyANCiAgICAgIGxldCB0YWJzQXJyYXkgPSB0aGlzLmVkaXRhYmxlVGFiczsgIC8v6I635b6X55uu5YmN5omA5pyJ5pWw57uE5Lit55qE6YCJ6aG55Y2hDQogICAgICBsZXQgYWN0aXZlTmFtZSA9IHRoaXMuZWRpdGFibGVUYWJzVmFsdWU7ICAgLy/ojrflvpfnm67liY3mraMg5r+A5rS76YCJ6aG55Y2hbmFtZQ0KICAgICAgaWYgKHRhcmdldCA9PT0gJ0luZGV4JykgeyAgLy/lpoLmnpzopoHliKDpmaTnmoTpgInpobnljaF0YXJnZXQg5pivSW5kZXgNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICBpZiAodGFyZ2V0ID09PSBhY3RpdmVOYW1lKSB7IC8v5Yig6Zmk55qEdGFyZ2V06YCJ6aG55Y2hIOWwseaYr+ebruWJjeato+WcqOa/gOa0u+mAiemhueWNoQ0KICAgICAgICB0YWJzQXJyYXkuZm9yRWFjaCgodGFiSXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgICBpZiAodGFiSXRlbS5uYW1lID09PSB0YXJnZXQpIHsgLy/lpoLmnpzlvZPliY3lvqrnjq/nmoTpgInpobnljaFuYW1l5ZKM6KaB5Yig6Zmk55qEbmFtZeebuOetie+8jOWcqOaJgOaciemAiemhueWNoeaVsOe7hOS4reaJvuWIsOimgeWIoOmZpOeahOmAiemhueWNoQ0KICAgICAgICAgICAgLy/orqHnrpfosIHmmK/liKDpmaTkuYvlkI4g6buY6K6k6KKr5r+A5rS7IOmAiemhueWNoe+8jOWmguaenOS4jeaYr+acgOWQjuS4gOS4qumAiemhueWNoe+8jOWwseWPluS4i+S4gOS4qu+8jOWmguaenOaYr+acgOWQjuS4gOS4qu+8jOWPluWJjeS4gOS4qg0KICAgICAgICAgICAgbGV0IG5leHRUYWIgPSB0YWJzQXJyYXlbaW5kZXggKyAxXSB8fCB0YWJzQXJyYXlbaW5kZXggLSAxXQ0KICAgICAgICAgICAgY29uc29sZS5sb2coJ+S4i+S4gOS4qumAiemhueWNoScsbmV4dFRhYik7DQogICAgICAgICAgICBpZiAobmV4dFRhYikgew0KICAgICAgICAgICAgICBhY3RpdmVOYW1lID0gbmV4dFRhYi5uYW1lICAgLy/lsIbojrflvpfkuIvkuIDkuKrpgInpobnljaFuYW1l6LWL5YC857uZ6buY6K6k5r+A5rS7YWN0aXZlTmFtZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSk7ICAgICANCiAgICAgIH0NCiAgICAgIC8v5bCG5om+5Yiw5LiL5LiA5Liq6KKr5r+A5rS755qE6YCJ6aG55Y2hbmFtZSDotYvlgLznu5l2dWV45LitDQogICAgICB0aGlzLmVkaXRhYmxlVGFic1ZhbHVlID0gYWN0aXZlTmFtZQ0KICAgICAgLy/ku47njrDmnInmlbDnu4TkuK3np7vpmaQgIOWIoOmZpOaOieW9k+WJjeimgeWIoOmZpOeahOmAiemhueWNoSAgIA0KICAgICAgLy9maWx0ZXIg6L+H5ruk5pa55rOV77yM5Y+q5L+d5a2Y5p2h5Lu256ym5ZCI55qE5pWw5o2u44CCDQogICAgICB0aGlzLmVkaXRhYmxlVGFicyA9IHRhYnNBcnJheS5maWx0ZXIoIHRhYiA9PiB0YWIubmFtZSAhPT0gdGFyZ2V0ICkNCg0KICAgICAgLy/pu5jorqTmv4DmtLvnmoTpgInpobnljaHmlLnlj5jvvIzpobXpnaLnmoTlhoXlrrnkuZ/pnIDopoHmlLnlj5ggICAg6K6p6Lev55Sx6Lez6L2s6IezIOenu+mZpOmAiemhueWNoeS5i+WQjiDnm67liY3mv4DmtLvnmoTpgInpobnljaHlr7nlupTnu4Tku7bnlYzpnaINCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOmFjdGl2ZU5hbWV9KQ0KICAgICAgDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGVkaXRhYmxlVGFiczogew0KICAgICAgZ2V0ICgpIHsgDQogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5tZW51LmVkaXRhYmxlVGFicw0KICAgICAgfSwNCiAgICAgIHNldCAodmFsKSB7IA0KICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5tZW51LmVkaXRhYmxlVGFicyA9IHZhbDsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v55uu5YmN5q2j5Zyo57yW6L6RIOa/gOa0u+eahOmAiemhueWNoeOAgui/lOWbniDpgInpobnljaHlr7nosaEgbmFtZQ0KICAgIGVkaXRhYmxlVGFic1ZhbHVlOiB7DQogICAgICBnZXQgKCkgeyANCiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLm1lbnUuZWRpdGFibGVUYWJzVmFsdWU7DQogICAgICB9LA0KICAgICAgc2V0ICh2YWwpIHsNCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUubWVudS5lZGl0YWJsZVRhYnNWYWx1ZSA9IHZhbA0KICAgICAgIH0NCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["Tabs.vue"],"names":[],"mappings":";AAUA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Tabs.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <el-tabs type=\"border-card\" closable @tab-remove=\"removeTab\" v-model=\"editableTabsValue\" @tab-click=\"clickTab\">\r\n    <el-tab-pane v-for=\"(item,index) in editableTabs\" :key=\"item.name\" :label=\"item.title\" :name=\"item.name\">\r\n      <span slot=\"label\" ><i :class=\"item.icon\"></i> {{item.title}}</span> \r\n      <router-view></router-view>\r\n    </el-tab-pane> \r\n  </el-tabs>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name:'Tabs',\r\n  data() {\r\n    return {\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    //选项卡被点击\r\n    clickTab (target) { \r\n      //target.name获得当前点击的选项卡 名字\r\n      //选项卡的名字是 点击菜单 动态根据菜单创建选项卡对象。\r\n      //菜单的name是从 路由守卫创建动态路由时指定。  menu.name 等于  路由配置对象route.name  等于  Tab.name\r\n      this.$router.push({ name:target.name })\r\n    },\r\n    //点击选项卡的删除按钮，移除选项卡   target就是要删除的选项卡的name的属性值\r\n    removeTab (target) { \r\n      let tabsArray = this.editableTabs;  //获得目前所有数组中的选项卡\r\n      let activeName = this.editableTabsValue;   //获得目前正 激活选项卡name\r\n      if (target === 'Index') {  //如果要删除的选项卡target 是Index\r\n        return\r\n      }\r\n      if (target === activeName) { //删除的target选项卡 就是目前正在激活选项卡\r\n        tabsArray.forEach((tabItem, index) => {\r\n          if (tabItem.name === target) { //如果当前循环的选项卡name和要删除的name相等，在所有选项卡数组中找到要删除的选项卡\r\n            //计算谁是删除之后 默认被激活 选项卡，如果不是最后一个选项卡，就取下一个，如果是最后一个，取前一个\r\n            let nextTab = tabsArray[index + 1] || tabsArray[index - 1]\r\n            console.log('下一个选项卡',nextTab);\r\n            if (nextTab) {\r\n              activeName = nextTab.name   //将获得下一个选项卡name赋值给默认激活activeName\r\n            }\r\n          }\r\n        });     \r\n      }\r\n      //将找到下一个被激活的选项卡name 赋值给vuex中\r\n      this.editableTabsValue = activeName\r\n      //从现有数组中移除  删除掉当前要删除的选项卡   \r\n      //filter 过滤方法，只保存条件符合的数据。\r\n      this.editableTabs = tabsArray.filter( tab => tab.name !== target )\r\n\r\n      //默认激活的选项卡改变，页面的内容也需要改变    让路由跳转至 移除选项卡之后 目前激活的选项卡对应组件界面\r\n      this.$router.push({name:activeName})\r\n      \r\n    }\r\n  },\r\n  computed: {\r\n    editableTabs: {\r\n      get () { \r\n        return this.$store.state.menu.editableTabs\r\n      },\r\n      set (val) { \r\n        this.$store.state.menu.editableTabs = val;\r\n      }\r\n    },\r\n    //目前正在编辑 激活的选项卡。返回 选项卡对象 name\r\n    editableTabsValue: {\r\n      get () { \r\n        return this.$store.state.menu.editableTabsValue;\r\n      },\r\n      set (val) {\r\n        this.$store.state.menu.editableTabsValue = val\r\n       }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.el-tabs{\r\n  \r\n  height: 100%;\r\n \r\n}\r\n\r\n\r\n</style>\r\n"]}]}