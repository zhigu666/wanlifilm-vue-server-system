{"remainingRequest":"D:\\desk\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\desk\\vue_server_system\\src\\views\\system\\Roles.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\desk\\vue_server_system\\src\\views\\system\\Roles.vue","mtime":1680573051065},{"path":"D:\\desk\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\desk\\vue_server_system\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\desk\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\desk\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8v5paw5bu66KeS6ImyIOWSjCDnvJbovpHop5LoibLlr7nor53moYbkuK3ooajljZUg5a+55bqU55qE6KeS6Imy5a+56LGhDQogICAgICBSb2xlRm9ybTogew0KICAgICAgICBuYW1lOiAnJywNCiAgICAgICAgY29kZTogJycsDQogICAgICAgIHJlbWFyazogJycsDQogICAgICAgIHN0YXR1OjAsDQogICAgICB9LA0KICAgICAgc2VsZWN0aW9uOltdLCAgLy/lpI3pgInmoYbpgInkuK3nmoTop5LoibLnmoTlr7nosaENCiAgICAgIHRhYmxlRGF0YTogW10sICAvL+aJgOacieinkuiJsueahOaVsOaNrg0KICAgICAgZGVsZXRlQWxsQnRuU3R1OnRydWUsICAgLy/mibnph4/liKDpmaTop5LoibLnmoTmjInpkq7mmK/lkKblj6/nlKjvvIzpu5jorqTmmK90cnVl77yM5LiN5Y+v55SoDQogICAgICBkaWFsb2dGb3JtVmlzaWJsZTpmYWxzZSwgIC8v5paw5bu66KeS6Imy55qE5a+56K+d5qGG5piv5ZCm5pi+56S655qE5Y+Y6YePDQogICAgICAgLy8gLy/mkJzntKLmoI/lr7nosaENCiAgICAgIHNlYXJjaEZvcm06IHsNCiAgICAgICAgbmFtZTonJyAgICAvL+inkuiJsuWQjeensA0KICAgICAgfSwNCiAgICAgICAvL+eUqOaIt+aVsOaNruaYvuekuiDliIbpobXnm7jlhbPmlbDmja4NCiAgICAgIHRvdGFsOjAsICAvL+WIhumhteaYvuekuu+8mueUqOaIt+eahOaAu+iusOW9leaVsA0KICAgICAgc2l6ZTogMTAsICAgLy/liIbpobXmmL7npLrvvJrkuIDpobXmmL7npLrnmoTorrDlvZXmlbANCiAgICAgIGN1cnJlbnQ6IDEsICAvL+WIhumhteaYvuekuu+8muW9k+WJjeaYvuekuueahOmhteegge+8jOWwseaYr+esrOWHoOmhtQ0KDQogICAgICBydWxlczogew0KICAgICAgICBuYW1lOiBbDQogICAgICAgICAgLy/pnZ7nqbrpqozor4ENCiAgICAgICAgICB7cmVxdWlyZWQ6dHJ1ZSxtZXNzYWdlOifor7fovpPlhaXop5LoibLnmoTlkI3np7AnLHRyaWdnZXI6J2JsdXInfQ0KICAgICAgICBdLA0KICAgICAgICBjb2RlOiBbDQogICAgICAgICAge3JlcXVpcmVkOnRydWUsbWVzc2FnZTon6K+36L6T5YWl6KeS6Imy57yW56CBJyx0cmlnZ2VyOidibHVyJ30NCiAgICAgICAgXSwNCiAgICAgICAgcmVtYXJrOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+inkuiJsuS/oeaBr+eahOaPj+i/sCcsIHRyaWdnZXI6ICdibHVyJyB9LA0KICAgICAgICBdDQogICAgICB9DQogICAgfQ0KICB9LA0KICBjcmVhdGVkICgpIHsgDQogICAgdGhpcy5sb2FkUm9sZUxpc3QoKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy/kv53lrZjmlrDlu7rop5LoibLkv6Hmga/jgIINCiAgICBzdWJtaXRGb3JtIChmb3JtTmFtZSkgeyANCiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4geyANCiAgICAgICAgaWYgKHZhbGlkKSB7IA0KICAgICAgICAgIC8v6K+35rGC5pyN5Yqh5Zmo6L+b6KGMICDkv53lrZjop5LoibIgIOaIluiAhSAg5pu05paw6KeS6ImyICDmk43kvZwNCiAgICAgICAgICAvL3RoaXMuJGF4aW9zLnBvc3Qo6Lev5b6ELOWPguaVsCkNCiAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KCcvc3lzdGVtL3JvbGUvJyArICh0aGlzLlJvbGVGb3JtLmlkID8gJ3VwZGF0ZScgOiAnc2F2ZScpLCB0aGlzLlJvbGVGb3JtKQ0KICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLmRhdGEubWVzc2FnZSwNCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICAgICAgICAvLyBzaG93Q2xvc2U6IHRydWUsDQogICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOjE1MDAsDQogICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6ICgpID0+IHsgDQogICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkUm9sZUxpc3QoKSAvL+aWsOW7uueUqOaIt+aIkOWKn+WQju+8jOmcgOimgemHjeaWsOWKoOi9veeUqOaIt+aVsOaNrg0KICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZSAgLy/nlKjmiLfkv53lrZjmiJDlip/vvIzlr7nor53moYbpmpDol48NCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0Rm9ybShmb3JtTmFtZSkgICAvL+eUqOaIt+S/neWtmOaIkOWKn++8jOihqOWNlemHjee9rg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgLy/ph43nva7mlrDlu7rmiJbnvJbovpHop5LoibIg5a+56K+d5qGG6KGo5Y2V55qEIOaWueazlQ0KICAgIHJlc2V0Rm9ybSAoZm9ybU5hbWUpIHsgDQogICAgICB0aGlzLlJvbGVGb3JtID0ge30NCiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnJlc2V0RmllbGRzKCk7DQogICAgfSwNCiAgICAvL+WFs+mXreaWsOW7uuaIluiAhSDnvJbovpHop5LoibLlr7nor53moYbnmoTlm57osIPlh73mlbANCiAgICBoYW5kbGVDbG9zZSAoKSB7IA0KICAgICAgdGhpcy5Sb2xlRm9ybSA9IHt9ICAgLy/lhbPpl63op5LoibLlr7nor53moYbvvIzpppblhYjmuIXnqbogUm9sZUZvcm3op5LoibLlr7nosaHkv6Hmga8NCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZSAgLy/orr7nva7lr7nor53moYblj5jph4/kuLpmYWxzZe+8jOWvueivneahhuWwseS4jeaYvuekug0KICAgIH0sDQogICAgLy/liqDovb3pobXpnaLnmoTmiYDmnInnmoTop5LoibLkv6Hmga/jgIINCiAgICAvL+WmguaenHNlYXJjaEZvcm0ubmFtZeWxnuaAp+S4uuepuu+8jOS7o+ihqOaQnOe0ouagj+ayoeaciei+k+WFpeWGheWuue+8jOm7mOiupOWKoOi9veaJgOacieeahOinkuiJsuS/oeaBrw0KICAgIC8v5aaC5p6cc2VhcmNoRm9ybS5uYW1l5bGe5oCn5pyJ5YC877yM5Luj6KGo5pCc57Si5qCP55qE6L6T5YWl5pyJ5YaF5a6577yM5oyJ54Wn5YaF5a655Y675pyN5Yqh5Zmo5qih57OK5p+l6K+i55u45YWz55qE6KeS6Imy5L+h5oGvDQogICAgbG9hZFJvbGVMaXN0ICgpIHsNCiAgICAgIC8v6K+35rGC5pyN5Yqh5Zmo77yM5Yqg6L29IOaJgOacieeahOinkuiJsueahOS/oeaBr++8jOi1i+WAvOe7mSB0aGlzLnRhYmxlRGF0YQ0KICAgICAgdGhpcy4kYXhpb3MuZ2V0KCcvc3lzdGVtL3JvbGUvbGlzdCcpLnRoZW4ocmVzcG9uc2UgPT4geyANCiAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXNwb25zZS5kYXRhLnJlc3VsdGRhdGEucmVjb3Jkcw0KICAgICAgICB0aGlzLnRvdGFsID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRkYXRhLnRvdGFsDQogICAgICAgIHRoaXMuc2l6ZSA9IHJlc3BvbnNlLmRhdGEucmVzdWx0ZGF0YS5zaXplDQogICAgICAgIHRoaXMuY3VycmVudCA9IHJlc3BvbnNlLmRhdGEucmVzdWx0ZGF0YS5jdXJyZW50DQogICAgICB9KQ0KICAgIH0sDQogICAgZGVsZXRlUm9sZSAoKSB7ICAvL+WIoOmZpOinkuiJsueahOaWueazlSANCg0KICAgIH0sDQogICAgc2VsZWN0aW9uQ2hhbmdlICh2YWx1ZSkgeyAvL+mAieS4reihqOagvOeahOWkjemAieahhiDopoHmiafooYznmoTmk43kvZwNCiAgICAgIHRoaXMuc2VsZWN0aW9uID0gdmFsdWU7ICAvL+WwhuihqOagvOWkjemAieahhiDpgInkuK3nmoQg6KeS6Imy5a+56LGh6LWL5YC857uZIHNlbGVjdGlvbiDmlbDnu4QNCiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbikgeyAgICAgICAgIA0KICAgICAgICB0aGlzLmRlbGV0ZUFsbEJ0blN0dSA9ICh0aGlzLnNlbGVjdGlvbi5sZW5ndGggPT09IDApICAgDQogICAgICB9DQogICAgfSwNCiAgICBlZGl0Um9sZSAoaWQpIHsgIC8v57yW6L6R6KeS6Imy55qE5pa55rOVDQogICAgICAvL+agueaNruinkuiJsueahGlk5p+l6K+i6K+l6KeS6Imy55qE6K+m57uG5L+h5oGvDQogICAgICB0aGlzLiRheGlvcygnL3JvbGUvcm9sZWluZm8vJyArIGlkKS50aGVuKHJlc3BvbnNlID0+IHsgDQogICAgICAgIHRoaXMuUm9sZUZvcm0gPSByZXNwb25zZS5kYXRhLnJlc3VsdGRhdGEgDQogICAgICAgIC8vUm9sZUZvcm3lr7nosaEg5piv5ZKMIOinkuiJsuWvueivneahhiDkuK3ooajljZXmmK/lj4zlkJHmlbDmja7nu5HlrprvvIzmiYDku6UgIFJvbGVGb3Jt5pyJ5pWw5o2u77yM5a+56K+d5qGG55qE6KGo5Y2V5bCx5pyJ5pWw5o2u44CCDQogICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlICAvL+aYvuekuuWvueivneahhg0KICAgICAgfSkNCiAgICB9LA0KICAgIGRlbGV0ZVJvbGUgKGlkKSB7ICAvL+WIoOmZpOinkuiJsueahOaWueazlQ0KICAgICAgLy/liKDpmaTop5LoibLkuI7liKDpmaTnlKjmiLfmgJ3ot6/kuIDoh7TvvIzlpoLmnpxpZOayoeacieWAvO+8jOmCo+S5iOaJuemHj+WIoOmZpCggdGhpcy5zZWxlY3Rpb24gKe+8jOWmguaenGlk5pyJ5YC877yM6L+b6KGM5Y2V5Liq55So5oi35Yig6ZmkKCBpZCAp44CCDQogICAgICBsZXQgaWRzID0gW107DQogICAgICBpZCA/IGlkcy5wdXNoKGlkKSA6IHRoaXMuc2VsZWN0aW9uLmZvckVhY2gociA9PiB7IA0KICAgICAgICBpZHMucHVzaChyKQ0KICAgICAgfSkNCg0KICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL3N5c3RlbS9yb2xlL2RlbGV0ZScsIGlkcykudGhlbihyZXNwb25zZSA9PiB7IA0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLmRhdGEubWVzc2FnZSwNCiAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsDQogICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLA0KICAgICAgICAgICAgICAgIC8v5a6a5LmJ5LiA5Liq5YWz6Zet5raI5oGv5qGG5Zue6LCD77yaIA0KICAgICAgICAgICAgb25DbG9zZTogKCkgPT4geyANCiAgICAgICAgICAgICAgdGhpcy5sb2FkUm9sZUxpc3QoKSAgIC8v6ZyA6KaB6YeN5paw5Yqg6L296KGo5qC85Lit6KeS6Imy55qE5pWw5o2uDQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICB9KQ0KICAgIH0NCiAgfSwNCiAgY29tcG9uZW50czogew0KICB9DQp9DQo="},{"version":3,"sources":["Roles.vue"],"names":[],"mappings":";AAsFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Roles.vue","sourceRoot":"src/views/system","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 页面工具条表单 -->\r\n    <el-form ref=\"form\" :model=\"searchForm\" :inline=\"true\">\r\n        <el-form-item>\r\n          <el-input v-model=\"searchForm.name\" placeholder=\"请输入要搜索的角色\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button @click=\"loadRoleList\">搜索</el-button>\r\n          <el-button type=\"primary\" @click=\"dialogFormVisible=true\">新建</el-button>\r\n\r\n          <el-popconfirm title=\"确认要批量删除角色信息吗？\" @confirm=\"deleteRole\">\r\n            <el-button slot=\"reference\" type=\"danger\" :disabled=\"deleteAllBtnStu\">批量删除</el-button>\r\n          </el-popconfirm>  \r\n        </el-form-item>\r\n    </el-form>\r\n\r\n    <!-- 显示所有角色的表格 -->\r\n    <el-table :data=\"tableData\" border stripe style=\"width: 100%; margin-bottom:20px;\" :cell-style=\"{ padding:'2px'}\" @selection-change=\"selectionChange\">\r\n        <el-table-column type=\"selection\" width=\"50\">\r\n        </el-table-column>\r\n        <el-table-column label=\"角色名称\" width=\"200\" prop=\"name\" > \r\n        </el-table-column>\r\n        <el-table-column label=\"角色编码\" width=\"150\" prop=\"code\" > \r\n        </el-table-column>\r\n        <el-table-column label=\"描述\" width=\"500\" prop=\"remark\" > \r\n        </el-table-column>\r\n        <el-table-column label=\"状态\"  width=\"70\" prop=\"statu\"> \r\n          <template slot-scope=\"scope\">\r\n            <!-- 取出当前这一行显示用户的状态： scope.row.statu -->\r\n            <!-- <el-tag size=\"mini\" type=\"success\">正常</el-tag> -->\r\n              <el-tag size=\"mini\" v-if=\"scope.row.statu===1\" type=\"success\">正常</el-tag>\r\n              <el-tag size=\"mini\" v-else-if=\"scope.row.statu===0\" type=\"danger\">禁用</el-tag>\r\n          </template>  \r\n        </el-table-column>\r\n        <el-table-column label=\"操作\"  > \r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"text\">分配权限</el-button>\r\n              <el-divider direction=\"vertical\"></el-divider>\r\n              <el-button type=\"text\" @click=\"editRole(scope.row.id)\">编辑</el-button>\r\n              <el-divider direction=\"vertical\"></el-divider>\r\n              \r\n\r\n              <el-popconfirm title=\"确认要删除该角色信息吗？\" @confirm=\"deleteRole(scope.row.id)\">\r\n                <el-button slot=\"reference\" type=\"text\">删除</el-button>\r\n              </el-popconfirm>  \r\n            </template>\r\n        </el-table-column>\r\n    </el-table>\r\n\r\n\r\n    <!-- 显示分页页码 -->\r\n    <el-pagination background layout=\"total, sizes,prev, pager, next,jumper\" :total=\"total\" :page-size=\"size\" \r\n      :page-sizes=\"[5,10,15,20,25]\" :current-page=\"current\">\r\n    </el-pagination>\r\n  \r\n    <!-- 新建角色 编辑角色对话框 -->\r\n     <el-dialog title=\"角色信息\" :visible.sync=\"dialogFormVisible\" width=\"550px\" :before-close=\"handleClose\" >\r\n      <el-form :model=\"RoleForm\" ref=\"RoleForm\" label-width=\"100px\" :rules=\"rules\">\r\n        <el-form-item label=\"角色名称\" label-width=\"100px\" prop=\"name\">\r\n          <el-input v-model=\"RoleForm.name\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色编码\" label-width=\"100px\" prop=\"code\">  \r\n          <el-input v-model=\"RoleForm.code\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"描述\" label-width=\"100px\" prop=\"remark\">\r\n          <el-input v-model=\"RoleForm.remark\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n     \r\n        <el-form-item label=\"状态\" label-width=\"100px\" >\r\n          <el-radio-group v-model=\"RoleForm.statu\">\r\n            <el-radio :label=\"0\">禁用</el-radio>\r\n            <el-radio :label=\"1\">正常</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"submitForm('RoleForm')\">保存角色</el-button>\r\n          <el-button @click=\"resetForm('RoleForm')\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n  </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      //新建角色 和 编辑角色对话框中表单 对应的角色对象\r\n      RoleForm: {\r\n        name: '',\r\n        code: '',\r\n        remark: '',\r\n        statu:0,\r\n      },\r\n      selection:[],  //复选框选中的角色的对象\r\n      tableData: [],  //所有角色的数据\r\n      deleteAllBtnStu:true,   //批量删除角色的按钮是否可用，默认是true，不可用\r\n      dialogFormVisible:false,  //新建角色的对话框是否显示的变量\r\n       // //搜索栏对象\r\n      searchForm: {\r\n        name:''    //角色名称\r\n      },\r\n       //用户数据显示 分页相关数据\r\n      total:0,  //分页显示：用户的总记录数\r\n      size: 10,   //分页显示：一页显示的记录数\r\n      current: 1,  //分页显示：当前显示的页码，就是第几页\r\n\r\n      rules: {\r\n        name: [\r\n          //非空验证\r\n          {required:true,message:'请输入角色的名称',trigger:'blur'}\r\n        ],\r\n        code: [\r\n          {required:true,message:'请输入角色编码',trigger:'blur'}\r\n        ],\r\n        remark: [\r\n          { required: true, message: '请输角色信息的描述', trigger: 'blur' },\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created () { \r\n    this.loadRoleList()\r\n  },\r\n  methods: {\r\n    //保存新建角色信息。\r\n    submitForm (formName) { \r\n      this.$refs[formName].validate((valid) => { \r\n        if (valid) { \r\n          //请求服务器进行  保存角色  或者  更新角色  操作\r\n          //this.$axios.post(路径,参数)\r\n          this.$axios.post('/system/role/' + (this.RoleForm.id ? 'update' : 'save'), this.RoleForm)\r\n            .then((response) => {\r\n             this.$message({\r\n                    message: response.data.message,\r\n                    type: 'success',\r\n                    // showClose: true,\r\n                    duration:1500,\r\n                    onClose: () => { \r\n                      this.loadRoleList() //新建用户成功后，需要重新加载用户数据\r\n                      this.dialogFormVisible = false  //用户保存成功，对话框隐藏\r\n                      this.resetForm(formName)   //用户保存成功，表单重置\r\n                    }\r\n                });\r\n            })\r\n        }\r\n      })\r\n    },\r\n    //重置新建或编辑角色 对话框表单的 方法\r\n    resetForm (formName) { \r\n      this.RoleForm = {}\r\n      this.$refs[formName].resetFields();\r\n    },\r\n    //关闭新建或者 编辑角色对话框的回调函数\r\n    handleClose () { \r\n      this.RoleForm = {}   //关闭角色对话框，首先清空 RoleForm角色对象信息\r\n      this.dialogFormVisible = false  //设置对话框变量为false，对话框就不显示\r\n    },\r\n    //加载页面的所有的角色信息。\r\n    //如果searchForm.name属性为空，代表搜索栏没有输入内容，默认加载所有的角色信息\r\n    //如果searchForm.name属性有值，代表搜索栏的输入有内容，按照内容去服务器模糊查询相关的角色信息\r\n    loadRoleList () {\r\n      //请求服务器，加载 所有的角色的信息，赋值给 this.tableData\r\n      this.$axios.get('/system/role/list').then(response => { \r\n        this.tableData = response.data.resultdata.records\r\n        this.total = response.data.resultdata.total\r\n        this.size = response.data.resultdata.size\r\n        this.current = response.data.resultdata.current\r\n      })\r\n    },\r\n    deleteRole () {  //删除角色的方法 \r\n\r\n    },\r\n    selectionChange (value) { //选中表格的复选框 要执行的操作\r\n      this.selection = value;  //将表格复选框 选中的 角色对象赋值给 selection 数组\r\n      if (this.selection) {         \r\n        this.deleteAllBtnStu = (this.selection.length === 0)   \r\n      }\r\n    },\r\n    editRole (id) {  //编辑角色的方法\r\n      //根据角色的id查询该角色的详细信息\r\n      this.$axios('/role/roleinfo/' + id).then(response => { \r\n        this.RoleForm = response.data.resultdata \r\n        //RoleForm对象 是和 角色对话框 中表单是双向数据绑定，所以  RoleForm有数据，对话框的表单就有数据。\r\n        this.dialogFormVisible = true  //显示对话框\r\n      })\r\n    },\r\n    deleteRole (id) {  //删除角色的方法\r\n      //删除角色与删除用户思路一致，如果id没有值，那么批量删除( this.selection )，如果id有值，进行单个用户删除( id )。\r\n      let ids = [];\r\n      id ? ids.push(id) : this.selection.forEach(r => { \r\n        ids.push(r)\r\n      })\r\n\r\n      this.$axios.post('/system/role/delete', ids).then(response => { \r\n          this.$message({\r\n                message: response.data.message,\r\n                type: 'success',\r\n                showClose: true,\r\n                //定义一个关闭消息框回调： \r\n            onClose: () => { \r\n              this.loadRoleList()   //需要重新加载表格中角色的数据\r\n            }\r\n          });\r\n      })\r\n    }\r\n  },\r\n  components: {\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n"]}]}