{"remainingRequest":"D:\\vue_workspace\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue_workspace\\vue_server_system\\src\\views\\system\\Order.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue_workspace\\vue_server_system\\src\\views\\system\\Order.vue","mtime":1680970054974},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgc3RhcnRUaW1lOiAnJywNCiAgICAgICAgICAgIGVuZFRpbWU6ICcnLA0KICAgICAgICAgICAgc2VsZWN0aW9uOiBbXSwNCiAgICAgICAgICAgIHRhYmxlRGF0YTogW10sDQogICAgICAgICAgICB0b3RhbDogMCwNCiAgICAgICAgICAgIHNpemU6IDEwLA0KICAgICAgICAgICAgY3VycmVudDogMSwNCiAgICAgICAgICAgIGRlbGV0ZUFsbEJ0blN0dTogdHJ1ZSwNCiAgICAgICAgICAgIHNlYXJjaEZvcm06IHsNCiAgICAgICAgICAgICAgICBvcmRlcm5hbWU6ICcnLA0KICAgICAgICAgICAgICAgIGlkOicnLA0KICAgICAgICAgICAgICAgIHVpZDonJywNCiAgICAgICAgICAgICAgICBjcmVhdGVkOicnLA0KICAgICAgICAgICAgICAgIHBheV9hdDonJywNCiAgICAgICAgICAgICAgICBzdGF0dToxLA0KICAgICAgICAgICAgICAgIHVzZXJuYW1lOicnLA0KICAgICAgICAgICAgICAgIHByaWNlOicnLA0KICAgICAgICAgICAgICAgIGZpbG1uYW1lOicnLA0KICAgICAgICAgICAgICAgIHNlYXRzOicnLA0KICAgICAgICAgICAgICAgIHJlbGVhc2VfdGltZTonJywNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpDQogICAgICAgICAgICB9LA0KICAgICAgICB9DQogICAgfSwNCiAgICBjcmVhdGVkKCkgew0KICAgICAgICB0aGlzLmxvYWRPcmRlckxpc3QoKQ0KICAgIH0sDQogICAgY29tcG9uZW50czogew0KICAgIH0sDQogICAgbW91bnRlZCgpIHsNCiAgICAgICAgdGhpcy5sb2FkT3JkZXJMaXN0KCkNCiAgICB9LA0KICAgIC8vIGZpbHRlcnM6IHsNCiAgICAvLyAgICAgZm10RGF0ZTogKHZhbHVlKSA9PiB7DQogICAgLy8gICAgICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKHZhbHVlKQ0KICAgIC8vICAgICAgICAgbGV0IHkgPSBkYXRlLmdldEZ1bGxZZWFyKCkNCiAgICAvLyAgICAgICAgIGxldCBNID0gKGRhdGUuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKQ0KICAgIC8vICAgICAgICAgbGV0IGQgPSBkYXRlLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJykNCiAgICAvLyAgICAgICAgIGxldCBoID0gZGF0ZS5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpDQogICAgLy8gICAgICAgICBsZXQgbSA9IGRhdGUuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKQ0KICAgIC8vICAgICAgICAgbGV0IHMgPSBkYXRlLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJykNCiAgICAvLyAgICAgICAgIHJldHVybiBgJHt5feW5tCR7TX3mnIgke2R95pelICR7aH06JHttfToke3N9YA0KICAgIC8vICAgICB9DQogICAgLy8gfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIHNlbGVjdGlvbkNoYW5nZSh2YWx1ZSkgew0KICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSB2YWx1ZTsNCiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbikgew0KICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQWxsQnRuU3R1ID0gKHRoaXMuc2VsZWN0aW9uLmxlbmd0aCA9PSAwKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVDbG9zZSgpIHsNCiAgICAgICAgICAgIC8vIHRoaXMucmVzZXRGb3JtKCdVc2VyRm9ybScpDQogICAgICAgICAgICB0aGlzLk9yZGVyRm9ybSA9IHt9DQogICAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2UNCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlQXZhdGFyU3VjY2VzcyhyZXNwb25zZSwgZmlsZSkgew0KICAgICAgICAgICAgdGhpcy5PcmRlckZvcm0uYXZhdGFyID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgICB9LA0KICAgICAgICBzZWFyY2hVc2VySW5mbygpIHsNCg0KICAgICAgICB9LA0KICAgICAgICBkZWxldGVPcmRlcihpZCkgew0KICAgICAgICAgICAgbGV0IGlkcyA9IFtdDQogICAgICAgICAgICBpZCA/IGlkcy5wdXNoKGlkKSA6IHRoaXMuc2VsZWN0aW9uLmZvckVhY2godSA9PiB7DQogICAgICAgICAgICAgICAgaWRzLnB1c2godS5pZCkNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KCcvc3lzdGVtL29yZGVyL2RlbGV0ZScsIGlkcykudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLmRhdGEubWVzc2FnZSwNCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsDQogICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFVzZXJMaXN0KCkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9KQ0KDQogICAgICAgIH0sDQogICAgICAgIGxvYWRPcmRlckxpc3QoKSB7DQogICAgICAgICAgICB0aGlzLiRheGlvcy5nZXQoJy9zeXN0ZW0vb3JkZXIvbGlzdCcsIHsNCiAgICAgICAgICAgICAgICBjdXJyZW50OiB0aGlzLmN1cnJlbnQsDQogICAgICAgICAgICAgICAgc2l6ZTogdGhpcy5zaXplLA0KICAgICAgICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXNwb25zZS5kYXRhLnJlc3VsdGRhdGEucmVjb3Jkcw0KICAgICAgICAgICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnJlc3VsdGRhdGEudG90YWwNCiAgICAgICAgICAgICAgICB0aGlzLnNpemUgPSByZXNwb25zZS5kYXRhLnJlc3VsdGRhdGEuc2l6ZQ0KICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHJlc3BvbnNlLmRhdGEucmVzdWx0ZGF0YS5jdXJyZW50DQogICAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgfQ0KfQ0K"},{"version":3,"sources":["Order.vue"],"names":[],"mappings":";;AAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Order.vue","sourceRoot":"src/views/system","sourcesContent":["<template>\r\n    <div>\r\n        <el-form ref=\"form\" :model=\"searchForm\" :inline=\"true\">\r\n            <el-form-item>\r\n                <el-input v-model=\"searchForm.ordername\" placeholder=\"请输入内容要搜索的内容\"></el-input>\r\n            </el-form-item>\r\n          <el-form-item>\r\n            <el-tag>添加时间</el-tag>\r\n          </el-form-item>\r\n            <template>\r\n                <el-time-select style=\"margin-right: 8px;\" placeholder=\"请选择开始时间\" v-model=\"startTime\" :picker-options=\"{\r\n                    start: '08:30',\r\n                    step: '00:15',\r\n                    end: '18:30'\r\n                }\">\r\n                </el-time-select>\r\n                <el-time-select style=\"margin-right: 8px;\" placeholder=\"请选择截止时间\" v-model=\"endTime\" :picker-options=\"{\r\n                    start: '08:30',\r\n                    step: '00:15',\r\n                    end: '18:30',\r\n                    minTime: startTime\r\n                }\">\r\n                </el-time-select>\r\n            </template>\r\n            <el-form-item>\r\n                <el-button @click=\"searchUserInfo\">搜索</el-button>\r\n                <el-button type=\"info\">清空</el-button>\r\n\r\n                <el-popconfirm title=\"确认要批量删除用户消息吗？\" @confirm=\"deleteOrder\">\r\n                    <el-button slot=\"reference\" type=\"danger\" :disabled=\"deleteAllBtnStu\"\r\n                        style=\"margin-left: 8px;\">批量删除</el-button>\r\n                </el-popconfirm>\r\n            </el-form-item>\r\n        </el-form>\r\n\r\n        <el-table :data=\"tableData\" border stripe style=\"width: 100%; margin-bottom: 20px;\" :cell-style=\"{ padding: '2px' }\"\r\n            @selection-change=\"selectionChange\">\r\n            <el-table-column type=\"selection\" width=\"50\">\r\n            </el-table-column>\r\n            <el-table-column label=\"订单编号\" width=\"80\" prop=\"id\"> \r\n            </el-table-column>\r\n            <el-table-column width=\"200\" label=\"用户ID(手机号)\" prop=\"uid\">\r\n            </el-table-column>\r\n            <el-table-column width=\"120\" label=\"用户名\" prop=\"username\">\r\n            </el-table-column>\r\n            <el-table-column width=\"150\" label=\"电影名称\" prop=\"filmname\">\r\n            </el-table-column>\r\n            <el-table-column width=\"150\" label=\"座位\" prop=\"seats\">\r\n            </el-table-column>\r\n            <el-table-column width=\"150\" label=\"电影开始时间\" prop=\"release_time\">\r\n            </el-table-column>\r\n            <el-table-column label=\"金额\" prop=\"price\" width=\"80\">\r\n            </el-table-column>\r\n            <el-table-column label=\"状态\" width=\"90\" prop=\"statu\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-tag size=\"mini\" v-if=\"scope.row.statu === 1\" type=\"success\">支付成功</el-tag>\r\n                    <el-tag size=\"mini\" v-else-if=\"scope.row.statu === 0\" type=\"danger\">支付失败</el-tag>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"添加时间\" prop=\"created\" width=\"200\">\r\n                <!-- <template slot-scope=\"scope\">\r\n                    {{ scope.row.created | fmtDate }}\r\n                </template> -->\r\n            </el-table-column>\r\n            <el-table-column label=\"支付时间\" prop=\"pay_at\" width=\"200\">\r\n                <!-- <template slot-scope=\"scope\">\r\n                    {{ scope.row.created | fmtDate }}\r\n                </template> -->\r\n            </el-table-column>\r\n\r\n            <el-table-column label=\"操作\" width=\"100px\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-popconfirm title=\"确认要删除该用户信息吗？\" @confirm=\"deleteOrder(scope.row.id)\">\r\n                        <el-button slot=\"reference\" type=\"danger\">删除</el-button>\r\n                    </el-popconfirm>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <el-pagination background layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\" :page-size=\"size\"\r\n            :page-sizes=\"[5, 10, 15, 20, 25]\" :current-page=\"current\">\r\n        </el-pagination>\r\n\r\n\r\n    </div>\r\n</template>\r\n  \r\n<script>\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            startTime: '',\r\n            endTime: '',\r\n            selection: [],\r\n            tableData: [],\r\n            total: 0,\r\n            size: 10,\r\n            current: 1,\r\n            deleteAllBtnStu: true,\r\n            searchForm: {\r\n                ordername: '',\r\n                id:'',\r\n                uid:'',\r\n                created:'',\r\n                pay_at:'',\r\n                statu:1,\r\n                username:'',\r\n                price:'',\r\n                filmname:'',\r\n                seats:'',\r\n                release_time:'',\r\n            },\r\n            headers: {\r\n                token: localStorage.getItem('token')\r\n            },\r\n        }\r\n    },\r\n    created() {\r\n        this.loadOrderList()\r\n    },\r\n    components: {\r\n    },\r\n    mounted() {\r\n        this.loadOrderList()\r\n    },\r\n    // filters: {\r\n    //     fmtDate: (value) => {\r\n    //         let date = new Date(value)\r\n    //         let y = date.getFullYear()\r\n    //         let M = (date.getMonth() + 1).toString().padStart(2, '0')\r\n    //         let d = date.getDate().toString().padStart(2, '0')\r\n    //         let h = date.getDate().toString().padStart(2, '0')\r\n    //         let m = date.getDate().toString().padStart(2, '0')\r\n    //         let s = date.getDate().toString().padStart(2, '0')\r\n    //         return `${y}年${M}月${d}日 ${h}:${m}:${s}`\r\n    //     }\r\n    // },\r\n    methods: {\r\n        selectionChange(value) {\r\n            this.selection = value;\r\n            if (this.selection) {\r\n                this.deleteAllBtnStu = (this.selection.length == 0)\r\n            }\r\n        },\r\n        handleClose() {\r\n            // this.resetForm('UserForm')\r\n            this.OrderForm = {}\r\n            this.dialogFormVisible = false\r\n        },\r\n        handleAvatarSuccess(response, file) {\r\n            this.OrderForm.avatar = response.data\r\n        },\r\n        searchUserInfo() {\r\n\r\n        },\r\n        deleteOrder(id) {\r\n            let ids = []\r\n            id ? ids.push(id) : this.selection.forEach(u => {\r\n                ids.push(u.id)\r\n            })\r\n            this.$axios.post('/system/order/delete', ids).then(response => {\r\n                this.$message({\r\n                    message: response.data.message,\r\n                    type: 'success',\r\n                    showClose: true,\r\n                    onClose: () => {\r\n                        this.loadUserList()\r\n                    }\r\n                })\r\n            })\r\n\r\n        },\r\n        loadOrderList() {\r\n            this.$axios.get('/system/order/list', {\r\n                current: this.current,\r\n                size: this.size,\r\n            }).then(response => {\r\n                this.tableData = response.data.resultdata.records\r\n                this.total = response.data.resultdata.total\r\n                this.size = response.data.resultdata.size\r\n                this.current = response.data.resultdata.current\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n  \r\n<style scoped>\r\n.avatar-uploader .el-upload {\r\n    border: 1px solid #666;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    position: relative;\r\n    overflow: hidden;\r\n}\r\n\r\n.avatar-uploader .el-upload:hover {\r\n    border-color: #409eff;\r\n}\r\n\r\n.avatar-uploader-icon {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 178px;\r\n    height: 178px;\r\n    line-height: 178px;\r\n    text-align: center;\r\n}\r\n\r\n.avatar {\r\n    width: 178px;\r\n    height: 178px;\r\n    display: block;\r\n}\r\n</style>\r\n  "]}]}