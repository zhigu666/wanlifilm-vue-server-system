{"remainingRequest":"D:\\desk\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\desk\\vue_server_system\\src\\views\\system\\Role.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\desk\\vue_server_system\\src\\views\\system\\Role.vue","mtime":1684745061220},{"path":"D:\\desk\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\desk\\vue_server_system\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\desk\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\desk\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8v5p2D6ZmQVHJlZeaOp+S7tueahOaYvuekuuadg+mZkOaVsOaNrijmmL7npLrmiYDmnInnmoTmnYPpmZDmlbDmja4pDQogICAgICBwZXJtVHJlZURhdGE6W10sDQovL+WIhumFjeadg+mZkOeahOihqOWNleWvueixoSjop5LoibLmnYPpmZApDQogICAgICBQZXJtRm9ybToge30sDQogICAgICAvL+aWsOW7uuinkuiJsiDlkowg57yW6L6R6KeS6Imy5a+56K+d5qGG5Lit6KGo5Y2VIOWvueW6lOeahOinkuiJsuWvueixoQ0KICAgICAgUm9sZUZvcm06IHsNCiAgICAgICAgbmFtZTogJycsDQogICAgICAgIGNvZGU6ICcnLA0KICAgICAgICByZW1hcms6ICcnLA0KICAgICAgICBzdGF0dTogMCwNCiAgICAgIH0sDQogICAgICAvL1RyZWXmjqfku7blpoLkvZXku44g6L+U5Zue6I+c5Y2V5pWw5o2u5Lit5Y+W5YC8DQogICAgICBkZWZhdWx0UHJvcHM6IHsNCiAgICAgICAgY2hpbGRyZW46ICdjaGlsZHJlbicsDQogICAgICAgIGxhYmVsOiAnbmFtZScNCiAgICAgIH0sDQogICAgICBzZWxlY3Rpb246IFtdLCAgLy/lpI3pgInmoYbpgInkuK3nmoTop5LoibLnmoTlr7nosaENCiAgICAgIHRhYmxlRGF0YTogW10sICAvL+aJgOacieinkuiJsueahOaVsOaNrg0KICAgICAgZGVsZXRlQWxsQnRuU3R1OiB0cnVlLCAgIC8v5om56YeP5Yig6Zmk6KeS6Imy55qE5oyJ6ZKu5piv5ZCm5Y+v55So77yM6buY6K6k5pivdHJ1Ze+8jOS4jeWPr+eUqA0KICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLCAgLy/mlrDlu7rop5LoibLnmoTlr7nor53moYbmmK/lkKbmmL7npLrnmoTlj5jph48NCiAgICAgIGRpYWxvZ1Blcm1Gb3JtVmlzaWJsZTpmYWxzZSwvL+WIhumFjeadg+mZkOWvueivneahhuaYr+WQpuaYvuekug0KICAgICAgLy8gLy/mkJzntKLmoI/lr7nosaENCiAgICAgIHNlYXJjaEZvcm06IHsNCiAgICAgICAgbmFtZTogJycgICAgLy/op5LoibLlkI3np7ANCiAgICAgIH0sDQogICAgICAvL+eUqOaIt+aVsOaNruaYvuekuiDliIbpobXnm7jlhbPmlbDmja4NCiAgICAgIHRvdGFsOiAwLCAgLy/liIbpobXmmL7npLrvvJrnlKjmiLfnmoTmgLvorrDlvZXmlbANCiAgICAgIHNpemU6IDEwLCAgIC8v5YiG6aG15pi+56S677ya5LiA6aG15pi+56S655qE6K6w5b2V5pWwDQogICAgICBjdXJyZW50OiAxLCAgLy/liIbpobXmmL7npLrvvJrlvZPliY3mmL7npLrnmoTpobXnoIHvvIzlsLHmmK/nrKzlh6DpobUNCg0KICAgICAgcnVsZXM6IHsNCiAgICAgICAgbmFtZTogWw0KICAgICAgICAgIC8v6Z2e56m66aqM6K+BDQogICAgICAgICAge3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6KeS6Imy55qE5ZCN56ewJywgdHJpZ2dlcjogJ2JsdXInfQ0KICAgICAgICBdLA0KICAgICAgICBjb2RlOiBbDQogICAgICAgICAge3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6KeS6Imy57yW56CBJywgdHJpZ2dlcjogJ2JsdXInfQ0KICAgICAgICBdLA0KICAgICAgICByZW1hcms6IFsNCiAgICAgICAgICB7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPop5LoibLkv6Hmga/nmoTmj4/ov7AnLCB0cmlnZ2VyOiAnYmx1cid9LA0KICAgICAgICBdDQogICAgICB9DQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMubG9hZFJvbGVMaXN0KCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHN1Ym1pdFBlcm10Rm9ybSgpew0KICAgICAgbGV0IG1lbnVJZHM9dGhpcy4kcmVmcy5wZXJtVHJlZS5nZXRDaGVja2VkS2V5cygpOw0KICAgICAgY29uc29sZS5sb2coMSkNCiAgICAgIHRoaXMuJGF4aW9zLnBvc3QoJy9zeXN0ZW0vcm9sZS9wZXJtLycrdGhpcy5QZXJtRm9ybS5pZCxtZW51SWRzKQ0KICAgICAgLnRoZW4ocmVzcG9uc2U9PnsNCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgbWVzc2FnZTogIuadg+mZkOaVsOaNruS/neWtmOaIkOWKnyIsDQogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwNCiAgICAgICAgICAvLyBkdXJhdGlvbjogMTUwMCwNCiAgICAgICAgICBvbkNsb3NlOiAoKSA9PiB7DQogICAgICAgICAgICB0aGlzLlJvbGVEaWFvZ0Nsb3NlKCkNCiAgICAgICAgICAgIHRoaXMubG9hZFJvbGVMaXN0KCkgLy/mlrDlu7rnlKjmiLfmiJDlip/lkI7vvIzpnIDopoHph43mlrDliqDovb3nlKjmiLfmlbDmja4NCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfSkNCiAgICB9LA0KICAgIC8v5YiG6YWN5p2D6ZmQ55qE5pa55rOVDQogICAgUGVybUhhbmRsZXIocm9sZV9pZCl7DQogICAgICB0aGlzLmRpYWxvZ1Blcm1Gb3JtVmlzaWJsZT10cnVlOw0KICAgICAgLy/liqDovb3or7fmsYLlvZPliY3op5LoibLnmoTmnYPpmZDkv6Hmga8NCg0KICAgICAgdGhpcy4kYXhpb3MuZ2V0KCcvc3lzdGVtL3JvbGUvcm9sZWluZm8vJytyb2xlX2lkKQ0KICAgICAgLnRoZW4ocmVzcG9uc2U9PnsNCiAgICAgICAgdGhpcy4kcmVmcy5wZXJtVHJlZS5zZXRDaGVja2VkS2V5cyhyZXNwb25zZS5kYXRhLnJlc3VsdGRhdGEubWVudUlkcyk7DQogICAgICAgIHRoaXMuUGVybUZvcm09cmVzcG9uc2UuZGF0YS5yZXN1bHRkYXRhOw0KICAgICAgfSkNCiAgICB9LA0KDQogICAgLy/lhbPpl63liIbphY3mnYPpmZDlr7nor53moYYNCiAgICBSb2xlRGlhb2dDbG9zZSgpIHsNCi8vdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsNCiAgICAgIHRoaXMuUGVybUZvcm0gPSB7fQ0KICAgICAgdGhpcy5kaWFsb2dQZXJtRm9ybVZpc2libGUgPSBmYWxzZQ0KICAgIH0sDQoNCiAgICAvL+OAkOWIhumhteaWueazleOAke+8muS/ruaUueS4gOmhteaYvuekuueahOiusOW9leaVsCB2YWzlj4LmlbDlsLHmmK/liIfmjaLnmoTkuIDkuKrmnIDmlrDkuKrmlbANCiAgICBoYW5kbGVyU2l6ZUNoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMuc2l6ZSA9IHZhbA0KICAgICAgdGhpcy5sb2FkUm9sZUxpc3QoKSAvL+mHjeaWsOWKoOi9veinkuiJsueahOaVsOaNrg0KICAgIH0sDQovL+OAkOWIhumhteaWueazleOAke+8muWIh+aNoumhteegge+8jOivt+axguaWsOS4gOmhteaVsOaNrg0KICAgIGhhbmRsZXJDdXJyZW50Q2hhbmdlKHZhbCkgeyAvL+WPguaVsHZhbCDlsLHmmK/ngrnlh7vnmoTmlrDnmoTpobXnoIENCiAgICAgIHRoaXMuY3VycmVudCA9IHZhbA0KICAgICAgdGhpcy5sb2FkUm9sZUxpc3QoKQ0KICAgIH0sDQoNCg0KICAgIC8v5L+d5a2Y5paw5bu66KeS6Imy5L+h5oGv44CCDQogICAgc3VibWl0Rm9ybShmb3JtTmFtZSkgew0KICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7DQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgIC8v6K+35rGC5pyN5Yqh5Zmo6L+b6KGMICDkv53lrZjop5LoibIgIOaIluiAhSAg5pu05paw6KeS6ImyICDmk43kvZwNCiAgICAgICAgICAvL3RoaXMuJGF4aW9zLnBvc3Qo6Lev5b6ELOWPguaVsCkNCiAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KCcvc3lzdGVtL3JvbGUvJyArICh0aGlzLlJvbGVGb3JtLmlkID8gJ3VwZGF0ZScgOiAnc2F2ZScpLCB0aGlzLlJvbGVGb3JtKQ0KICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLmRhdGEubWVzc2FnZSwNCiAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICAgICAgICAgIC8vIHNob3dDbG9zZTogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxNTAwLA0KICAgICAgICAgICAgICAgICAgb25DbG9zZTogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRSb2xlTGlzdCgpIC8v5paw5bu655So5oi35oiQ5Yqf5ZCO77yM6ZyA6KaB6YeN5paw5Yqg6L2955So5oi35pWw5o2uDQogICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZSAgLy/nlKjmiLfkv53lrZjmiJDlip/vvIzlr7nor53moYbpmpDol48NCiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldEZvcm0oZm9ybU5hbWUpICAgLy/nlKjmiLfkv53lrZjmiJDlip/vvIzooajljZXph43nva4NCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8v6YeN572u5paw5bu65oiW57yW6L6R6KeS6ImyIOWvueivneahhuihqOWNleeahCDmlrnms5UNCiAgICByZXNldEZvcm0oZm9ybU5hbWUpIHsNCiAgICAgIHRoaXMuUm9sZUZvcm0gPSB7fQ0KICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsNCiAgICB9LA0KICAgIC8v5YWz6Zet5paw5bu65oiW6ICFIOe8lui+keinkuiJsuWvueivneahhueahOWbnuiwg+WHveaVsA0KICAgIGhhbmRsZUNsb3NlKCkgew0KICAgICAgdGhpcy5Sb2xlRm9ybSA9IHt9ICAgLy/lhbPpl63op5LoibLlr7nor53moYbvvIzpppblhYjmuIXnqbogUm9sZUZvcm3op5LoibLlr7nosaHkv6Hmga8NCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZSAgLy/orr7nva7lr7nor53moYblj5jph4/kuLpmYWxzZe+8jOWvueivneahhuWwseS4jeaYvuekug0KICAgIH0sDQogICAgLy/liqDovb3pobXpnaLnmoTmiYDmnInnmoTop5LoibLkv6Hmga/jgIINCiAgICAvL+WmguaenHNlYXJjaEZvcm0ubmFtZeWxnuaAp+S4uuepuu+8jOS7o+ihqOaQnOe0ouagj+ayoeaciei+k+WFpeWGheWuue+8jOm7mOiupOWKoOi9veaJgOacieeahOinkuiJsuS/oeaBrw0KICAgIC8v5aaC5p6cc2VhcmNoRm9ybS5uYW1l5bGe5oCn5pyJ5YC877yM5Luj6KGo5pCc57Si5qCP55qE6L6T5YWl5pyJ5YaF5a6577yM5oyJ54Wn5YaF5a655Y675pyN5Yqh5Zmo5qih57OK5p+l6K+i55u45YWz55qE6KeS6Imy5L+h5oGvDQogICAgbG9hZFJvbGVMaXN0KCkgew0KICAgICAgLy/or7fmsYLmnI3liqHlmajvvIzliqDovb0g5omA5pyJ55qE6KeS6Imy55qE5L+h5oGv77yM6LWL5YC857uZIHRoaXMudGFibGVEYXRhDQogICAgICB0aGlzLiRheGlvcy5nZXQoJy9zeXN0ZW0vcm9sZS9saXN0Jywgew0KICAgICAgICBwYXJhbXM6IHsNCiAgICAgICAgICBuYW1lOiB0aGlzLnNlYXJjaEZvcm0ubmFtZSwNCiAgICAgICAgICBjdXJyZW50OiB0aGlzLmN1cnJlbnQsDQogICAgICAgICAgc2l6ZTogdGhpcy5zaXplDQogICAgICAgIH0NCiAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlc3BvbnNlLmRhdGEucmVzdWx0ZGF0YS5yZWNvcmRzDQogICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnJlc3VsdGRhdGEudG90YWwNCiAgICAgICAgdGhpcy5zaXplID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRkYXRhLnNpemUNCiAgICAgICAgdGhpcy5jdXJyZW50ID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRkYXRhLmN1cnJlbnQNCiAgICAgIH0pDQoNCiAgICAgIC8v6K+35rGC5pyN5Yqh5Zmo77yM6I635b6X5omA5pyJ55qE5p2D6ZmQ55qE5pWw5o2u57uZ5YiwUGVybVRyZWVEYXRhOg0KICAgICAgdGhpcy4kYXhpb3MuZ2V0KCcvc3lzdGVtL21lbnUvbGlzdCcpLnRoZW4ocmVwb25zZSA9PiB7DQogICAgICAgIHRoaXMucGVybVRyZWVEYXRhID0gcmVwb25zZS5kYXRhLnJlc3VsdGRhdGENCiAgICAgIH0pDQogICAgfSwNCiAgICAvLyBkZWxldGVSb2xlICgpIHsgIC8v5Yig6Zmk6KeS6Imy55qE5pa55rOVDQogICAgLy8gICBjb25zb2xlLmxvZygxKTsNCiAgICAvLyB9LA0KICAgIHNlbGVjdGlvbkNoYW5nZSh2YWx1ZSkgeyAvL+mAieS4reihqOagvOeahOWkjemAieahhiDopoHmiafooYznmoTmk43kvZwNCiAgICAgIHRoaXMuc2VsZWN0aW9uID0gdmFsdWU7ICAvL+WwhuihqOagvOWkjemAieahhiDpgInkuK3nmoQg6KeS6Imy5a+56LGh6LWL5YC857uZIHNlbGVjdGlvbiDmlbDnu4QNCiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbikgew0KICAgICAgICB0aGlzLmRlbGV0ZUFsbEJ0blN0dSA9ICh0aGlzLnNlbGVjdGlvbi5sZW5ndGggPT09IDApDQogICAgICB9DQogICAgfSwNCiAgICBlZGl0Um9sZShpZCkgeyAgLy/nvJbovpHop5LoibLnmoTmlrnms5UNCiAgICAgIC8v5qC55o2u6KeS6Imy55qEaWTmn6Xor6Lor6Xop5LoibLnmoTor6bnu4bkv6Hmga8NCiAgICAgIHRoaXMuJGF4aW9zKCcvc3lzdGVtL3JvbGUvcm9sZWluZm8vJyArIGlkKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5Sb2xlRm9ybSA9IHJlc3BvbnNlLmRhdGEucmVzdWx0ZGF0YQ0KICAgICAgICAvL1JvbGVGb3Jt5a+56LGhIOaYr+WSjCDop5LoibLlr7nor53moYYg5Lit6KGo5Y2V5piv5Y+M5ZCR5pWw5o2u57uR5a6a77yM5omA5LulICBSb2xlRm9ybeacieaVsOaNru+8jOWvueivneahhueahOihqOWNleWwseacieaVsOaNruOAgg0KICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZSAgLy/mmL7npLrlr7nor53moYYNCiAgICAgIH0pDQogICAgfSwNCiAgICBkZWxldGVSb2xlKGlkKSB7ICAvL+WIoOmZpOinkuiJsueahOaWueazlQ0KICAgICAgLy/liKDpmaTop5LoibLkuI7liKDpmaTnlKjmiLfmgJ3ot6/kuIDoh7TvvIzlpoLmnpxpZOayoeacieWAvO+8jOmCo+S5iOaJuemHj+WIoOmZpCggdGhpcy5zZWxlY3Rpb24gKe+8jOWmguaenGlk5pyJ5YC877yM6L+b6KGM5Y2V5Liq55So5oi35Yig6ZmkKCBpZCAp44CCDQogICAgICBsZXQgaWRzID0gW107DQogICAgICBpZCA/IGlkcy5wdXNoKGlkKSA6IHRoaXMuc2VsZWN0aW9uLmZvckVhY2gociA9PiB7DQogICAgICAgIGlkcy5wdXNoKHIuaWQpDQogICAgICB9KQ0KICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL3N5c3RlbS9yb2xlL2RlbGV0ZScsaWRzKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLA0KICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsDQogICAgICAgICAgLy/lrprkuYnkuIDkuKrlhbPpl63mtojmga/moYblm57osIPvvJoNCiAgICAgICAgICBvbkNsb3NlOiAoKSA9PiB7DQogICAgICAgICAgICB0aGlzLmxvYWRSb2xlTGlzdCgpICAgLy/pnIDopoHph43mlrDliqDovb3ooajmoLzkuK3op5LoibLnmoTmlbDmja4NCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfSkNCiAgICB9DQogIH0sDQogIGNvbXBvbmVudHM6IHt9DQp9DQo="},{"version":3,"sources":["Role.vue"],"names":[],"mappings":";AAwGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Role.vue","sourceRoot":"src/views/system","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 页面工具条表单 -->\r\n    <el-form ref=\"form\" :model=\"searchForm\" :inline=\"true\">\r\n      <el-form-item>\r\n        <el-input v-model=\"searchForm.name\" placeholder=\"请输入要搜索的角色\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button @click=\"loadRoleList\">搜索</el-button>\r\n        <el-button type=\"primary\" @click=\"dialogFormVisible=true\">新建</el-button>\r\n\r\n        <el-popconfirm title=\"确认要批量删除角色信息吗？\" @confirm=\"deleteRole\">\r\n          <el-button slot=\"reference\" type=\"danger\" :disabled=\"deleteAllBtnStu\">批量删除</el-button>\r\n        </el-popconfirm>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <!-- 显示所有角色的表格 -->\r\n    <el-table :data=\"tableData\" border stripe style=\"width: 100%; margin-bottom:20px;\" :cell-style=\"{ padding:'2px'}\"\r\n              @selection-change=\"selectionChange\">\r\n      <el-table-column type=\"selection\" width=\"50\">\r\n      </el-table-column>\r\n      <el-table-column label=\"角色名称\" width=\"200\" prop=\"name\">\r\n      </el-table-column>\r\n      <el-table-column label=\"角色编码\" width=\"150\" prop=\"code\">\r\n      </el-table-column>\r\n      <el-table-column label=\"描述\" width=\"500\" prop=\"remark\">\r\n      </el-table-column>\r\n      <el-table-column label=\"状态\" width=\"70\" prop=\"statu\">\r\n        <template slot-scope=\"scope\">\r\n          <!-- 取出当前这一行显示用户的状态： scope.row.statu -->\r\n          <!-- <el-tag size=\"mini\" type=\"success\">正常</el-tag> -->\r\n          <el-tag size=\"mini\" v-if=\"scope.row.statu===1\" type=\"success\">正常</el-tag>\r\n          <el-tag size=\"mini\" v-else-if=\"scope.row.statu===0\" type=\"danger\">禁用</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"text\" @click=\"PermHandler(scope.row.id)\">分配权限</el-button>\r\n          <el-divider direction=\"vertical\"></el-divider>\r\n          <el-button type=\"text\" @click=\"editRole(scope.row.id)\">编辑</el-button>\r\n          <el-divider direction=\"vertical\"></el-divider>\r\n\r\n\r\n          <el-popconfirm title=\"确认要删除该角色信息吗？\" @confirm=\"deleteRole(scope.row.id)\">\r\n            <el-button slot=\"reference\" type=\"text\">删除</el-button>\r\n          </el-popconfirm>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n\r\n    <!-- 显示分页页码 -->\r\n    <el-pagination background layout=\"total, sizes,prev, pager,\r\nnext,jumper\" :total=\"total\" :page-size=\"size\" :page-sizes=\"\r\n[5,10,15,20,25]\" :current-page=\"current\"\r\n                   @size-change=\"handlerSizeChange\"\r\n                   @current-change=\"handlerCurrentChange\">\r\n    </el-pagination>\r\n\r\n    <!-- 新建角色 编辑角色对话框 -->\r\n    <el-dialog title=\"角色信息\" :visible.sync=\"dialogFormVisible\" width=\"550px\" :before-close=\"handleClose\">\r\n      <el-form :model=\"RoleForm\" ref=\"RoleForm\" label-width=\"100px\" :rules=\"rules\">\r\n        <el-form-item label=\"角色名称\" label-width=\"100px\" prop=\"name\">\r\n          <el-input v-model=\"RoleForm.name\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色编码\" label-width=\"100px\" prop=\"code\">\r\n          <el-input v-model=\"RoleForm.code\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"描述\" label-width=\"100px\" prop=\"remark\">\r\n          <el-input v-model=\"RoleForm.remark\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"状态\" label-width=\"100px\">\r\n          <el-radio-group v-model=\"RoleForm.statu\">\r\n            <el-radio :label=\"0\">禁用</el-radio>\r\n            <el-radio :label=\"1\">正常</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"submitForm('RoleForm')\">保存角色</el-button>\r\n          <el-button @click=\"resetForm('RoleForm')\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n\r\n    <!-- 分配权限对话框 -->\r\n    <el-dialog title=\"分配权限\" :visible=\"dialogPermFormVisible\" width=\"400px\" :before-close=\"RoleDiaogClose\">\r\n      <el-form :model=\"PermForm\" ref=\"PermForm\" label-width=\"100px\" >\r\n        <el-tree ref=\"permTree\" :data=\"permTreeData\" show-checkbox node-key=\"id\" :check-strictly=\"true\" :default-expand-all=\"true\" :props=\"defaultProps\">\r\n        </el-tree>\r\n        <el-form-item>\r\n          <el-button type=\"primary\"\r\n                     @click=\"submitPermtForm('PermForm')\">确定</el-button>\r\n          <el-button @click=\"resetForm('PermForm')\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      //权限Tree控件的显示权限数据(显示所有的权限数据)\r\n      permTreeData:[],\r\n//分配权限的表单对象(角色权限)\r\n      PermForm: {},\r\n      //新建角色 和 编辑角色对话框中表单 对应的角色对象\r\n      RoleForm: {\r\n        name: '',\r\n        code: '',\r\n        remark: '',\r\n        statu: 0,\r\n      },\r\n      //Tree控件如何从 返回菜单数据中取值\r\n      defaultProps: {\r\n        children: 'children',\r\n        label: 'name'\r\n      },\r\n      selection: [],  //复选框选中的角色的对象\r\n      tableData: [],  //所有角色的数据\r\n      deleteAllBtnStu: true,   //批量删除角色的按钮是否可用，默认是true，不可用\r\n      dialogFormVisible: false,  //新建角色的对话框是否显示的变量\r\n      dialogPermFormVisible:false,//分配权限对话框是否显示\r\n      // //搜索栏对象\r\n      searchForm: {\r\n        name: ''    //角色名称\r\n      },\r\n      //用户数据显示 分页相关数据\r\n      total: 0,  //分页显示：用户的总记录数\r\n      size: 10,   //分页显示：一页显示的记录数\r\n      current: 1,  //分页显示：当前显示的页码，就是第几页\r\n\r\n      rules: {\r\n        name: [\r\n          //非空验证\r\n          {required: true, message: '请输入角色的名称', trigger: 'blur'}\r\n        ],\r\n        code: [\r\n          {required: true, message: '请输入角色编码', trigger: 'blur'}\r\n        ],\r\n        remark: [\r\n          {required: true, message: '请输角色信息的描述', trigger: 'blur'},\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.loadRoleList()\r\n  },\r\n  methods: {\r\n    submitPermtForm(){\r\n      let menuIds=this.$refs.permTree.getCheckedKeys();\r\n      console.log(1)\r\n      this.$axios.post('/system/role/perm/'+this.PermForm.id,menuIds)\r\n      .then(response=>{\r\n        this.$message({\r\n          message: \"权限数据保存成功\",\r\n          type: 'success',\r\n          showClose: true,\r\n          // duration: 1500,\r\n          onClose: () => {\r\n            this.RoleDiaogClose()\r\n            this.loadRoleList() //新建用户成功后，需要重新加载用户数据\r\n          }\r\n        });\r\n      })\r\n    },\r\n    //分配权限的方法\r\n    PermHandler(role_id){\r\n      this.dialogPermFormVisible=true;\r\n      //加载请求当前角色的权限信息\r\n\r\n      this.$axios.get('/system/role/roleinfo/'+role_id)\r\n      .then(response=>{\r\n        this.$refs.permTree.setCheckedKeys(response.data.resultdata.menuIds);\r\n        this.PermForm=response.data.resultdata;\r\n      })\r\n    },\r\n\r\n    //关闭分配权限对话框\r\n    RoleDiaogClose() {\r\n//this.$refs[formName].resetFields();\r\n      this.PermForm = {}\r\n      this.dialogPermFormVisible = false\r\n    },\r\n\r\n    //【分页方法】：修改一页显示的记录数 val参数就是切换的一个最新个数\r\n    handlerSizeChange(val) {\r\n      this.size = val\r\n      this.loadRoleList() //重新加载角色的数据\r\n    },\r\n//【分页方法】：切换页码，请求新一页数据\r\n    handlerCurrentChange(val) { //参数val 就是点击的新的页码\r\n      this.current = val\r\n      this.loadRoleList()\r\n    },\r\n\r\n\r\n    //保存新建角色信息。\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          //请求服务器进行  保存角色  或者  更新角色  操作\r\n          //this.$axios.post(路径,参数)\r\n          this.$axios.post('/system/role/' + (this.RoleForm.id ? 'update' : 'save'), this.RoleForm)\r\n              .then((response) => {\r\n                this.$message({\r\n                  message: response.data.message,\r\n                  type: 'success',\r\n                  // showClose: true,\r\n                  duration: 1500,\r\n                  onClose: () => {\r\n                    this.loadRoleList() //新建用户成功后，需要重新加载用户数据\r\n                    this.dialogFormVisible = false  //用户保存成功，对话框隐藏\r\n                    this.resetForm(formName)   //用户保存成功，表单重置\r\n                  }\r\n                });\r\n              })\r\n        }\r\n      })\r\n    },\r\n    //重置新建或编辑角色 对话框表单的 方法\r\n    resetForm(formName) {\r\n      this.RoleForm = {}\r\n      this.$refs[formName].resetFields();\r\n    },\r\n    //关闭新建或者 编辑角色对话框的回调函数\r\n    handleClose() {\r\n      this.RoleForm = {}   //关闭角色对话框，首先清空 RoleForm角色对象信息\r\n      this.dialogFormVisible = false  //设置对话框变量为false，对话框就不显示\r\n    },\r\n    //加载页面的所有的角色信息。\r\n    //如果searchForm.name属性为空，代表搜索栏没有输入内容，默认加载所有的角色信息\r\n    //如果searchForm.name属性有值，代表搜索栏的输入有内容，按照内容去服务器模糊查询相关的角色信息\r\n    loadRoleList() {\r\n      //请求服务器，加载 所有的角色的信息，赋值给 this.tableData\r\n      this.$axios.get('/system/role/list', {\r\n        params: {\r\n          name: this.searchForm.name,\r\n          current: this.current,\r\n          size: this.size\r\n        }\r\n      }).then(response => {\r\n        this.tableData = response.data.resultdata.records\r\n        this.total = response.data.resultdata.total\r\n        this.size = response.data.resultdata.size\r\n        this.current = response.data.resultdata.current\r\n      })\r\n\r\n      //请求服务器，获得所有的权限的数据给到PermTreeData:\r\n      this.$axios.get('/system/menu/list').then(reponse => {\r\n        this.permTreeData = reponse.data.resultdata\r\n      })\r\n    },\r\n    // deleteRole () {  //删除角色的方法\r\n    //   console.log(1);\r\n    // },\r\n    selectionChange(value) { //选中表格的复选框 要执行的操作\r\n      this.selection = value;  //将表格复选框 选中的 角色对象赋值给 selection 数组\r\n      if (this.selection) {\r\n        this.deleteAllBtnStu = (this.selection.length === 0)\r\n      }\r\n    },\r\n    editRole(id) {  //编辑角色的方法\r\n      //根据角色的id查询该角色的详细信息\r\n      this.$axios('/system/role/roleinfo/' + id).then(response => {\r\n        this.RoleForm = response.data.resultdata\r\n        //RoleForm对象 是和 角色对话框 中表单是双向数据绑定，所以  RoleForm有数据，对话框的表单就有数据。\r\n        this.dialogFormVisible = true  //显示对话框\r\n      })\r\n    },\r\n    deleteRole(id) {  //删除角色的方法\r\n      //删除角色与删除用户思路一致，如果id没有值，那么批量删除( this.selection )，如果id有值，进行单个用户删除( id )。\r\n      let ids = [];\r\n      id ? ids.push(id) : this.selection.forEach(r => {\r\n        ids.push(r.id)\r\n      })\r\n      this.$axios.post('/system/role/delete',ids).then(response => {\r\n        this.$message({\r\n          message: response.data.message,\r\n          type: 'success',\r\n          showClose: true,\r\n          //定义一个关闭消息框回调：\r\n          onClose: () => {\r\n            this.loadRoleList()   //需要重新加载表格中角色的数据\r\n          }\r\n        });\r\n      })\r\n    }\r\n  },\r\n  components: {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n"]}]}