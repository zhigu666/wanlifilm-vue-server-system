{"remainingRequest":"D:\\vue_workspace\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue_workspace\\vue_server_system\\src\\views\\system\\Menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue_workspace\\vue_server_system\\src\\views\\system\\Menu.vue","mtime":1680742901659},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vue_workspace\\vue_server_system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIE1lbnVGb3JtOiBbXSwNCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwNCiAgICAgIHRhYmxlRGF0YTogW10sLy/oj5zljZXooajmoLzmmL7npLrmlbDmja4NCiAgICAgIE1lbnVSdWxlczogew0KICAgICAgICBwYXJlbnRJZDpbe3JlcXVpcmVkOnRydWUsbWVzc2FnZTon6K+36YCJ5oup5LiK57qn6I+c5Y2VJyx0cmlnZ2VyOidibHVyJ31dLA0KICAgICAgICBuYW1lOlt7cmVxdWlyZWQ6dHJ1ZSxtZXNzYWdlOifor7fovpPlhaXoj5zljZXnmoTlkI3np7AnLHRyaWdnZXI6J2JsdXInfV0sDQogICAgICAgIHBlcm1zOlt7cmVxdWlyZWQ6dHJ1ZSxtZXNzYWdlOifor7fovpPlhaXoj5zljZXnmoTmnYPpmZDnvJbnoIEnLHRyaWdnZXI6J2JsdXInfV0sDQogICAgICAgIHR5cGU6W3tyZXF1aXJlZDp0cnVlLG1lc3NhZ2U6J+ivt+i+k+WFpeiPnOWNleeahOexu+WeiycsdHJpZ2dlcjonYmx1cid9XSwNCiAgICAgICAgc3RhdHU6W3tyZXF1aXJlZDp0cnVlLG1lc3NhZ2U6J+ivt+i+k+WFpeiPnOWNleeahOeKtuaAgScsdHJpZ2dlcjonYmx1cid9XSwNCiAgICAgIH0sDQogICAgfQ0KICB9LA0KICBjb21wb25lbnRzOiB7fSwNCiAgcHJvcHM6IHt9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMubG9hZE1lbnVMaXN0KCkNCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgc3VibWl0Rm9ybShmb3JtTmFtZSl7DQogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZSh2YWxpZCA9PnsNCiAgICAgICAgaWYgKHZhbGlkKXsNCiAgICAgICAgICB0aGlzLiRheGlvcy5wb3N0KCcvc3lzdGVtL21lbnUvJysodGhpcy5NZW51Rm9ybS5pZCA/ICd1cGRhdGUnIDogJ3NhdmUnKSwgdGhpcy5NZW51Rm9ybSkNCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpPT57DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgbWVzc2FnZTpyZXNwb25zZS5kYXRhLm1lc3NhZ2UsDQogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwNCiAgICAgICAgICAgICAgZHVyYXRpb246MTIwMCwNCiAgICAgICAgICAgICAgb25DbG9zZTogKCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMubG9hZE1lbnVMaXN0KCkNCiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2UNCiAgICAgICAgICAgICAgICB0aGlzLnJlc3RGb3JtKGZvcm1OYW1lKQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9KQ0KICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICByZXN0Rm9ybShmb3JtTmFtZSl7DQogICAgICB0aGlzLk1lbnVGb3JtPXt9DQogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS5yZXNldEZpZWxkcygpDQogICAgfSwNCiAgICBoYW5kbGVDbG9zZSgpIHsNCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZQ0KICAgICAgdGhpcy5yZXN0Rm9ybSgnTWVudUZvcm0nKQ0KICAgIH0sDQogICAgZWRpdE1lbnUoaWQpIHsNCiAgICAgIHRoaXMuJGF4aW9zLmdldCgnL3N5c3RlbS9tZW51L2luZm8vJyArIGlkKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5NZW51Rm9ybT1yZXNwb25zZS5kYXRhLnJlc3VsdGRhdGENCiAgICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZT10cnVlDQogICAgICB9KQ0KICAgIH0sDQogICAgZGVsZXRlTWVudShpZCkgew0KICAgICAgdGhpcy4kYXhpb3MucG9zdCgnL3N5c3RlbS9tZW51L2RlbGV0ZScsaWQpDQogICAgICAudGhlbigocmVzcG9uc2UpPT57DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIG1lc3NhZ2U6cmVzcG9uc2UuZGF0YS5tZXNzYWdlLA0KICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwNCiAgICAgICAgICBkdXJhdGlvbjoxMjAwLA0KICAgICAgICAgIG9uQ2xvc2U6ICgpID0+IHsNCiAgICAgICAgICAgIHRoaXMubG9hZE1lbnVMaXN0KCkNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgfSkNCiAgICB9LA0KDQogICAgbG9hZE1lbnVMaXN0KCkgew0KICAgICAgdGhpcy4kYXhpb3MuZ2V0KCcvc3lzdGVtL21lbnUvbGlzdCcpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlc3BvbnNlLmRhdGEucmVzdWx0ZGF0YQ0KICAgICAgfSkNCiAgICB9LA0KICB9DQoNCg0KfQ0K"},{"version":3,"sources":["Menu.vue"],"names":[],"mappings":";AAsHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA","file":"Menu.vue","sourceRoot":"src/views/system","sourcesContent":["<template>\r\n  <div>\r\n    <!--    创建菜单页面工具栏-->\r\n    <el-form :inline=\"true\">\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"dialogFormVisible=true\">新建菜单</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <!--    菜单表格-->\r\n    <el-table :data=\"tableData\" default-expand-all border row-key=\"id\"\r\n              :tree-props=\"{children:'children',hasChildren:'hasChildren'}\" style=\"width: 100%; margin-bottom:20px;\"\r\n              :cell-style=\"{padding:'2px'}\">\r\n      <el-table-column label=\"名称\" width=\"180\" prop=\"name\">\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"权限编码\" width=\"180\" prop=\"perms\">\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"菜单图标\" width=\"180\" prop=\"icon\">\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"菜单类别\" width=\"120\" prop=\"type\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag size=\"mini\" v-if=\"scope.row.type===0\">目录</el-tag>\r\n          <el-tag size=\"mini\" v-else-if=\"scope.row.type===1\" type=\"success\">菜单</el-tag>\r\n          <el-tag size=\"mini\" v-else-if=\"scope.row.type===2\" type=\"warning\">按钮</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"菜单URL\" prop=\"path\">\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"菜单组件\" prop=\"component\">\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"状态\" prop=\"statu\">\r\n        <template slot-scope=\"scope\">\r\n          <!--        <el-tag size=\"mini\" type=\"success\">正常</el-tag>-->\r\n          <el-tag size=\"mini\" v-if=\"scope.row.statu===1\" type=\"success\">正常</el-tag>\r\n          <el-tag size=\"mini\" v-else-if=\"scope.row.statu===0\" type=\"danger\">禁用</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"text\" @click=\"editMenu(scope.row.id)\">编辑</el-button>\r\n          <el-divider direction=\"vertical\"></el-divider>\r\n          <el-popconfirm title=\"确认要删除该菜单信息吗？\" @confirm=\"deleteMenu(scope.row.id)\">\r\n            <el-button slot=\"reference\" type=\"text\">删除</el-button>\r\n          </el-popconfirm>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!--    新建菜单对话框-->\r\n    <el-dialog title=\"用户信息\" :visible.sync=\"dialogFormVisible\" width=\"550px\" :before-close=\"handleClose\">\r\n      <el-form :model=\"MenuForm\" ref=\"MenuForm\" label-width=\"100px\" :rules=\"MenuRules\">\r\n        <el-form-item label=\"上级菜单\" prop=\"parentId\">\r\n          <el-select v-model=\"MenuForm.parentId\" placeholder=\"请选择上级菜单\">\r\n            <template v-for=\"(item,index) in tableData\">\r\n              <el-option :key=\"item.id\" :label=\"item.name\" :value=\"item.id\">\r\n              </el-option>\r\n              <!--            二级菜单-->\r\n              <template v-for=\"(childMenu,i) in item.children\">\r\n                <el-option :label=\"childMenu.name\" :value=\"childMenu.id\" :key=\"childMenu.id\">\r\n                  <span style=\"padding-left: 20px;\">{{ ' -' + childMenu.name }}</span>\r\n                </el-option>\r\n              </template>\r\n            </template>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"菜单名称\" label-width=\"100px\" prop=\"name\">\r\n          <el-input v-model=\"MenuForm.name\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"权限编码\" label-width=\"100px\" prop=\"perms\">\r\n          <el-input v-model=\"MenuForm.perms\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"图标\" label-width=\"100px\" prop=\"icon\">\r\n          <el-input v-model=\"MenuForm.icon\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"菜单URL\" label-width=\"100px\" prop=\"path\">\r\n          <el-input v-model=\"MenuForm.path\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"菜单组件\" label-width=\"100px\" prop=\"component\">\r\n          <el-input v-model=\"MenuForm.component\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"菜单类型\" label-width=\"100px\" prop=\"type\">\r\n          <el-radio-group v-model=\"MenuForm.type\">\r\n            <el-radio :label=\"0\">目录</el-radio>\r\n            <el-radio :label=\"1\">菜单</el-radio>\r\n            <el-radio :label=\"2\">按钮</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"菜单状态\" label-width=\"100px\" prop=\"statu\">\r\n          <el-radio-group v-model=\"MenuForm.statu\">\r\n            <el-radio :label=\"0\">禁用</el-radio>\r\n            <el-radio :label=\"1\">正常</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"submitForm('MenuForm')\">保存菜单</el-button>\r\n          <el-button @click=\"restForm('MenuForm')\">重置</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      MenuForm: [],\r\n      dialogFormVisible: false,\r\n      tableData: [],//菜单表格显示数据\r\n      MenuRules: {\r\n        parentId:[{required:true,message:'请选择上级菜单',trigger:'blur'}],\r\n        name:[{required:true,message:'请输入菜单的名称',trigger:'blur'}],\r\n        perms:[{required:true,message:'请输入菜单的权限编码',trigger:'blur'}],\r\n        type:[{required:true,message:'请输入菜单的类型',trigger:'blur'}],\r\n        statu:[{required:true,message:'请输入菜单的状态',trigger:'blur'}],\r\n      },\r\n    }\r\n  },\r\n  components: {},\r\n  props: {},\r\n  created() {\r\n    this.loadMenuList()\r\n  },\r\n\r\n  methods: {\r\n    submitForm(formName){\r\n      this.$refs[formName].validate(valid =>{\r\n        if (valid){\r\n          this.$axios.post('/system/menu/'+(this.MenuForm.id ? 'update' : 'save'), this.MenuForm)\r\n          .then((response)=>{\r\n            this.$message({\r\n              message:response.data.message,\r\n              type: \"success\",\r\n              duration:1200,\r\n              onClose: () => {\r\n                this.loadMenuList()\r\n                this.dialogFormVisible = false\r\n                this.restForm(formName)\r\n              }\r\n            });\r\n          })\r\n        }else {\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    restForm(formName){\r\n      this.MenuForm={}\r\n      this.$refs[formName].resetFields()\r\n    },\r\n    handleClose() {\r\n      this.dialogFormVisible = false\r\n      this.restForm('MenuForm')\r\n    },\r\n    editMenu(id) {\r\n      this.$axios.get('/system/menu/info/' + id).then(response => {\r\n        this.MenuForm=response.data.resultdata\r\n        this.dialogFormVisible=true\r\n      })\r\n    },\r\n    deleteMenu(id) {\r\n      this.$axios.post('/system/menu/delete',id)\r\n      .then((response)=>{\r\n        this.$message({\r\n          message:response.data.message,\r\n          type: \"success\",\r\n          duration:1200,\r\n          onClose: () => {\r\n            this.loadMenuList()\r\n          }\r\n        });\r\n      })\r\n    },\r\n\r\n    loadMenuList() {\r\n      this.$axios.get('/system/menu/list').then(response => {\r\n        this.tableData = response.data.resultdata\r\n      })\r\n    },\r\n  }\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}